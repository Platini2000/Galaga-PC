const _0x24c887=_0x21ee;(function(_0x1684f9,_0x50ffcb){const _0x2f7994=_0x21ee,_0x115258=_0x1684f9();while(!![]){try{const _0x368ce9=parseInt(_0x2f7994(0x1a3))/0x1*(parseInt(_0x2f7994(0x16c))/0x2)+-parseInt(_0x2f7994(0x1bd))/0x3+-parseInt(_0x2f7994(0x205))/0x4+-parseInt(_0x2f7994(0x208))/0x5*(-parseInt(_0x2f7994(0x187))/0x6)+parseInt(_0x2f7994(0x1ff))/0x7*(parseInt(_0x2f7994(0x18a))/0x8)+-parseInt(_0x2f7994(0x171))/0x9*(-parseInt(_0x2f7994(0x16f))/0xa)+-parseInt(_0x2f7994(0x1f3))/0xb*(parseInt(_0x2f7994(0x1e1))/0xc);if(_0x368ce9===_0x50ffcb)break;else _0x115258['push'](_0x115258['shift']());}catch(_0x3c19a3){_0x115258['push'](_0x115258['shift']());}}}(_0x120a,0x1fb25));function _0x21ee(_0x3feb16,_0x5296a8){const _0x120afa=_0x120a();return _0x21ee=function(_0x21ee73,_0xe6f5f4){_0x21ee73=_0x21ee73-0x16a;let _0x1e3c1f=_0x120afa[_0x21ee73];return _0x1e3c1f;},_0x21ee(_0x3feb16,_0x5296a8);}const MENU_LOGO_APPROX_HEIGHT=0x55,MENU_SUBTITLE_TEXT='Written\x20By\x20Platini2000(c)',MENU_SUBTITLE_FONT=_0x24c887(0x1eb),MENU_SUBTITLE_COLOR=_0x24c887(0x21a),MENU_BUTTON_FONT='22px\x20\x27Arial\x20Black\x27,\x20Gadget,\x20sans-serif',MENU_BUTTON_COLOR=_0x24c887(0x1b9),MENU_BUTTON_COLOR_HOVER='rgba(0,\x20191,\x20255,\x200.9)',MENU_BUTTON_WIDTH=0x12c,MENU_BUTTON_HEIGHT=0x37,MENU_LOGO_BOTTOM_TO_START_GAP=0x5,MENU_BUTTON_V_GAP=-0xf,MENU_BUTTON_SUBTITLE_V_GAP=-0x0,MENU_SCORE_FONT='20px\x20\x27Press\x20Start\x202P\x27',MENU_SCORE_COLOR=_0x24c887(0x1b9),MENU_SCORE_LABEL_COLOR=_0x24c887(0x1e2),GAME_OVER_FONT=_0x24c887(0x1ab),GAME_OVER_COLOR=_0x24c887(0x1d2),GAME_OVER_SHADOW=!![],DEMO_TEXT_LINE1_FONT=_0x24c887(0x1ab),DEMO_TEXT_COLOR='rgba(0,\x20191,\x20255,\x200.9)',DEMO_TEXT_BLINK_ON_MS=0x3e8,DEMO_TEXT_BLINK_OFF_MS=0x3e8,DEMO_TEXT_BLINK_CYCLE_MS=DEMO_TEXT_BLINK_ON_MS+DEMO_TEXT_BLINK_OFF_MS,LOGO_SCALE_FACTOR=0.45,MENU_LOGO_EXTRA_Y_OFFSET=0x0,MENU_GENERAL_Y_OFFSET=0x32,INTRO_TEXT_FONT=_0x24c887(0x1ab),INTRO_TEXT_COLOR_NORMAL=_0x24c887(0x1d2),INTRO_TEXT_COLOR_DARK_YELLOW='yellow',INTRO_TEXT_COLOR_CS_TEXT=INTRO_TEXT_COLOR_NORMAL,PERFECT_TEXT_COLOR='red',EXTRA_LIFE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,READY_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_BONUS_SCORE_TEXT_COLOR=INTRO_TEXT_COLOR_DARK_YELLOW,CS_CLEAR_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_HITS_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_CLEAR_SCORE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,PAUSE_TEXT_FONT=INTRO_TEXT_FONT,PAUSE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,PAUSE_TEXT_SHADOW=!![],RESULTS_SCREEN_DURATION=0x4e20,PLAYER_GAME_OVER_MESSAGE_DURATION=0x1388,SCORE_SCREEN_TEXT_FONT=INTRO_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_TOP=INTRO_TEXT_COLOR_NORMAL,SCORE_SCREEN_TEXT_COLOR_BONUS=INTRO_TEXT_COLOR_DARK_YELLOW,SCORE_SCREEN_LINE_V_SPACING=0x28,SCORE_SCREEN_ICON_TEXT_H_SPACING=0xf,SCORE_SCREEN_VERTICAL_OFFSET=0x4b,RESULTS_HEADER_COLOR=_0x24c887(0x21a),RESULTS_VALUE_COLOR_YELLOW=INTRO_TEXT_COLOR_DARK_YELLOW,RESULTS_LABEL_COLOR=_0x24c887(0x1b9),RESULTS_VALUE_COLOR_CYAN=INTRO_TEXT_COLOR_NORMAL,RESULTS_LINE_V_SPACING_SINGLE=0x23,RESULTS_LINE_V_SPACING_DOUBLE=0x5a,RESULTS_START_Y=0x9b,RESULTS_FOOTER_FONT=MENU_SUBTITLE_FONT,RESULTS_FOOTER_COLOR=RESULTS_HEADER_COLOR,CS_MESSAGE_VERTICAL_OFFSET=0x1e;function getSubtitleApproxHeight(_0x443ec0){const _0x2db177=_0x24c887,_0x3f0ba6=_0x443ec0[_0x2db177(0x179)](/(\d+)px/);return _0x3f0ba6?.[0x1]?parseInt(_0x3f0ba6[0x1],0xa):0x19;}function formatMillisecondsToMMSS(_0x1967f1){const _0x41aaae=_0x24c887;if(_0x1967f1<=0x0||typeof _0x1967f1!=='number'||!isFinite(_0x1967f1))return _0x41aaae(0x19f);const _0x36a8c5=Math['floor'](_0x1967f1/0x3e8),_0x217dd3=Math[_0x41aaae(0x1f9)](_0x36a8c5/0x3c),_0x4bc2f7=_0x36a8c5%0x3c,_0x183994=String(_0x217dd3)[_0x41aaae(0x20c)](0x2,'0'),_0x41c3cc=String(_0x4bc2f7)[_0x41aaae(0x20c)](0x2,'0');return _0x183994+':'+_0x41c3cc;}function getMenuButtonRect(_0x1c2212){const _0x3a7196=_0x24c887;if(!gameCtx||!gameCanvas||gameCanvas[_0x3a7196(0x1e4)]===0x0||gameCanvas[_0x3a7196(0x1fd)]===0x0)return null;const _0x363e87=gameCanvas[_0x3a7196(0x1e4)],_0x3291a4=gameCanvas[_0x3a7196(0x1fd)],_0xdf9c39=_0x363e87/0x2-MENU_BUTTON_WIDTH/0x2-0x1;let _0x14f520=MENU_LOGO_APPROX_HEIGHT;typeof logoImage!==_0x3a7196(0x186)&&logoImage['complete']&&logoImage[_0x3a7196(0x181)]!==0x0&&(_0x14f520=logoImage['naturalHeight']*LOGO_SCALE_FACTOR);const _0x35fa76=getSubtitleApproxHeight(MENU_SUBTITLE_FONT),_0x10b688=_0x14f520+MENU_LOGO_BOTTOM_TO_START_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_SUBTITLE_V_GAP+_0x35fa76;let _0x26bde0=(_0x3291a4-_0x10b688)/0x2-0x46;_0x26bde0+=MENU_GENERAL_Y_OFFSET;const _0x3e5d56=_0x26bde0+_0x14f520+MENU_LOGO_BOTTOM_TO_START_GAP,_0x1c4ceb=_0x3e5d56+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP;if(_0x1c2212===0x0)return{'x':_0xdf9c39,'y':Math[_0x3a7196(0x1ef)](_0x3e5d56),'width':MENU_BUTTON_WIDTH,'height':MENU_BUTTON_HEIGHT};else{if(_0x1c2212===0x1)return{'x':_0xdf9c39,'y':Math[_0x3a7196(0x1ef)](_0x1c4ceb),'width':MENU_BUTTON_WIDTH,'height':MENU_BUTTON_HEIGHT};}return null;}function pollControllerForMenu(){const _0x50de6b=_0x24c887;try{if(connectedGamepadIndex===null&&connectedGamepadIndexP2===null){joystickMovedVerticallyLastFrame=![];if(previousButtonStates['length']>0x0)previousButtonStates=[];if(previousGameButtonStates[_0x50de6b(0x1e9)]>0x0)previousGameButtonStates=[];if(previousGameButtonStatesP2[_0x50de6b(0x1e9)]>0x0)previousGameButtonStatesP2=[];return;}let _0x2ec3b9=connectedGamepadIndex!==null?connectedGamepadIndex:connectedGamepadIndexP2;if(_0x2ec3b9===null)return;const _0x3774c9=navigator['getGamepads']();if(!_0x3774c9?.[_0x2ec3b9])return;const _0x300713=_0x3774c9[_0x2ec3b9],_0x5c4b0e=_0x300713[_0x50de6b(0x1fc)][_0x50de6b(0x19e)](_0xca9bb7=>_0xca9bb7[_0x50de6b(0x19a)]),_0x2e5a46=_0x5c4b0e,_0x36ff81=_0x5c4b0e;let _0x743e77=![];const _0x1e4e98=Date[_0x50de6b(0x21c)]();let _0x1120bf=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x1120bf=!![]);if(_0x1120bf){connectedGamepadIndex!==null&&(previousButtonStates=_0x2e5a46[_0x50de6b(0x1a9)](),previousGameButtonStates=_0x36ff81[_0x50de6b(0x1a9)]());if(connectedGamepadIndexP2!==null){const _0x1fbc86=navigator['getGamepads']();_0x1fbc86?.[connectedGamepadIndexP2]&&(previousGameButtonStatesP2=_0x1fbc86[connectedGamepadIndexP2][_0x50de6b(0x1fc)][_0x50de6b(0x19e)](_0x57e92e=>_0x57e92e['pressed']));}return;}if(isInGameState&&playerLives>0x0&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){const _0x56674c=_0x36ff81[PS5_BUTTON_TRIANGLE],_0x33b66f=previousGameButtonStates[PS5_BUTTON_TRIANGLE]??![];_0x56674c&&!_0x33b66f&&(stopGameAndShowMenu(),_0x743e77=!![]);}if(!_0x743e77&&isInGameState&&playerLives>0x0&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){const _0x25bffc=_0x36ff81[PS5_BUTTON_R1],_0x380285=previousGameButtonStates[PS5_BUTTON_R1]??![];if(_0x25bffc&&!_0x380285){if(typeof togglePause===_0x50de6b(0x1fa))togglePause();_0x743e77=!![];}}if(!_0x743e77){const _0x1cbbea=isShowingScoreScreen;if(_0x1cbbea){let _0x26d09b=![];for(let _0x202ca5=0x0;_0x202ca5<_0x2e5a46[_0x50de6b(0x1e9)];_0x202ca5++){if(_0x202ca5===PS5_BUTTON_R1||_0x202ca5===PS5_BUTTON_TRIANGLE)continue;const _0x9bcf87=previousButtonStates[_0x202ca5]??![];if(_0x2e5a46[_0x202ca5]&&!_0x9bcf87){_0x26d09b=!![];break;}}if(_0x26d09b){if(typeof showMenuState===_0x50de6b(0x1fa))showMenuState();_0x743e77=!![];}}else{if(!isInGameState&&!_0x743e77){const _0x3fa2c5=_0x2e5a46[PS5_BUTTON_CROSS],_0x1b38c4=previousButtonStates[PS5_BUTTON_CROSS]??![],_0x41d252=_0x2e5a46[PS5_BUTTON_CIRCLE],_0xa1607d=previousButtonStates[PS5_BUTTON_CIRCLE]??![],_0x590da7=_0x300713[_0x50de6b(0x1b6)][PS5_LEFT_STICK_Y]??0x0,_0x5916b7=_0x2e5a46[PS5_DPAD_UP],_0x10d470=_0x2e5a46[PS5_DPAD_DOWN];let _0x54ed5e=0x0;if(_0x590da7<-AXIS_DEAD_ZONE_MENU||_0x5916b7)_0x54ed5e=-0x1;else{if(_0x590da7>AXIS_DEAD_ZONE_MENU||_0x10d470)_0x54ed5e=0x1;}let _0x2c8f10=_0x54ed5e!==0x0;if(_0x2c8f10&&!joystickMovedVerticallyLastFrame){let _0x253000=selectedButtonIndex;const _0x33bd83=0x2;_0x253000===-0x1?_0x253000=_0x54ed5e===0x1?0x0:_0x33bd83-0x1:_0x253000+=_0x54ed5e;if(_0x253000<0x0)_0x253000=_0x33bd83-0x1;if(_0x253000>=_0x33bd83)_0x253000=0x0;_0x253000!==selectedButtonIndex&&(selectedButtonIndex=_0x253000,startAutoDemoTimer());}joystickMovedVerticallyLastFrame=_0x2c8f10;if(_0x3fa2c5&&!_0x1b38c4){stopAutoDemoTimer();if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0x50de6b(0x18d):selectedFiringMode=_0x50de6b(0x17a),baseStartGame(!![]),_0x743e77=!![];else{if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P(),_0x743e77=!![];else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer(),_0x743e77=!![];else selectedButtonIndex===0x1&&(exitGame(),_0x743e77=!![]);}}}if(!_0x743e77&&_0x41d252&&!_0xa1607d){stopAutoDemoTimer();if(isFiringModeSelectMode)isFiringModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer(),_0x743e77=!![];else isPlayerSelectMode?(isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer(),_0x743e77=!![]):(triggerFullscreen(),playSound(menuMusicSound),_0x743e77=!![]);}}}}connectedGamepadIndex!==null&&(previousButtonStates=_0x2e5a46[_0x50de6b(0x1a9)](),previousGameButtonStates=_0x36ff81[_0x50de6b(0x1a9)]());if(connectedGamepadIndexP2!==null){const _0xd91d71=navigator[_0x50de6b(0x1c5)]();_0xd91d71?.[connectedGamepadIndexP2]&&(previousGameButtonStatesP2=_0xd91d71[connectedGamepadIndexP2][_0x50de6b(0x1fc)][_0x50de6b(0x19e)](_0x3ba251=>_0x3ba251[_0x50de6b(0x19a)]));}}catch(_0x3f597a){console[_0x50de6b(0x1c1)]('Error\x20in\x20pollControllerForMenu:',_0x3f597a),previousButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[],selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![];}}function startAutoDemoTimer(){const _0x49fc34=_0x24c887;try{stopAutoDemoTimer(),autoStartTimerId=setTimeout(()=>{!isInGameState&&!isShowingScoreScreen?(isPlayerSelectMode=![],isFiringModeSelectMode=![],showScoreScreen()):autoStartTimerId=null;},MENU_INACTIVITY_TIMEOUT);}catch(_0x477086){console[_0x49fc34(0x1c1)]('Error\x20starting\x20auto\x20demo\x20timer:',_0x477086);}}function stopAutoDemoTimer(){const _0x32b1a9=_0x24c887;try{autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null);}catch(_0x3edd2b){console[_0x32b1a9(0x1c1)](_0x32b1a9(0x1af),_0x3edd2b);}}function showScoreScreen(){const _0x2ab8cb=_0x24c887;if(isInGameState||isShowingScoreScreen)return;stopAutoDemoTimer(),isShowingScoreScreen=!![],isPlayerSelectMode=![],isFiringModeSelectMode=![],scoreScreenStartTime=Date[_0x2ab8cb(0x21c)](),selectedButtonIndex=-0x1;}function showMenuState(){const _0x5c209c=_0x24c887;try{wasLastGameAIDemo&&(highScore=0x4e20);wasLastGameAIDemo=![],isInGameState=![],isShowingScoreScreen=![],scoreScreenStartTime=0x0,isManualControl=![],isShowingDemoText=![],isPaused=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedFiringMode=_0x5c209c(0x18d),isTwoPlayerMode=![],currentPlayer=0x1,showCsHitsMessage=![],csHitsMessageStartTime=0x0,showPerfectMessage=![],perfectMessageStartTime=0x0,showCsBonusScoreMessage=![],csBonusScoreMessageStartTime=0x0,showCSClearMessage=![],csClearMessageStartTime=0x0,showCsHitsForClearMessage=![],showCsScoreForClearMessage=![],showExtraLifeMessage=![],extraLifeMessageStartTime=0x0,showReadyMessage=![],readyMessageStartTime=0x0,readyForNextWave=![],readyForNextWaveReset=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![],isShowingPlayerGameOverMessage=![],playerGameOverMessageStartTime=0x0,playerWhoIsGameOver=0x0,nextActionAfterPlayerGameOver='',player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![];const _0x30c381=[gridBackgroundSound,entranceSound,butterflyDiveSound,startSound,coinSound,bossGalagaDiveSound,enemyShootSound,levelUpSound,gameOverSound,playerShootSound,extraLifeSound,csPerfectSound,csClearSound,explosionSound,waveUpSound,menuMusicSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound,resultsMusicSound,hiScoreSound];_0x30c381[_0x5c209c(0x1f6)](_0x162fcb=>stopSound(_0x162fcb)),isGridSoundPlaying=![],typeof enemies!==_0x5c209c(0x186)&&Array[_0x5c209c(0x175)](enemies)&&enemies['forEach'](_0xeae243=>{const _0x2f155b=_0x5c209c;if(_0xeae243?.[_0x2f155b(0x1bc)]==='attacking'){if(_0xeae243[_0x2f155b(0x184)]===ENEMY3_TYPE)stopSound(bossGalagaDiveSound);else stopSound(butterflyDiveSound);}}),playerLives=0x3,score=0x0,level=0x1,player1Lives=0x3,player2Lives=0x3,player1Score=0x0,player2Score=0x0,player1ShotsFired=0x0,player2ShotsFired=0x0,player1EnemiesHit=0x0,player2EnemiesHit=0x0,player1MaxLevelReached=0x1,player2MaxLevelReached=0x1,scoreEarnedThisCS=0x0,enemies=[],bullets=[],enemyBullets=[],explosions=[],isShowingIntro=![],introStep=0x0,isChallengingStage=![],challengingStageEnemiesHit=0x0,currentGridOffsetX=0x0,gridMoveDirection=0x1,currentWaveDefinition=null,isEntrancePhaseActive=![],totalEnemiesScheduledForWave=0x0,enemiesSpawnedThisWave=0x0,typeof enemySpawnTimeouts!==_0x5c209c(0x186)&&Array[_0x5c209c(0x175)](enemySpawnTimeouts)&&enemySpawnTimeouts[_0x5c209c(0x1f6)](clearTimeout),enemySpawnTimeouts=[],lastEnemyDetachTime=0x0,selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[],isShowingResultsScreen=![],gameOverSequenceStartTime=0x0,gameStartTime=0x0,forceCenterShipNextReset=![],player1CompletedLevel=-0x1,p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![],ship&&gameCanvas&&gameCanvas[_0x5c209c(0x1e4)]>0x0&&gameCanvas[_0x5c209c(0x1fd)]>0x0?(ship['x']=Math['round'](gameCanvas[_0x5c209c(0x1e4)]/0x2-SHIP_WIDTH/0x2),ship['targetX']=ship['x'],ship['y']=gameCanvas[_0x5c209c(0x1fd)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN):console[_0x5c209c(0x16a)](_0x5c209c(0x1ee)),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0),playSound(menuMusicSound),startAutoDemoTimer();}catch(_0x1bb9aa){console['error'](_0x5c209c(0x191),_0x1bb9aa),wasLastGameAIDemo=![],isInGameState=![],isShowingScoreScreen=![],isPaused=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isTwoPlayerMode=![],currentPlayer=0x1,isShowingPlayerGameOverMessage=![],player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,alert('Error\x20returning\x20to\x20menu.\x20Please\x20refresh\x20the\x20page.'),document['body'][_0x5c209c(0x1c6)]=_0x5c209c(0x17c);}}function startAIDemo(){const _0x548266=_0x24c887;if(isInGameState)return;stopSound(menuMusicSound),isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedFiringMode=_0x548266(0x18d),isTwoPlayerMode=![],isManualControl=![],isShowingDemoText=!![],wasLastGameAIDemo=!![],baseStartGame(![]),gameJustStarted=!![];}function startGame1P(){if(isInGameState)return;isTwoPlayerMode=![],isPlayerSelectMode=![],isFiringModeSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer();}function startGame2P(){if(isInGameState)return;isTwoPlayerMode=!![],isPlayerSelectMode=![],isFiringModeSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer();}function baseStartGame(_0x1851eb){const _0xd3e2d6=_0x24c887;try{if(!gameCanvas||!gameCtx){console[_0xd3e2d6(0x1c1)](_0xd3e2d6(0x1a6)),showMenuState();return;}stopSound(menuMusicSound),stopAutoDemoTimer(),isInGameState=!![],isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isManualControl=_0x1851eb,isShowingDemoText=!_0x1851eb,isPaused=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];_0x1851eb&&(wasLastGameAIDemo=![]);clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);if(typeof resetGame===_0xd3e2d6(0x1fa))resetGame();else{console[_0xd3e2d6(0x1c1)]('FATAL:\x20resetGame\x20function\x20is\x20not\x20defined!\x20Cannot\x20start\x20game\x20properly.'),alert(_0xd3e2d6(0x214)),showMenuState();return;}_0x1851eb&&playSound(coinSound),gameStartTime=Date[_0xd3e2d6(0x21c)](),leftPressed=![],rightPressed=![],shootPressed=![],p2LeftPressed=![],p2RightPressed=![],p2ShootPressed=![],keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],selectedButtonIndex=-0x1,ship&&gameCanvas&&gameCanvas['width']>0x0&&gameCanvas[_0xd3e2d6(0x1fd)]>0x0&&(ship['x']=Math[_0xd3e2d6(0x1ef)](gameCanvas[_0xd3e2d6(0x1e4)]/0x2-SHIP_WIDTH/0x2),ship[_0xd3e2d6(0x225)]=ship['x'],ship['y']=gameCanvas[_0xd3e2d6(0x1fd)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN),mainLoopId===null&&startMainLoop();}catch(_0x9ba9a8){console[_0xd3e2d6(0x1c1)](_0xd3e2d6(0x220),_0x9ba9a8),wasLastGameAIDemo=![],clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null,alert(_0xd3e2d6(0x1e5)),showMenuState();}}function stopGameAndShowMenu(){isPaused=![];if(isManualControl)saveHighScore();showMenuState();}function exitGame(){const _0x1d9ae1=_0x24c887;isPaused=![],stopAutoDemoTimer(),saveHighScore(),isInGameState=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],showMenuState();try{window['close'](),setTimeout(()=>{if(!isInGameState)showMenuState();},0xc8);}catch(_0x5e5b5c){console[_0x1d9ae1(0x1c1)](_0x1d9ae1(0x22a),_0x5e5b5c),showMenuState();}}function triggerGameOver(){triggerFinalGameOverSequence();}function startAutoDemoTimer(){try{stopAutoDemoTimer(),autoStartTimerId=setTimeout(()=>{!isInGameState&&!isShowingScoreScreen?(isPlayerSelectMode=![],isFiringModeSelectMode=![],showScoreScreen()):autoStartTimerId=null;},MENU_INACTIVITY_TIMEOUT);}catch(_0xf1cbd2){console['error']('Error\x20starting\x20auto\x20demo\x20timer:',_0xf1cbd2);}}function stopAutoDemoTimer(){const _0x4de30a=_0x24c887;try{autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null);}catch(_0x1c7b72){console[_0x4de30a(0x1c1)](_0x4de30a(0x1af),_0x1c7b72);}}function showScoreScreen(){const _0xac5bc3=_0x24c887;if(isInGameState||isShowingScoreScreen)return;stopAutoDemoTimer(),isShowingScoreScreen=!![],isPlayerSelectMode=![],isFiringModeSelectMode=![],scoreScreenStartTime=Date[_0xac5bc3(0x21c)](),selectedButtonIndex=-0x1,clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);}function handleCanvasClick(_0x433a7e){const _0x439f06=_0x24c887;if(!gameCanvas)return;const _0x1fcc2c=gameCanvas['getBoundingClientRect'](),_0x40abb8=gameCanvas[_0x439f06(0x1e4)]/_0x1fcc2c[_0x439f06(0x1e4)],_0x44f172=gameCanvas[_0x439f06(0x1fd)]/_0x1fcc2c[_0x439f06(0x1fd)],_0x4a43d4=(_0x433a7e['clientX']-_0x1fcc2c[_0x439f06(0x1ca)])*_0x40abb8,_0x8fc387=(_0x433a7e[_0x439f06(0x1ad)]-_0x1fcc2c['top'])*_0x44f172,_0x137e9a=Date[_0x439f06(0x21c)]();let _0x3a69d=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x3a69d=!![]);if(_0x3a69d)return;if(isInGameState){if(isPaused){if(typeof togglePause===_0x439f06(0x1fa))togglePause();return;}if(!isManualControl){if(typeof stopGameAndShowMenu==='function')stopGameAndShowMenu();}}else{if(isShowingScoreScreen){if(typeof showMenuState===_0x439f06(0x1fa))showMenuState();}else{const _0x3ae0f1=getMenuButtonRect(0x0),_0x342297=getMenuButtonRect(0x1);let _0x492269=_0x3ae0f1&&checkCollision({'x':_0x4a43d4,'y':_0x8fc387,'width':0x1,'height':0x1},_0x3ae0f1),_0x981076=_0x342297&&checkCollision({'x':_0x4a43d4,'y':_0x8fc387,'width':0x1,'height':0x1},_0x342297);if(isFiringModeSelectMode){if(_0x492269)selectedFiringMode=_0x439f06(0x18d),baseStartGame(!![]),stopAutoDemoTimer();else _0x981076?(selectedFiringMode='single',baseStartGame(!![]),stopAutoDemoTimer()):(isFiringModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer());}else{if(isPlayerSelectMode){if(_0x492269)startGame1P(),stopAutoDemoTimer();else _0x981076?(startGame2P(),stopAutoDemoTimer()):(isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer());}else{if(_0x492269)isPlayerSelectMode=!![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer();else{if(_0x981076){if(typeof exitGame===_0x439f06(0x1fa))exitGame();stopAutoDemoTimer();}else triggerFullscreen(),playSound(menuMusicSound),stopAutoDemoTimer();}}}}}}function createExplosion(_0x200a3a,_0x261c4a){const _0x2e1665=_0x24c887;try{playSound(explosionSound);let _0x2b9367=[];for(let _0x3ffdd4=0x0;_0x3ffdd4<EXPLOSION_PARTICLE_COUNT;_0x3ffdd4++){const _0x3f90e6=Math[_0x2e1665(0x183)]()*Math['PI']*0x2,_0x53fe4e=Math[_0x2e1665(0x183)]()*(EXPLOSION_MAX_SPEED-EXPLOSION_MIN_SPEED)+EXPLOSION_MIN_SPEED;_0x2b9367[_0x2e1665(0x1d8)]({'x':_0x200a3a,'y':_0x261c4a,'vx':Math[_0x2e1665(0x1dd)](_0x3f90e6)*_0x53fe4e,'vy':Math['sin'](_0x3f90e6)*_0x53fe4e,'radius':EXPLOSION_PARTICLE_RADIUS,'alpha':0x1});}explosions[_0x2e1665(0x1d8)]({'creationTime':Date[_0x2e1665(0x21c)](),'duration':EXPLOSION_DURATION,'particles':_0x2b9367});}catch(_0x275128){console[_0x2e1665(0x1c1)](_0x2e1665(0x221),_0x275128);}}function renderExplosions(){const _0x2053b2=_0x24c887;try{if(!gameCtx)return;gameCtx['save'](),gameCtx[_0x2053b2(0x203)]=_0x2053b2(0x229),explosions[_0x2053b2(0x1f6)](_0x4c89bc=>{const _0x4a8eb9=_0x2053b2;_0x4c89bc['particles'][_0x4a8eb9(0x1f6)](_0xff38bd=>{const _0x30cc15=_0x4a8eb9,_0x47ea21=_0xff38bd[_0x30cc15(0x1e6)]*EXPLOSION_MAX_OPACITY;_0x47ea21>0.01&&(gameCtx[_0x30cc15(0x1c8)](),gameCtx[_0x30cc15(0x1b4)](Math[_0x30cc15(0x1ef)](_0xff38bd['x']),Math[_0x30cc15(0x1ef)](_0xff38bd['y']),_0xff38bd[_0x30cc15(0x196)],0x0,Math['PI']*0x2),gameCtx[_0x30cc15(0x210)]=_0x30cc15(0x170)+_0x47ea21[_0x30cc15(0x215)](0x3)+')',gameCtx[_0x30cc15(0x1a4)]());});}),gameCtx['restore']();}catch(_0x5c3c9e){console[_0x2053b2(0x1c1)]('Error\x20rendering\x20explosions:',_0x5c3c9e);}}function drawCanvasText(_0x431aed,_0x3f95b2,_0x334b93,_0x5cf360,_0x2dc5ec,_0x1f90b0=_0x24c887(0x18c),_0x165453='middle',_0x31631a=![]){const _0x397003=_0x24c887;if(!gameCtx)return;gameCtx['save'](),gameCtx[_0x397003(0x207)]=_0x5cf360,gameCtx[_0x397003(0x210)]=_0x2dc5ec,gameCtx[_0x397003(0x172)]=_0x1f90b0,gameCtx[_0x397003(0x1b7)]=_0x165453,_0x31631a&&(gameCtx['shadowColor']=_0x397003(0x182),gameCtx['shadowBlur']=0x8,gameCtx[_0x397003(0x1be)]=0x3,gameCtx[_0x397003(0x1d6)]=0x3),gameCtx[_0x397003(0x201)](_0x431aed,_0x3f95b2,_0x334b93),gameCtx[_0x397003(0x1cb)]();}function drawCanvasButton(_0x1b01b8,_0x4cb0b6,_0x19bbea){const _0x49cc8e=_0x24c887;if(!gameCtx)return;const _0x32d5e1=getMenuButtonRect(_0x4cb0b6);if(!_0x32d5e1)return;gameCtx[_0x49cc8e(0x1e3)](),drawCanvasText(_0x1b01b8,_0x32d5e1['x']+_0x32d5e1['width']/0x2,_0x32d5e1['y']+_0x32d5e1['height']/0x2,MENU_BUTTON_FONT,_0x19bbea?MENU_BUTTON_COLOR_HOVER:MENU_BUTTON_COLOR,_0x49cc8e(0x18c),_0x49cc8e(0x20e)),gameCtx['restore']();}function renderFloatingScores(){const _0x60ff25=_0x24c887;try{if(!gameCtx||!floatingScores||floatingScores['length']===0x0)return;const _0x24ece6=Date[_0x60ff25(0x21c)]();gameCtx[_0x60ff25(0x1e3)](),gameCtx[_0x60ff25(0x226)]=FLOATING_SCORE_OPACITY,floatingScores['forEach'](_0x4a9b95=>{const _0xb474f5=_0x60ff25;_0x24ece6>=_0x4a9b95[_0xb474f5(0x1c7)]&&drawCanvasText(_0x4a9b95[_0xb474f5(0x21e)],_0x4a9b95['x'],_0x4a9b95['y'],FLOATING_SCORE_FONT,_0x4a9b95[_0xb474f5(0x1a2)],_0xb474f5(0x18c),_0xb474f5(0x20e),![]);}),gameCtx[_0x60ff25(0x226)]=0x1,gameCtx[_0x60ff25(0x1cb)]();}catch(_0x5a6cc4){console['error'](_0x60ff25(0x174),_0x5a6cc4);}}function renderHitSparks(){const _0x5f26be=_0x24c887;if(!gameCtx||!hitSparks||hitSparks[_0x5f26be(0x1e9)]===0x0)return;gameCtx[_0x5f26be(0x1e3)](),gameCtx['globalCompositeOperation']=_0x5f26be(0x229),hitSparks[_0x5f26be(0x1f6)](_0x340ec2=>{const _0x4cd471=_0x5f26be;if(_0x340ec2&&_0x340ec2[_0x4cd471(0x1e6)]>0.01){gameCtx[_0x4cd471(0x210)]=_0x340ec2[_0x4cd471(0x1a2)],gameCtx[_0x4cd471(0x226)]=_0x340ec2[_0x4cd471(0x1e6)],gameCtx[_0x4cd471(0x1c8)]();const _0x5d00fa=_0x340ec2[_0x4cd471(0x19b)]*Math[_0x4cd471(0x188)](_0x340ec2[_0x4cd471(0x1e6)]);gameCtx['arc'](Math[_0x4cd471(0x1ef)](_0x340ec2['x']),Math[_0x4cd471(0x1ef)](_0x340ec2['y']),Math['max'](0.5,_0x5d00fa/0x2),0x0,Math['PI']*0x2),gameCtx[_0x4cd471(0x1a4)]();}}),gameCtx[_0x5f26be(0x226)]=0x1,gameCtx[_0x5f26be(0x1cb)]();}function _0x120a(){const _0x23ef5a=['random','type','right','undefined','76878VGfLlv','sqrt','val','12920tUrkGz','blue','center','rapid','max','body','capturedShipDimensions','Error\x20in\x20showMenuState:','resizeCanvases\x20not\x20found!','DOM\x20element\x20initialization\x20failed.','mousemove','PLAYER\x201','radius','attacking','CHALLENGING\x20STAGE','translate','pressed','size','20px\x20\x27Press\x20Start\x202P\x27','default','map','00:00','\x20PTS','lineTo','color','2LqPFmj','fill','2\x20PLAYER','Cannot\x20start\x20game\x20-\x20canvas\x20not\x20ready.','Error\x20drawing\x20enemy:','showing_capture_message','slice','capturedShipY','bold\x2018px\x20\x27Press\x20Start\x202P\x27','keyup','clientY','grey','Error\x20stopping\x20auto\x20demo\x20timer:','addColorStop','purple','captureAnimationRotation','measureText','arc','Platini2000(c)\x20LTD','axes','textBaseline','add','white','SPECIAL\x20BONUS\x2010000\x20PTS','PLAYER\x202','state','530334zrLQWj','shadowOffsetX','following_entrance_path','clearRect','error','-\x20RESULTS\x20-','STAGE\x20','source-atop','getGamepads','innerHTML','displayStartTime','beginPath','1\x20PLAYER','left','restore','LOGO','yellow','NUMBER\x20OF\x20HITS','tintProgress','Cannot\x20add\x20canvas\x20listeners:\x20gameCanvas\x20not\x20found\x20during\x20init.','GAME\x20OVER','rgba(0,\x20191,\x20255,\x200.9)','</p></div>','EXTRA\x20LIFE','addEventListener','shadowOffsetY','PUSH\x20START\x20BUTTON','push','FATAL\x20RENDER\x20ERROR.','number','stack','WINS','cos','abs','SHOTS\x20FIRED','READY?','135744kypDRL','red','save','width','Critical\x20error\x20starting\x20game!','alpha','<div\x20style=\x22color:white;\x20padding:\x2020px;\x20font-family:\x20sans-serif;\x22><h1>Fatal\x20Initialization\x20Error</h1><p>The\x20game\x20could\x20not\x20be\x20started.\x20Please\x20check\x20the\x20browser\x20console\x20(F12)\x20for\x20details.</p><p>Error:\x20','fillRect','length','isDamaged','15px\x20\x27Arial\x20Black\x27,\x20Gadget,\x20sans-serif','rotation','DEMO','Cannot\x20reset\x20ship\x20position\x20in\x20showMenuState\x20-\x20canvas/ship\x20not\x20ready.','round','capturedShipX','velocityX','defineChallengingStagePaths\x20not\x20found!','143euPQQQ','!!!\x20CRITICAL\x20ERROR\x20IN\x20mainLoop:','drawImage','forEach','naturalWidth','keydown','floor','function','Main\x20loop\x20already\x20running.','buttons','height','GAME\x20EXIT','931TCgnmi','complete','fillText','NUMBER\x20OF\x20HITS\x20','globalCompositeOperation','defineNormalWaveEntrancePaths\x20not\x20found!','379972NVwyVx','PLAYER\x20','font','65VJjttf','cursor','rgba(0,\x200,\x20139,\x200.5)','Error\x20in\x20renderGame:','padStart','HIT-MISS-RATIO','middle','velocityY','fillStyle','NORMAL','load','\x201ST\x20LIFE\x20BONUS\x20FOR\x2020000\x20PTS','Critical\x20error:\x20Game\x20logic\x20not\x20loaded\x20correctly!','toFixed','FATAL:\x20runSingleGameUpdate\x20is\x20not\x20defined!','getBoundingClientRect','style','EASY','darkred','hasCapturedShip','now','STAGE','text','PAUSED','Error\x20in\x20baseStartGame:','Error\x20creating\x20explosion:','rotate','sin','1UP','targetX','globalAlpha','cyan','orange','lighter','window.close()\x20failed:','toString','warn','HIGH\x20SCORE','22NDSjQn','atan2','source-over','10RDzAyq','rgba(255,\x20200,\x2080,\x20','1505430qJAuBe','textAlign','gamepadconnected','Error\x20rendering\x20floating\x20scores:','isArray','pointer','click','\x202ND\x20LIFE\x20BONUS\x20FOR\x20','match','single','top','<p\x20style=\x22color:white;\x22>Error\x20returning\x20to\x20menu.\x20Please\x20refresh.</p>','\x20level\x201\x20icons\x20due\x20to\x203-type\x20limit.\x20Used\x20types:','FIGHTER\x20CAPTURED','closePath','20px\x20sans-serif','naturalHeight','rgba(0,\x200,\x200,\x200.8)'];_0x120a=function(){return _0x23ef5a;};return _0x120a();}function renderGame(){const _0x9e412=_0x24c887;try{if(!gameCtx||!gameCanvas){if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;return;}gameCtx[_0x9e412(0x1c0)](0x0,0x0,gameCanvas[_0x9e412(0x1e4)],gameCanvas[_0x9e412(0x1fd)]);const _0x34c7d0=Date[_0x9e412(0x21c)]();gameCtx[_0x9e412(0x1e3)]();const _0x5d6d29=_0x9e412(0x19c),_0x5e478a=_0x9e412(0x1e2),_0xc46527=_0x9e412(0x1b9);gameCtx['font']=_0x5d6d29,gameCtx['textBaseline']=_0x9e412(0x17b);const _0x5191f9=(_0x22b633,_0x1d3d95,_0xa18b6e,_0x2d4a5a,_0x1091e9=![])=>{const _0x402413=_0x9e412;let _0x5ce103=!![],_0x3b618b=UI_1UP_BLINK_ON_MS*1.5,_0x1c23f3=UI_1UP_BLINK_CYCLE_MS*1.5;if(_0x22b633===_0x402413(0x1ed))_0x3b618b=DEMO_TEXT_BLINK_ON_MS*0.7,_0x1c23f3=DEMO_TEXT_BLINK_CYCLE_MS;else{if(_0x22b633===_0x402413(0x16b)){_0x3b618b=UI_1UP_BLINK_ON_MS*1.5,_0x1c23f3=UI_1UP_BLINK_CYCLE_MS*1.5;if(isInGameState&&!isManualControl)_0x3b618b=DEMO_TEXT_BLINK_ON_MS*0.7,_0x1c23f3=DEMO_TEXT_BLINK_CYCLE_MS;else isInGameState&&isTwoPlayerMode&&currentPlayer===0x2&&(_0x3b618b=UI_1UP_BLINK_ON_MS*1.5,_0x1c23f3=UI_1UP_BLINK_CYCLE_MS*1.5);}}_0x1091e9&&((isPaused||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage||!(_0x34c7d0%_0x1c23f3<_0x3b618b))&&(_0x5ce103=![]));_0x5ce103&&(gameCtx['fillStyle']=_0x5e478a,gameCtx[_0x402413(0x172)]=_0xa18b6e,gameCtx['fillText'](_0x22b633,_0x2d4a5a,MARGIN_TOP));const _0x5a3100=gameCtx[_0x402413(0x1b3)](_0x22b633)[_0x402413(0x1e4)];let _0xa532c8;if(_0xa18b6e===_0x402413(0x1ca))_0xa532c8=_0x2d4a5a+_0x5a3100/0x2;else{if(_0xa18b6e===_0x402413(0x185))_0xa532c8=_0x2d4a5a-_0x5a3100/0x2;else _0xa532c8=_0x2d4a5a;}gameCtx[_0x402413(0x210)]=_0xc46527,gameCtx['textAlign']=_0x402413(0x18c);let _0x271fbf=MARGIN_TOP+SCORE_OFFSET_Y+0x5;_0x22b633==='HIGH\x20SCORE'&&(_0xa532c8=_0x2d4a5a),gameCtx[_0x402413(0x201)](_0x1d3d95[_0x402413(0x22b)](),_0xa532c8,_0x271fbf);};let _0x5e7b39,_0x314a7e,_0x58c7d7,_0x22bcbe,_0x178d5b=![],_0x2f5a07=![],_0x1f647f=![];if(isShowingResultsScreen)_0x5e7b39=player1Score||0x0,_0x314a7e=player2Score||0x0,_0x58c7d7=highScore||0x4e20,_0x58c7d7=Math['max'](_0x58c7d7,_0x5e7b39,_0x314a7e),_0x22bcbe=wasLastGameAIDemo?_0x9e412(0x1ed):_0x9e412(0x224),_0x1f647f=![],_0x178d5b=![],_0x2f5a07=![];else{if(gameOverSequenceStartTime>0x0&&!isShowingPlayerGameOverMessage)_0x5e7b39=player1Score||0x0,_0x314a7e=player2Score||0x0,_0x58c7d7=highScore||0x4e20,_0x58c7d7=Math['max'](_0x58c7d7,_0x5e7b39,_0x314a7e),_0x22bcbe=wasLastGameAIDemo?_0x9e412(0x1ed):'1UP',_0x1f647f=![],_0x178d5b=![],_0x2f5a07=![];else{if(isShowingPlayerGameOverMessage)_0x5e7b39=player1Score||0x0,_0x314a7e=player2Score||0x0,_0x58c7d7=highScore||0x4e20,_0x58c7d7=Math['max'](_0x58c7d7,_0x5e7b39,_0x314a7e),_0x22bcbe=_0x9e412(0x224),_0x1f647f=![],_0x178d5b=![],_0x2f5a07=![];else{if(!isInGameState)_0x5e7b39=player1Score||0x0,_0x314a7e=player2Score||0x0,_0x58c7d7=highScore||0x4e20,_0x58c7d7=Math[_0x9e412(0x18e)](_0x58c7d7,_0x5e7b39,_0x314a7e),_0x22bcbe='1UP',_0x1f647f=![],_0x178d5b=![],_0x2f5a07=![];else{_0x58c7d7=highScore||0x0;if(!isManualControl)_0x5e7b39=score,_0x314a7e=0x0,_0x58c7d7=Math[_0x9e412(0x18e)](_0x58c7d7,score),_0x22bcbe=_0x9e412(0x1ed),_0x178d5b=!isShowingIntro&&!isPaused&&!isShipCaptured,_0x1f647f=!isPaused&&!isShowingIntro&&score>0x0&&_0x58c7d7>0x0&&score>=_0x58c7d7;else isTwoPlayerMode?(_0x5e7b39=currentPlayer===0x1?score:player1Score,_0x314a7e=currentPlayer===0x2?score:player2Score,_0x58c7d7=Math['max'](_0x58c7d7,player1Score,player2Score,score),_0x22bcbe=_0x9e412(0x224),_0x178d5b=!isShowingIntro&&!isPaused&&currentPlayer===0x1&&playerLives>0x0&&!isShipCaptured,_0x2f5a07=!isShowingIntro&&!isPaused&&currentPlayer===0x2&&playerLives>0x0&&!isShipCaptured,_0x1f647f=!isPaused&&!isShowingIntro&&score>0x0&&_0x58c7d7>0x0&&score>=_0x58c7d7):(_0x5e7b39=score,_0x314a7e=player2Score||0x0,_0x58c7d7=Math['max'](_0x58c7d7,score),_0x22bcbe=_0x9e412(0x224),_0x178d5b=!isShowingIntro&&!isPaused&&playerLives>0x0&&!isShipCaptured,_0x1f647f=!isPaused&&!isShowingIntro&&score>0x0&&_0x58c7d7>0x0&&score>=_0x58c7d7);}}}}let _0x36581f=![];if(_0x1f647f){if(!isManualControl)_0x36581f=_0x178d5b;else isTwoPlayerMode?currentPlayer===0x1?_0x36581f=_0x178d5b:_0x36581f=_0x2f5a07:_0x36581f=_0x178d5b;}typeof MARGIN_SIDE!==_0x9e412(0x186)&&typeof MARGIN_TOP!==_0x9e412(0x186)&&typeof SCORE_OFFSET_Y!==_0x9e412(0x186)&&(_0x5191f9(_0x22bcbe,_0x5e7b39,_0x9e412(0x1ca),MARGIN_SIDE,_0x178d5b),_0x5191f9(_0x9e412(0x16b),_0x58c7d7,_0x9e412(0x18c),gameCanvas[_0x9e412(0x1e4)]/0x2,_0x36581f),_0x5191f9('2UP',_0x314a7e,_0x9e412(0x185),gameCanvas[_0x9e412(0x1e4)]-MARGIN_SIDE,_0x2f5a07));if(typeof shipImage!==_0x9e412(0x186)&&typeof LIFE_ICON_MARGIN_BOTTOM!==_0x9e412(0x186)&&typeof LIFE_ICON_SIZE!==_0x9e412(0x186)&&typeof LIFE_ICON_MARGIN_LEFT!==_0x9e412(0x186)&&typeof LIFE_ICON_SPACING!==_0x9e412(0x186)){if(shipImage[_0x9e412(0x200)]&&shipImage[_0x9e412(0x181)]!==0x0){const _0x5ab882=gameCanvas[_0x9e412(0x1fd)]-LIFE_ICON_MARGIN_BOTTOM-LIFE_ICON_SIZE;let _0x7c06cc=0x0;if(isShowingResultsScreen||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage)_0x7c06cc=0x2;else{if(!isInGameState||isShowingScoreScreen)_0x7c06cc=0x2;else isInGameState&&playerLives>0x0?_0x7c06cc=Math[_0x9e412(0x18e)](0x0,playerLives-0x1):_0x7c06cc=0x0;}const _0x1504a4=0x5;for(let _0x36ab7c=0x0;_0x36ab7c<Math['min'](_0x7c06cc,_0x1504a4);_0x36ab7c++){const _0xad8b25=LIFE_ICON_MARGIN_LEFT+_0x36ab7c*(LIFE_ICON_SIZE+LIFE_ICON_SPACING);gameCtx[_0x9e412(0x1f5)](shipImage,Math[_0x9e412(0x1ef)](_0xad8b25),Math[_0x9e412(0x1ef)](_0x5ab882),LIFE_ICON_SIZE,LIFE_ICON_SIZE);}}}let _0x29badf=0x1;if(gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage)_0x29badf=Math['max'](0x1,player1MaxLevelReached,player2MaxLevelReached);else{if(!isInGameState||isShowingScoreScreen)_0x29badf=0x1;else isInGameState&&(_0x29badf=level);}if(_0x29badf>0x0&&typeof LEVEL_ICON_MARGIN_BOTTOM!=='undefined'&&typeof LEVEL_ICON_SIZE!==_0x9e412(0x186)&&typeof LEVEL_ICON_MARGIN_RIGHT!==_0x9e412(0x186)&&typeof LEVEL_ICON_SPACING!==_0x9e412(0x186)){const _0x559ca4=[{'val':0x32,'img':level50Image},{'val':0x1e,'img':level30Image},{'val':0x14,'img':level20Image},{'val':0xa,'img':level10Image},{'val':0x5,'img':level5Image},{'val':0x1,'img':level1Image}];let _0x358d1d=_0x29badf,_0x2b824c=[],_0x593b39=new Set();const _0x32a50e=(_0x401c45,_0x1f8a27,_0x40df39)=>{const _0x4977f2=_0x9e412;let _0x552d0e=_0x401c45,_0x3b3f43=new Set(_0x40df39);for(let _0x582fef=_0x1f8a27;_0x582fef<_0x559ca4['length'];_0x582fef++){const _0x3b2c20=_0x559ca4[_0x582fef]['val'];if(_0x552d0e>=_0x3b2c20){const _0x5e876f=_0x3b3f43[_0x4977f2(0x19b)]<0x3||_0x3b3f43['has'](_0x3b2c20);if(!_0x5e876f)continue;const _0x5c88cd=Math[_0x4977f2(0x1f9)](_0x552d0e/_0x3b2c20);_0x552d0e-=_0x5c88cd*_0x3b2c20,_0x3b3f43[_0x4977f2(0x1b8)](_0x3b2c20);if(_0x552d0e===0x0)return!![];}}return _0x552d0e===0x0;};for(let _0x5867eb=0x0;_0x5867eb<_0x559ca4[_0x9e412(0x1e9)]-0x1;_0x5867eb++){const _0x42f9a1=_0x559ca4[_0x5867eb],_0x28b33c=_0x42f9a1[_0x9e412(0x189)],_0x570080=_0x42f9a1['img'];if(_0x358d1d>=_0x28b33c){const _0x570818=Math['floor'](_0x358d1d/_0x28b33c),_0x54c49e=_0x358d1d-_0x570818*_0x28b33c;let _0xa4149d=new Set(_0x593b39);_0xa4149d[_0x9e412(0x1b8)](_0x28b33c);if(_0x32a50e(_0x54c49e,_0x5867eb+0x1,_0xa4149d)){for(let _0x273951=0x0;_0x273951<_0x570818;_0x273951++){_0x2b824c[_0x9e412(0x1d8)](_0x570080);}_0x358d1d=_0x54c49e,_0x593b39['add'](_0x28b33c);if(_0x358d1d===0x0)break;}}}if(_0x358d1d>0x0){const _0x1f9a8d=_0x593b39[_0x9e412(0x19b)]<0x3||_0x593b39['has'](0x1);if(_0x1f9a8d){for(let _0x26a498=0x0;_0x26a498<_0x358d1d;_0x26a498++){_0x2b824c[_0x9e412(0x1d8)](level1Image);}_0x593b39['add'](0x1),_0x358d1d=0x0;}else console[_0x9e412(0x16a)]('Could\x20not\x20add\x20'+_0x358d1d+_0x9e412(0x17d),_0x593b39);}_0x2b824c[_0x9e412(0x1e9)]===0x0&&_0x2b824c[_0x9e412(0x1d8)](level1Image);const _0x4293ec=_0x2b824c['length'],_0x41a542=_0x4293ec*LEVEL_ICON_SIZE+Math[_0x9e412(0x18e)](0x0,_0x4293ec-0x1)*LEVEL_ICON_SPACING,_0x57f86f=gameCanvas[_0x9e412(0x1e4)]-LEVEL_ICON_MARGIN_RIGHT,_0x4dc9ff=_0x57f86f-_0x41a542,_0x1804d7=gameCanvas[_0x9e412(0x1fd)]-LEVEL_ICON_MARGIN_BOTTOM-LEVEL_ICON_SIZE;let _0x1a0a6a=_0x4dc9ff;for(const _0x3e6545 of _0x2b824c){_0x3e6545&&_0x3e6545['complete']&&_0x3e6545[_0x9e412(0x181)]!==0x0&&gameCtx[_0x9e412(0x1f5)](_0x3e6545,Math[_0x9e412(0x1ef)](_0x1a0a6a),Math[_0x9e412(0x1ef)](_0x1804d7),LEVEL_ICON_SIZE,LEVEL_ICON_SIZE),_0x1a0a6a+=LEVEL_ICON_SIZE+LEVEL_ICON_SPACING;}}gameCtx[_0x9e412(0x1cb)](),gameCtx[_0x9e412(0x1e3)]();if(ship&&!isShowingCaptureMessage){let _0x5653d8=!![];if(isInGameState&&!gameOverSequenceStartTime&&!isShowingPlayerGameOverMessage&&isInvincible){const _0x2b6286=INVINCIBILITY_BLINK_ON_MS+INVINCIBILITY_BLINK_OFF_MS,_0x4f099c=_0x34c7d0%_0x2b6286;_0x4f099c>=INVINCIBILITY_BLINK_ON_MS&&(_0x5653d8=![]);}if(_0x5653d8){let _0x81ff8e=ship['x'],_0x1e2fd4=(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0||!isInGameState||isShowingScoreScreen||isInGameState&&isShowingIntro&&!isManualControl&&(introStep===0x1||introStep===0x2||introStep===0x3))&&!isDualShipActive;_0x1e2fd4&&(_0x81ff8e=Math[_0x9e412(0x1ef)](gameCanvas[_0x9e412(0x1e4)]/0x2-ship[_0x9e412(0x1e4)]/0x2));const _0x5bfbc7=gameCanvas[_0x9e412(0x1fd)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN;typeof shipImage!==_0x9e412(0x186)&&shipImage[_0x9e412(0x200)]&&shipImage['naturalHeight']!==0x0?gameCtx['drawImage'](shipImage,Math[_0x9e412(0x1ef)](_0x81ff8e),Math[_0x9e412(0x1ef)](_0x5bfbc7),ship[_0x9e412(0x1e4)],ship[_0x9e412(0x1fd)]):(gameCtx['fillStyle']=_0x9e412(0x18b),gameCtx[_0x9e412(0x1e8)](Math[_0x9e412(0x1ef)](_0x81ff8e),Math['round'](_0x5bfbc7),ship['width'],ship['height']));if(isInGameState&&!gameOverSequenceStartTime&&!isShowingPlayerGameOverMessage&&isDualShipActive&&!isShipCaptured&&typeof shipImage!==_0x9e412(0x186)&&shipImage[_0x9e412(0x200)]&&shipImage[_0x9e412(0x181)]!==0x0){const _0x2a75a2=_0x81ff8e+DUAL_SHIP_OFFSET_X;gameCtx[_0x9e412(0x1f5)](shipImage,Math[_0x9e412(0x1ef)](_0x2a75a2),Math[_0x9e412(0x1ef)](_0x5bfbc7),ship['width'],ship[_0x9e412(0x1fd)]);}}}fallingShips['length']>0x0&&typeof shipImage!==_0x9e412(0x186)&&shipImage[_0x9e412(0x200)]&&fallingShips[_0x9e412(0x1f6)](_0x7543b0=>{const _0x58726a=_0x9e412;if(_0x7543b0){gameCtx[_0x58726a(0x1e3)]();const _0x156560=_0x7543b0['x']+_0x7543b0[_0x58726a(0x1e4)]/0x2,_0x34e7cb=_0x7543b0['y']+_0x7543b0[_0x58726a(0x1fd)]/0x2;gameCtx[_0x58726a(0x199)](_0x156560,_0x34e7cb),gameCtx[_0x58726a(0x222)](_0x7543b0[_0x58726a(0x1ec)]||0x0);const _0x1c2c65=-_0x7543b0['width']/0x2,_0x5b17d4=-_0x7543b0[_0x58726a(0x1fd)]/0x2,_0x83d5c9=_0x7543b0[_0x58726a(0x1e4)],_0xbfe9b8=_0x7543b0['height'];gameCtx['drawImage'](shipImage,_0x1c2c65,_0x5b17d4,_0x83d5c9,_0xbfe9b8),typeof _0x7543b0['tintProgress']===_0x58726a(0x1da)&&_0x7543b0[_0x58726a(0x1cf)]>0.01&&(gameCtx['save'](),gameCtx[_0x58726a(0x226)]=_0x7543b0['tintProgress'],gameCtx[_0x58726a(0x210)]=CAPTURED_SHIP_TINT_COLOR,gameCtx['globalCompositeOperation']=_0x58726a(0x1c4),gameCtx[_0x58726a(0x1e8)](_0x1c2c65,_0x5b17d4,_0x83d5c9,_0xbfe9b8),gameCtx['restore']()),gameCtx[_0x58726a(0x1cb)]();}});gameCtx[_0x9e412(0x1cb)]();if(!isInGameState){if(isShowingScoreScreen){if(typeof LIFE_ICON_SIZE!=='undefined'){gameCtx[_0x9e412(0x1e3)]();const _0xc56b62=gameCanvas[_0x9e412(0x1e4)]/0x2;let _0x532f0f=gameCanvas['height']*0.25+SCORE_SCREEN_VERTICAL_OFFSET,_0x3b70b2=0x0,_0x4fdc66=_0x532f0f+0x0;drawCanvasText('PUSH\x20START\x20BUTTON',_0xc56b62,_0x4fdc66-0x1e,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_TOP,_0x9e412(0x18c),_0x9e412(0x20e),!![]);let _0x82208e=_0x4fdc66+SCORE_SCREEN_LINE_V_SPACING*1.8;const _0x51f072=_0x9e412(0x213);gameCtx[_0x9e412(0x207)]=SCORE_SCREEN_TEXT_FONT;const _0x28b090=gameCtx['measureText'](_0x51f072)['width'],_0x5c4780=LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING+_0x28b090;_0x3b70b2=_0xc56b62-_0x5c4780/0x2-0x1e;typeof shipImage!=='undefined'&&shipImage['complete']&&shipImage['naturalHeight']!==0x0&&gameCtx[_0x9e412(0x1f5)](shipImage,Math['round'](_0x3b70b2),Math[_0x9e412(0x1ef)](_0x82208e-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x51f072,_0x3b70b2+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x82208e,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,_0x9e412(0x1ca),'middle',![]);let _0x512422=_0x82208e+SCORE_SCREEN_LINE_V_SPACING*0x1;const _0x4110d0=_0x9e412(0x178)+RECURRING_EXTRA_LIFE_INTERVAL+_0x9e412(0x1a0);typeof shipImage!=='undefined'&&shipImage[_0x9e412(0x200)]&&shipImage[_0x9e412(0x181)]!==0x0&&gameCtx[_0x9e412(0x1f5)](shipImage,Math['round'](_0x3b70b2),Math[_0x9e412(0x1ef)](_0x512422-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x4110d0,_0x3b70b2+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x512422,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,'left','middle',![]);let _0x467b80=_0x512422+SCORE_SCREEN_LINE_V_SPACING*0x1;const _0x2a29fc='\x20EXT\x20LIFE\x20FOR\x20EVERY\x20'+RECURRING_EXTRA_LIFE_INTERVAL+_0x9e412(0x1a0);typeof shipImage!==_0x9e412(0x186)&&shipImage[_0x9e412(0x200)]&&shipImage[_0x9e412(0x181)]!==0x0&&gameCtx[_0x9e412(0x1f5)](shipImage,Math['round'](_0x3b70b2),Math[_0x9e412(0x1ef)](_0x467b80-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x2a29fc,_0x3b70b2+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x467b80,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,_0x9e412(0x1ca),_0x9e412(0x20e),![]);let _0x260cbf=_0x467b80+SCORE_SCREEN_LINE_V_SPACING*1.8;drawCanvasText('2025\x20\x20\x20PLATINI2000(c)\x20\x20\x20LTD',_0xc56b62-0xa,_0x260cbf+0x1e,MENU_SUBTITLE_FONT,MENU_SUBTITLE_COLOR,_0x9e412(0x18c),_0x9e412(0x20e),![]),gameCtx['restore']();}}else{gameCtx['save']();const _0x547f53=gameCanvas['width'],_0x372dfe=gameCanvas[_0x9e412(0x1fd)],_0x3f792e=_0x547f53/0x2;selectedButtonIndex===-0x1&&(selectedButtonIndex=0x0);let _0x5f0b7d=MENU_LOGO_APPROX_HEIGHT,_0x423c5a=_0x5f0b7d*(logoImage[_0x9e412(0x1f7)]/logoImage['naturalHeight']||0x1);typeof logoImage!==_0x9e412(0x186)&&logoImage[_0x9e412(0x200)]&&logoImage[_0x9e412(0x181)]!==0x0&&(_0x5f0b7d=logoImage['naturalHeight']*LOGO_SCALE_FACTOR,_0x423c5a=logoImage['naturalWidth']*LOGO_SCALE_FACTOR);const _0x29cc9c=getSubtitleApproxHeight(MENU_SUBTITLE_FONT),_0xeb06b5=_0x5f0b7d+MENU_LOGO_BOTTOM_TO_START_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_SUBTITLE_V_GAP+_0x29cc9c;let _0x1214b3=(_0x372dfe-_0xeb06b5)/0x2-0x46;_0x1214b3+=MENU_GENERAL_Y_OFFSET;const _0x2e9f54=_0x3f792e-_0x423c5a/0x2,_0x2299b3=_0x1214b3+MENU_LOGO_EXTRA_Y_OFFSET;typeof logoImage!==_0x9e412(0x186)&&logoImage[_0x9e412(0x200)]&&logoImage[_0x9e412(0x181)]!==0x0?gameCtx[_0x9e412(0x1f5)](logoImage,Math[_0x9e412(0x1ef)](_0x2e9f54),Math['round'](_0x2299b3),_0x423c5a,_0x5f0b7d):drawCanvasText(_0x9e412(0x1cc),_0x3f792e,_0x2299b3+_0x5f0b7d/0x2,'30px\x20Arial',_0x9e412(0x1ae));if(isFiringModeSelectMode)drawCanvasButton(_0x9e412(0x219),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x9e412(0x211),0x1,selectedButtonIndex===0x1);else isPlayerSelectMode?(drawCanvasButton(_0x9e412(0x1c9),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x9e412(0x1a5),0x1,selectedButtonIndex===0x1)):(drawCanvasButton('START\x20GAME',0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x9e412(0x1fe),0x1,selectedButtonIndex===0x1));const _0x26db13=getMenuButtonRect(0x1);let _0x55bb48;_0x26db13?_0x55bb48=_0x26db13['y']+_0x26db13[_0x9e412(0x1fd)]+MENU_BUTTON_SUBTITLE_V_GAP+_0x29cc9c/0x2:_0x55bb48=_0x1214b3+_0x5f0b7d+MENU_LOGO_BOTTOM_TO_START_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_SUBTITLE_V_GAP+_0x29cc9c/0x2,drawCanvasText(MENU_SUBTITLE_TEXT,_0x3f792e-0x1,Math[_0x9e412(0x1ef)](_0x55bb48),MENU_SUBTITLE_FONT,MENU_SUBTITLE_COLOR,_0x9e412(0x18c),_0x9e412(0x20e),!![]),gameCtx[_0x9e412(0x1cb)]();}}else{if(gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){gameCtx[_0x9e412(0x1e3)]();let _0x2efb9c=!showReadyMessage&&!showCsHitsMessage&&!showPerfectMessage&&!showCsBonusScoreMessage&&!showCSClearMessage&&!isCsCompletionDelayActive&&!isShowingIntro&&!isShowingCaptureMessage;_0x2efb9c&&(bullets[_0x9e412(0x1f6)](_0x1d6618=>{const _0xaab528=_0x9e412;_0x1d6618&&(typeof bulletImage!==_0xaab528(0x186)&&bulletImage[_0xaab528(0x200)]?gameCtx['drawImage'](bulletImage,Math[_0xaab528(0x1ef)](_0x1d6618['x']),Math[_0xaab528(0x1ef)](_0x1d6618['y']),_0x1d6618[_0xaab528(0x1e4)],_0x1d6618[_0xaab528(0x1fd)]):(gameCtx[_0xaab528(0x210)]=_0xaab528(0x1cd),gameCtx[_0xaab528(0x1e8)](Math['round'](_0x1d6618['x']),Math[_0xaab528(0x1ef)](_0x1d6618['y']),_0x1d6618[_0xaab528(0x1e4)],_0x1d6618[_0xaab528(0x1fd)])));}),enemyBullets[_0x9e412(0x1f6)](_0x4bba7e=>{const _0x345b04=_0x9e412;_0x4bba7e&&(typeof enemyBulletImage!==_0x345b04(0x186)&&enemyBulletImage['complete']&&enemyBulletImage[_0x345b04(0x1f7)]>0x0?gameCtx[_0x345b04(0x1f5)](enemyBulletImage,Math[_0x345b04(0x1ef)](_0x4bba7e['x']),Math[_0x345b04(0x1ef)](_0x4bba7e['y']),_0x4bba7e[_0x345b04(0x1e4)],_0x4bba7e[_0x345b04(0x1fd)]):(gameCtx[_0x345b04(0x210)]=_0x345b04(0x1b9),gameCtx[_0x345b04(0x1e8)](Math[_0x345b04(0x1ef)](_0x4bba7e['x']),Math[_0x345b04(0x1ef)](_0x4bba7e['y']),_0x4bba7e[_0x345b04(0x1e4)],_0x4bba7e[_0x345b04(0x1fd)])));}));enemies[_0x9e412(0x1f6)](_0x236eff=>{const _0x5c98dc=_0x9e412;if(_0x236eff&&_0x236eff['y']<gameCanvas[_0x5c98dc(0x1fd)]+_0x236eff[_0x5c98dc(0x1fd)]*0x2&&_0x236eff['y']>-_0x236eff[_0x5c98dc(0x1fd)]*0x2){gameCtx[_0x5c98dc(0x1e3)]();try{let _0x32c672=null,_0x17a4c4='grey';const _0x3fee4a=!isPaused&&_0x34c7d0%(ENEMY_ANIMATION_INTERVAL_MS*0x2)>=ENEMY_ANIMATION_INTERVAL_MS;if(_0x236eff[_0x5c98dc(0x184)]===ENEMY3_TYPE)_0x32c672=_0x3fee4a?bossGalagaImage2:bossGalagaImage,_0x17a4c4=_0x5c98dc(0x1b1);else _0x236eff[_0x5c98dc(0x184)]===ENEMY2_TYPE?(_0x32c672=_0x3fee4a?butterflyImage2:butterflyImage,_0x17a4c4=_0x5c98dc(0x227)):(_0x32c672=_0x3fee4a?beeImage2:beeImage,_0x17a4c4=_0x5c98dc(0x1e2));const _0x2f28a5=Math[_0x5c98dc(0x1ef)](_0x236eff['x']),_0x284729=Math[_0x5c98dc(0x1ef)](_0x236eff['y']),_0x874d70=_0x236eff[_0x5c98dc(0x1e4)],_0x393d0d=_0x236eff[_0x5c98dc(0x1fd)],_0xee8351=_0x236eff['type']===ENEMY3_TYPE&&_0x236eff[_0x5c98dc(0x1ea)],_0x41957f=!isPaused&&(_0x236eff[_0x5c98dc(0x1bc)]===_0x5c98dc(0x197)||_0x236eff[_0x5c98dc(0x1bc)]==='following_bezier_path'||_0x236eff[_0x5c98dc(0x1bc)]===_0x5c98dc(0x1bf))&&_0x236eff['y']>-_0x236eff['height']*0.5&&(Math[_0x5c98dc(0x1de)](_0x236eff[_0x5c98dc(0x1f1)])>0.1||Math[_0x5c98dc(0x1de)](_0x236eff[_0x5c98dc(0x20f)])>0.1),_0x2d695f=_0x236eff['state']===_0x5c98dc(0x1a8)&&_0x236eff[_0x5c98dc(0x184)]===ENEMY3_TYPE&&_0x236eff[_0x5c98dc(0x21b)]&&_0x236eff['capturedShipDimensions']&&typeof _0x236eff[_0x5c98dc(0x1f0)]===_0x5c98dc(0x1da)&&typeof _0x236eff[_0x5c98dc(0x1aa)]==='number'&&typeof _0x236eff[_0x5c98dc(0x1b2)]===_0x5c98dc(0x1da),_0x2c80b1=_0x236eff['state']!==_0x5c98dc(0x1a8)&&_0x236eff['type']===ENEMY3_TYPE&&_0x236eff[_0x5c98dc(0x21b)]&&_0x236eff[_0x5c98dc(0x190)],_0x49c151=_0x2d695f||_0x2c80b1?_0x236eff[_0x5c98dc(0x190)][_0x5c98dc(0x1e4)]:0x0,_0x460035=_0x2d695f||_0x2c80b1?_0x236eff[_0x5c98dc(0x190)][_0x5c98dc(0x1fd)]:0x0;let _0x82bfc6=0x0,_0x4d3fed=0x0;if(_0x2d695f)_0x82bfc6=Math['round'](_0x236eff[_0x5c98dc(0x1f0)]),_0x4d3fed=Math[_0x5c98dc(0x1ef)](_0x236eff[_0x5c98dc(0x1aa)]);else _0x2c80b1&&(_0x82bfc6=Math[_0x5c98dc(0x1ef)](_0x236eff['x']+CAPTURED_SHIP_OFFSET_X),_0x4d3fed=Math['round'](_0x236eff['y']+CAPTURED_SHIP_OFFSET_Y));const _0x49983f=(_0xb3e105,_0x560502,_0x20ff67,_0x5a5dbc)=>{const _0x2c29f2=_0x5c98dc;typeof _0x32c672!==_0x2c29f2(0x186)&&_0x32c672[_0x2c29f2(0x200)]&&_0x32c672[_0x2c29f2(0x181)]!==0x0?gameCtx[_0x2c29f2(0x1f5)](_0x32c672,_0xb3e105,_0x560502,_0x20ff67,_0x5a5dbc):(gameCtx[_0x2c29f2(0x210)]=_0x17a4c4,gameCtx[_0x2c29f2(0x1e8)](_0xb3e105,_0x560502,_0x20ff67,_0x5a5dbc)),_0xee8351&&(gameCtx[_0x2c29f2(0x203)]=_0x2c29f2(0x1c4),gameCtx['fillStyle']=_0x2c29f2(0x20a),gameCtx[_0x2c29f2(0x1e8)](_0xb3e105,_0x560502,_0x20ff67,_0x5a5dbc),gameCtx[_0x2c29f2(0x203)]=_0x2c29f2(0x16e));};if(_0x41957f){const _0x20ca8b=_0x2f28a5+_0x874d70/0x2,_0x465c5d=_0x284729+_0x393d0d/0x2;gameCtx[_0x5c98dc(0x199)](_0x20ca8b,_0x465c5d);let _0xe9f94b=Math[_0x5c98dc(0x16d)](_0x236eff[_0x5c98dc(0x20f)],_0x236eff[_0x5c98dc(0x1f1)])+Math['PI']/0x2;if(_0x236eff[_0x5c98dc(0x184)]===ENEMY3_TYPE&&_0x236eff[_0x5c98dc(0x1bc)]===_0x5c98dc(0x197))_0xe9f94b+=Math['PI'];gameCtx[_0x5c98dc(0x222)](_0xe9f94b),_0x49983f(-_0x874d70/0x2,-_0x393d0d/0x2,_0x874d70,_0x393d0d);if(_0x2c80b1&&typeof shipImage!=='undefined'&&shipImage['complete']){gameCtx[_0x5c98dc(0x226)]=0.8;const _0x3bfbd8=CAPTURED_SHIP_OFFSET_X,_0x5d0956=CAPTURED_SHIP_OFFSET_Y;gameCtx[_0x5c98dc(0x1f5)](shipImage,_0x3bfbd8-_0x49c151/0x2,_0x5d0956-_0x460035/0x2,_0x49c151,_0x460035),gameCtx[_0x5c98dc(0x226)]=0x1,gameCtx['save'](),gameCtx[_0x5c98dc(0x210)]=CAPTURED_SHIP_TINT_COLOR,gameCtx['globalCompositeOperation']=_0x5c98dc(0x1c4),gameCtx['fillRect'](_0x3bfbd8-_0x49c151/0x2,_0x5d0956-_0x460035/0x2,_0x49c151,_0x460035),gameCtx[_0x5c98dc(0x1cb)]();}gameCtx[_0x5c98dc(0x222)](-_0xe9f94b),gameCtx[_0x5c98dc(0x199)](-_0x20ca8b,-_0x465c5d);}else _0x49983f(_0x2f28a5,_0x284729,_0x874d70,_0x393d0d),_0x2c80b1&&typeof shipImage!==_0x5c98dc(0x186)&&shipImage[_0x5c98dc(0x200)]&&(gameCtx[_0x5c98dc(0x226)]=0.8,gameCtx[_0x5c98dc(0x1f5)](shipImage,_0x82bfc6,_0x4d3fed,_0x49c151,_0x460035),gameCtx['globalAlpha']=0x1,gameCtx[_0x5c98dc(0x1e3)](),gameCtx[_0x5c98dc(0x210)]=CAPTURED_SHIP_TINT_COLOR,gameCtx['globalCompositeOperation']=_0x5c98dc(0x1c4),gameCtx[_0x5c98dc(0x1e8)](_0x82bfc6,_0x4d3fed,_0x49c151,_0x460035),gameCtx[_0x5c98dc(0x1cb)]());if(_0x2d695f&&typeof shipImage!==_0x5c98dc(0x186)&&shipImage[_0x5c98dc(0x200)]){gameCtx[_0x5c98dc(0x1e3)]();const _0x183039=_0x82bfc6+_0x49c151/0x2,_0x1f9716=_0x4d3fed+_0x460035/0x2;gameCtx[_0x5c98dc(0x199)](_0x183039,_0x1f9716),gameCtx['rotate'](_0x236eff['captureAnimationRotation']),gameCtx['globalAlpha']=0.8,gameCtx[_0x5c98dc(0x1f5)](shipImage,-_0x49c151/0x2,-_0x460035/0x2,_0x49c151,_0x460035),gameCtx[_0x5c98dc(0x226)]=0x1,gameCtx['save'](),gameCtx[_0x5c98dc(0x210)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x5c98dc(0x203)]=_0x5c98dc(0x1c4),gameCtx[_0x5c98dc(0x1e8)](-_0x49c151/0x2,-_0x460035/0x2,_0x49c151,_0x460035),gameCtx['restore'](),gameCtx['restore']();}}catch(_0x35e9aa){console['error'](_0x5c98dc(0x1a7),_0x35e9aa),gameCtx['fillStyle']=_0x5c98dc(0x228),gameCtx['fillRect'](Math[_0x5c98dc(0x1ef)](_0x236eff['x']),Math[_0x5c98dc(0x1ef)](_0x236eff['y']),_0x236eff['width'],_0x236eff[_0x5c98dc(0x1fd)]);}finally{gameCtx[_0x5c98dc(0x1cb)]();}}});if(captureBeamActive&&capturingBossId&&captureBeamProgress>0x0){gameCtx['save']();const _0x308ed9=0.4+(Math[_0x9e412(0x223)](_0x34c7d0*CAPTURE_BEAM_PULSE_SPEED)+0x1)/0x2*0.6,_0x303a0c=captureBeamProgress;gameCtx['globalAlpha']=_0x303a0c*_0x308ed9;const _0x16927a=enemies['find'](_0x71b117=>_0x71b117['id']===capturingBossId);if(_0x16927a){const _0x48aa1b=_0x16927a['x']+BOSS_WIDTH/0x2,_0x3e4b99=_0x16927a['y']+BOSS_HEIGHT,_0x94b2cd=gameCanvas[_0x9e412(0x1fd)]-LIFE_ICON_MARGIN_BOTTOM-LIFE_ICON_SIZE-0xa,_0x52861a=BOSS_WIDTH*CAPTURE_BEAM_WIDTH_TOP_FACTOR,_0x286e5c=SHIP_WIDTH*CAPTURE_BEAM_WIDTH_BOTTOM_FACTOR;if(_0x3e4b99<_0x94b2cd){const _0x1d134e=gameCtx['createLinearGradient'](_0x48aa1b,_0x3e4b99,_0x48aa1b,_0x94b2cd);_0x1d134e[_0x9e412(0x1b0)](0x0,CAPTURE_BEAM_COLOR_START),_0x1d134e[_0x9e412(0x1b0)](0x1,CAPTURE_BEAM_COLOR_END),gameCtx[_0x9e412(0x210)]=_0x1d134e,gameCtx['beginPath'](),gameCtx['moveTo'](_0x48aa1b-_0x52861a/0x2,_0x3e4b99),gameCtx[_0x9e412(0x1a1)](_0x48aa1b+_0x52861a/0x2,_0x3e4b99),gameCtx[_0x9e412(0x1a1)](_0x48aa1b+_0x286e5c/0x2,_0x94b2cd),gameCtx[_0x9e412(0x1a1)](_0x48aa1b-_0x286e5c/0x2,_0x94b2cd),gameCtx[_0x9e412(0x17f)](),gameCtx[_0x9e412(0x1a4)]();}}gameCtx[_0x9e412(0x1cb)]();}renderExplosions(),renderFloatingScores(),renderHitSparks();let _0x1aa74b=![];const _0x2bbd76=gameCanvas[_0x9e412(0x1fd)]/0x2,_0x269415=gameCanvas['width']/0x2,_0x364c49=_0x9e412(0x202)+challengingStageEnemiesHit,_0x297bc3='BONUS\x20'+scoreEarnedThisCS;if(isPaused)drawCanvasText(_0x9e412(0x21f),_0x269415,_0x2bbd76,PAUSE_TEXT_FONT,PAUSE_TEXT_COLOR,_0x9e412(0x18c),_0x9e412(0x20e),PAUSE_TEXT_SHADOW),_0x1aa74b=!![];else{if(isShowingCaptureMessage)drawCanvasText(_0x9e412(0x17e),_0x269415,_0x2bbd76-0x28,INTRO_TEXT_FONT,_0x9e412(0x1e2),_0x9e412(0x18c),_0x9e412(0x20e),!![]),_0x1aa74b=!![];else{if(showCsBonusScoreMessage||showPerfectMessage||showCsHitsMessage)drawCanvasText(_0x364c49,_0x269415,_0x2bbd76,INTRO_TEXT_FONT,CS_HITS_TEXT_COLOR,_0x9e412(0x18c),_0x9e412(0x20e),!![]),_0x1aa74b=!![],(showCsBonusScoreMessage||showPerfectMessage)&&drawCanvasText('PERFECT\x20!',_0x269415,_0x2bbd76-CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,PERFECT_TEXT_COLOR,_0x9e412(0x18c),'middle',!![]),showCsBonusScoreMessage&&drawCanvasText(_0x9e412(0x1ba),_0x269415,_0x2bbd76+CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_BONUS_SCORE_TEXT_COLOR,_0x9e412(0x18c),_0x9e412(0x20e),!![]);else{if(showCSClearMessage)drawCanvasText('STAGE\x20CLEARED',_0x269415,_0x2bbd76-CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_CLEAR_TEXT_COLOR,_0x9e412(0x18c),_0x9e412(0x20e),!![]),_0x1aa74b=!![],showCsHitsForClearMessage&&drawCanvasText(_0x364c49,_0x269415,_0x2bbd76,INTRO_TEXT_FONT,CS_HITS_TEXT_COLOR,_0x9e412(0x18c),'middle',!![]),showCsScoreForClearMessage&&drawCanvasText(_0x297bc3,_0x269415,_0x2bbd76+CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_CLEAR_SCORE_TEXT_COLOR,_0x9e412(0x18c),'middle',!![]);else{if(showExtraLifeMessage)drawCanvasText(_0x9e412(0x1d4),_0x269415,_0x2bbd76,INTRO_TEXT_FONT,EXTRA_LIFE_TEXT_COLOR,_0x9e412(0x18c),_0x9e412(0x20e),!![]),_0x1aa74b=!![];else{if(isShowingIntro){let _0x4ea5e8='',_0x5810e0=INTRO_TEXT_COLOR_NORMAL;if(introStep===0x1)_0x4ea5e8=!isManualControl?_0x9e412(0x1ed):_0x9e412(0x206)+(isTwoPlayerMode?currentPlayer:0x1);else{if(introStep===0x2)_0x4ea5e8=_0x9e412(0x1c3)+level;else introStep===0x3&&(_0x4ea5e8=_0x9e412(0x198),_0x5810e0=INTRO_TEXT_COLOR_CS_TEXT,!csIntroSoundPlayed&&(playSound(entranceSound),csIntroSoundPlayed=!![]));}_0x4ea5e8&&(drawCanvasText(_0x4ea5e8,_0x269415,_0x2bbd76,INTRO_TEXT_FONT,_0x5810e0,_0x9e412(0x18c),'middle',!![]),_0x1aa74b=!![]);}else{if(showReadyMessage)drawCanvasText(_0x9e412(0x1e0),_0x269415,_0x2bbd76,INTRO_TEXT_FONT,READY_TEXT_COLOR,_0x9e412(0x18c),'middle',!![]),_0x1aa74b=!![];else{if(!isManualControl&&isShowingDemoText&&!_0x1aa74b&&!isEntrancePhaseActive&&!isCsCompletionDelayActive){const _0x37e236=DEMO_TEXT_BLINK_CYCLE_MS*1.5,_0x7ab7a9=DEMO_TEXT_BLINK_ON_MS*1.5;_0x34c7d0%_0x37e236<_0x7ab7a9&&drawCanvasText(_0x9e412(0x1d7),_0x269415,_0x2bbd76,DEMO_TEXT_LINE1_FONT,DEMO_TEXT_COLOR,_0x9e412(0x18c),_0x9e412(0x20e),!![]);}}}}}}}}gameCtx[_0x9e412(0x1cb)]();}else{if(isShowingPlayerGameOverMessage){const _0x45dd63=_0x9e412(0x206)+playerWhoIsGameOver,_0x2099ac=RESULTS_LINE_V_SPACING_SINGLE,_0x460806=gameCanvas[_0x9e412(0x1fd)]*0.45;drawCanvasText(_0x45dd63,gameCanvas['width']/0x2,_0x460806-_0x2099ac/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x9e412(0x18c),_0x9e412(0x20e),!![]),drawCanvasText(_0x9e412(0x1d1),gameCanvas[_0x9e412(0x1e4)]/0x2,_0x460806+_0x2099ac/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,'center',_0x9e412(0x20e),!![]);}else{if(gameOverSequenceStartTime>0x0){const _0x725093=_0x34c7d0-gameOverSequenceStartTime,_0x568320=_0x725093<GAME_OVER_DURATION,_0x588415=_0x725093>=GAME_OVER_DURATION;if(_0x568320)drawCanvasText('GAME\x20OVER',gameCanvas[_0x9e412(0x1e4)]/0x2,gameCanvas[_0x9e412(0x1fd)]/0x2,GAME_OVER_FONT,GAME_OVER_COLOR,_0x9e412(0x18c),_0x9e412(0x20e),GAME_OVER_SHADOW);else{if(_0x588415){gameCtx[_0x9e412(0x1e3)]();const _0x18d1d3=gameCanvas[_0x9e412(0x1e4)]/0x2,_0x34246b=gameCanvas[_0x9e412(0x1e4)];let _0x581739=RESULTS_START_Y+RESULTS_LINE_V_SPACING_SINGLE;const _0x5688e0=(_0x12241a,_0xa3f352,_0x5add65,_0x22e4ec,_0x2ea6b3,_0x13aa96,_0x740f9c,_0xe1cd)=>{const _0xba55d2=_0x9e412;let _0x585b9c=_0xe1cd;const _0x30f8e3=RESULTS_VALUE_COLOR_YELLOW,_0x511b85=RESULTS_VALUE_COLOR_CYAN;drawCanvasText(_0xba55d2(0x1c2),_0x740f9c,_0x585b9c,INTRO_TEXT_FONT,RESULTS_HEADER_COLOR,_0xba55d2(0x18c),_0xba55d2(0x17b),!![]),_0x585b9c+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x12241a,_0x740f9c,_0x585b9c,INTRO_TEXT_FONT,_0xba55d2(0x1b9),_0xba55d2(0x18c),_0xba55d2(0x20e),![]),_0x585b9c+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0xba55d2(0x21d),_0x740f9c,_0x585b9c,INTRO_TEXT_FONT,_0x30f8e3,_0xba55d2(0x18c),_0xba55d2(0x20e),![]),_0x585b9c+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x13aa96['toString'](),_0x740f9c,_0x585b9c,INTRO_TEXT_FONT,_0x511b85,_0xba55d2(0x18c),_0xba55d2(0x20e),![]),_0x585b9c+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText('SCORE',_0x740f9c,_0x585b9c,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0xba55d2(0x18c),_0xba55d2(0x20e),![]),_0x585b9c+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0xa3f352[_0xba55d2(0x22b)](),_0x740f9c,_0x585b9c,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0xba55d2(0x18c),_0xba55d2(0x20e),![]),_0x585b9c+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0xba55d2(0x1df),_0x740f9c,_0x585b9c,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0xba55d2(0x18c),_0xba55d2(0x20e),![]),_0x585b9c+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x5add65[_0xba55d2(0x22b)](),_0x740f9c,_0x585b9c,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0xba55d2(0x18c),_0xba55d2(0x20e),![]),_0x585b9c+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0xba55d2(0x1ce),_0x740f9c,_0x585b9c,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,'center',_0xba55d2(0x20e),![]),_0x585b9c+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x22e4ec[_0xba55d2(0x22b)](),_0x740f9c,_0x585b9c,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0xba55d2(0x18c),_0xba55d2(0x20e),![]),_0x585b9c+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0xba55d2(0x20d),_0x740f9c,_0x585b9c,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,'center',_0xba55d2(0x20e),![]),_0x585b9c+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x2ea6b3,_0x740f9c,_0x585b9c,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0xba55d2(0x18c),_0xba55d2(0x20e),![]),_0x585b9c+=RESULTS_LINE_V_SPACING_SINGLE*1.5,drawCanvasText(_0xba55d2(0x1b5),_0x740f9c,_0x585b9c,RESULTS_FOOTER_FONT,RESULTS_FOOTER_COLOR,_0xba55d2(0x18c),'middle',![]);};if(isTwoPlayerMode){const _0x4776c1=player1ShotsFired||0x0,_0x2cd77a=player1EnemiesHit||0x0,_0x36b1dd=_0x4776c1>0x0?Math['round'](_0x2cd77a/_0x4776c1*0x64)+'%':'0%',_0x16774c=player2ShotsFired||0x0,_0x28a4eb=player2EnemiesHit||0x0,_0x589587=_0x16774c>0x0?Math[_0x9e412(0x1ef)](_0x28a4eb/_0x16774c*0x64)+'%':'0%',_0x30a26c=_0x34246b*0.4,_0x2e5686=_0x34246b*0.1,_0xe5329a=_0x18d1d3-_0x2e5686/0x2-_0x30a26c/0x2+_0x30a26c*0.1,_0x1c57e0=_0x18d1d3+_0x2e5686/0x2+_0x30a26c/0x2-_0x30a26c*0.1,_0xf11836=_0x9e412(0x195);_0x5688e0(_0xf11836,player1Score,_0x4776c1,_0x2cd77a,_0x36b1dd,player1MaxLevelReached,_0xe5329a,_0x581739),_0x5688e0(_0x9e412(0x1bb),player2Score,_0x16774c,_0x28a4eb,_0x589587,player2MaxLevelReached,_0x1c57e0,_0x581739);let _0x2bd706=0x0;if(player1Score>player2Score)_0x2bd706=0x1;else{if(player2Score>player1Score)_0x2bd706=0x2;}if(_0x2bd706>0x0){let _0x10f475=_0x581739;_0x10f475+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,_0x10f475+=RESULTS_LINE_V_SPACING_SINGLE;let _0x337740=_0x581739;_0x337740+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,_0x337740+=RESULTS_LINE_V_SPACING_SINGLE;const _0x2595f1=_0x9e412(0x206)+_0x2bd706,_0x4bf9c3=_0x9e412(0x1dc);drawCanvasText(_0x2595f1,_0x18d1d3,_0x337740,INTRO_TEXT_FONT,_0x9e412(0x1b9),_0x9e412(0x18c),_0x9e412(0x20e),!![]),drawCanvasText(_0x4bf9c3,_0x18d1d3,_0x337740+RESULTS_LINE_V_SPACING_SINGLE,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x9e412(0x18c),_0x9e412(0x20e),!![]);}}else{const _0x269636=player1ShotsFired||0x0,_0x3b93e9=player1EnemiesHit||0x0,_0xa1f264=wasLastGameAIDemo?score:player1Score,_0x163c0a=wasLastGameAIDemo?level:player1MaxLevelReached,_0x368f5a=_0x269636>0x0?Math[_0x9e412(0x1ef)](_0x3b93e9/_0x269636*0x64)+'%':'0%',_0x1712c1=wasLastGameAIDemo?_0x9e412(0x1ed):_0x9e412(0x195);_0x5688e0(_0x1712c1,_0xa1f264,_0x269636,_0x3b93e9,_0x368f5a,_0x163c0a,_0x18d1d3,_0x581739);}gameCtx[_0x9e412(0x1cb)]();}}}}}}}catch(_0x56eee7){console[_0x9e412(0x1c1)](_0x9e412(0x20b),_0x56eee7,_0x56eee7[_0x9e412(0x1db)]);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;try{gameCtx&&gameCanvas&&(gameCtx[_0x9e412(0x210)]='red',gameCtx[_0x9e412(0x207)]=_0x9e412(0x180),gameCtx['textAlign']=_0x9e412(0x18c),gameCtx[_0x9e412(0x201)](_0x9e412(0x1d9),gameCanvas['width']/0x2,gameCanvas[_0x9e412(0x1fd)]/0x2));}catch(_0x262a64){}try{showMenuState();}catch(_0x19d764){}}}function hideCursor(){const _0x335ca5=_0x24c887;gameCanvas&&(gameCanvas[_0x335ca5(0x218)][_0x335ca5(0x209)]='none'),mouseIdleTimerId=null;}function handleCanvasMouseMove(_0x115213){const _0x44148e=_0x24c887;if(!gameCanvas)return;clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;let _0x4b96dc=_0x44148e(0x19d);const _0x50d5ed=!isInGameState||isShowingScoreScreen||gameOverSequenceStartTime>0x0&&Date[_0x44148e(0x21c)]()-gameOverSequenceStartTime>=GAME_OVER_DURATION;let _0x40745b=![],_0x2ee9cc=selectedButtonIndex;if(_0x50d5ed){const _0x74648f=gameCanvas[_0x44148e(0x217)](),_0x282fb3=gameCanvas[_0x44148e(0x1e4)]/_0x74648f[_0x44148e(0x1e4)],_0x14a89a=gameCanvas['height']/_0x74648f['height'],_0x209e35=(_0x115213['clientX']-_0x74648f[_0x44148e(0x1ca)])*_0x282fb3,_0x58ea8c=(_0x115213[_0x44148e(0x1ad)]-_0x74648f['top'])*_0x14a89a,_0x1c2f6b=getMenuButtonRect(0x0),_0xa0055d=getMenuButtonRect(0x1);if(_0x1c2f6b&&checkCollision({'x':_0x209e35,'y':_0x58ea8c,'width':0x1,'height':0x1},_0x1c2f6b))_0x2ee9cc=0x0,_0x40745b=!![];else _0xa0055d&&checkCollision({'x':_0x209e35,'y':_0x58ea8c,'width':0x1,'height':0x1},_0xa0055d)?(_0x2ee9cc=0x1,_0x40745b=!![]):(_0x2ee9cc=-0x1,_0x40745b=![]);_0x2ee9cc!==selectedButtonIndex&&(selectedButtonIndex=_0x2ee9cc,_0x40745b&&stopAutoDemoTimer()),_0x4b96dc=_0x40745b?_0x44148e(0x176):_0x44148e(0x19d);}else _0x4b96dc='default',selectedButtonIndex=-0x1;gameCanvas['style'][_0x44148e(0x209)]=_0x4b96dc,mouseIdleTimerId=setTimeout(hideCursor,0x7d0);if(!isInGameState){const _0x498ff8=Date[_0x44148e(0x21c)]();if(_0x498ff8-lastMouseMoveResetTime>0x1f4){if(typeof startAutoDemoTimer===_0x44148e(0x1fa))startAutoDemoTimer();lastMouseMoveResetTime=_0x498ff8;}}}function mainLoop(_0x5e3344){const _0xc2ce46=_0x24c887;try{drawStars();retroGridCtx&&retroGridCanvas&&drawRetroGrid();pollControllerForMenu();if(isInGameState&&!isPaused){if(!isManualControl&&connectedGamepadIndex!==null){const _0x2b3197=navigator[_0xc2ce46(0x1c5)]();if(_0x2b3197?.[connectedGamepadIndex]){const _0x4e9641=_0x2b3197[connectedGamepadIndex],_0x10afc7=_0x4e9641[_0xc2ce46(0x1fc)][_0xc2ce46(0x19e)](_0x3a32bc=>_0x3a32bc[_0xc2ce46(0x19a)]);let _0x25797e=![];for(let _0x435fa5=0x0;_0x435fa5<_0x10afc7[_0xc2ce46(0x1e9)];_0x435fa5++){if(_0x435fa5===PS5_BUTTON_R1||_0x435fa5===PS5_BUTTON_TRIANGLE)continue;if(_0x10afc7[_0x435fa5]&&!(previousDemoButtonStates[_0x435fa5]??![])){_0x25797e=!![];break;}}if(_0x25797e){const _0x5ac082=_0x10afc7['slice']();showMenuState(),requestAnimationFrame(mainLoop);return;}previousDemoButtonStates=_0x10afc7['slice']();}else{if(previousDemoButtonStates[_0xc2ce46(0x1e9)]>0x0)previousDemoButtonStates=[];}}else{if(previousDemoButtonStates[_0xc2ce46(0x1e9)]>0x0)previousDemoButtonStates=[];}if(typeof runSingleGameUpdate===_0xc2ce46(0x1fa))runSingleGameUpdate(_0x5e3344);else{console['error'](_0xc2ce46(0x216));if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,showMenuState(),requestAnimationFrame(mainLoop);return;}if(gameOverSequenceStartTime>0x0){const _0x43145d=Date[_0xc2ce46(0x21c)](),_0x3fdfa0=_0x43145d-gameOverSequenceStartTime,_0x3d7fa8=GAME_OVER_DURATION+RESULTS_SCREEN_DURATION;if(_0x3fdfa0>=_0x3d7fa8){showMenuState(),requestAnimationFrame(mainLoop);return;}}}else{if(isShowingScoreScreen){const _0x13e8e4=Date[_0xc2ce46(0x21c)]()-scoreScreenStartTime;if(_0x13e8e4>=SCORE_SCREEN_DURATION){startAIDemo(),requestAnimationFrame(mainLoop);return;}if(typeof renderGame===_0xc2ce46(0x1fa))renderGame();}else{if(isInGameState&&gameOverSequenceStartTime>0x0){if(typeof renderGame==='function')renderGame();const _0x532a4e=Date[_0xc2ce46(0x21c)](),_0x18a4c8=_0x532a4e-gameOverSequenceStartTime,_0xe9c3e1=GAME_OVER_DURATION+RESULTS_SCREEN_DURATION;if(_0x18a4c8>=_0xe9c3e1){showMenuState(),requestAnimationFrame(mainLoop);return;}}else{if(isInGameState&&isPaused){if(typeof renderGame===_0xc2ce46(0x1fa))renderGame();}else{if(isInGameState&&isCsCompletionDelayActive){if(typeof runSingleGameUpdate===_0xc2ce46(0x1fa))runSingleGameUpdate(_0x5e3344);else{if(typeof renderGame===_0xc2ce46(0x1fa))renderGame();}}else{if(isInGameState&&isShowingPlayerGameOverMessage){if(typeof runSingleGameUpdate==='function')runSingleGameUpdate(_0x5e3344);else{if(typeof renderGame===_0xc2ce46(0x1fa))renderGame();}}else{if(typeof renderGame==='function')renderGame();}}}}}}mainLoopId=requestAnimationFrame(mainLoop);}catch(_0xb33f6){console[_0xc2ce46(0x1c1)](_0xc2ce46(0x1f4),_0xb33f6,_0xb33f6['stack']);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,isPaused=![];const _0x4a7905=[gridBackgroundSound,entranceSound,butterflyDiveSound,startSound,coinSound,bossGalagaDiveSound,enemyShootSound,levelUpSound,gameOverSound,playerShootSound,extraLifeSound,csPerfectSound,csClearSound,explosionSound,waveUpSound,menuMusicSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound];_0x4a7905[_0xc2ce46(0x1f6)](_0x224ee7=>stopSound(_0x224ee7)),isGridSoundPlaying=![];try{showMenuState();}catch(_0x42940d){console[_0xc2ce46(0x1c1)]('Failed\x20to\x20return\x20to\x20menu\x20after\x20loop\x20error:',_0x42940d),document[_0xc2ce46(0x18f)][_0xc2ce46(0x1c6)]='<p\x20style=\x22color:white;\x22>CRITICAL\x20LOOP\x20ERROR.\x20Please\x20refresh.</p>';}}}function startMainLoop(){const _0x516063=_0x24c887;mainLoopId===null?(gridOffsetY=0x0,mainLoop()):console[_0x516063(0x16a)](_0x516063(0x1fb));}function initializeGame(){const _0x9b7ef0=_0x24c887;try{if(typeof initializeDOMElements===_0x9b7ef0(0x1fa)){if(!initializeDOMElements()){console[_0x9b7ef0(0x1c1)](_0x9b7ef0(0x193));return;}}else{console[_0x9b7ef0(0x1c1)]('initializeDOMElements\x20function\x20not\x20found!');return;}if(typeof loadHighScore==='function')loadHighScore();else console[_0x9b7ef0(0x16a)]('loadHighScore\x20function\x20not\x20found.');if(typeof defineNormalWaveEntrancePaths===_0x9b7ef0(0x1fa))defineNormalWaveEntrancePaths();else console[_0x9b7ef0(0x1c1)](_0x9b7ef0(0x204));if(typeof defineChallengingStagePaths===_0x9b7ef0(0x1fa))defineChallengingStagePaths();else console[_0x9b7ef0(0x1c1)](_0x9b7ef0(0x1f2));window['addEventListener'](_0x9b7ef0(0x1f8),handleKeyDown),window[_0x9b7ef0(0x1d5)](_0x9b7ef0(0x1ac),handleKeyUp);gameCanvas?(gameCanvas['addEventListener'](_0x9b7ef0(0x177),handleCanvasClick),gameCanvas['addEventListener'](_0x9b7ef0(0x194),handleCanvasMouseMove)):console[_0x9b7ef0(0x1c1)](_0x9b7ef0(0x1d0));window[_0x9b7ef0(0x1d5)](_0x9b7ef0(0x173),handleGamepadConnected),window[_0x9b7ef0(0x1d5)]('gamepaddisconnected',handleGamepadDisconnected),window[_0x9b7ef0(0x1d5)]('resize',resizeCanvases),showMenuState();if(typeof resizeCanvases===_0x9b7ef0(0x1fa))resizeCanvases();else console[_0x9b7ef0(0x1c1)](_0x9b7ef0(0x192));startMainLoop();}catch(_0x3e689a){console[_0x9b7ef0(0x1c1)]('FATAL\x20INITIALIZATION\x20ERROR:',_0x3e689a,_0x3e689a[_0x9b7ef0(0x1db)]),document['body'][_0x9b7ef0(0x1c6)]=_0x9b7ef0(0x1e7)+_0x3e689a['message']+_0x9b7ef0(0x1d3),mainLoopId&&(cancelAnimationFrame(mainLoopId),mainLoopId=null);}}window[_0x24c887(0x1d5)](_0x24c887(0x212),initializeGame);