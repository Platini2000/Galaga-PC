const _0x2a8dbc=_0x1314;(function(_0x299f40,_0x57d577){const _0x531362=_0x1314,_0x967432=_0x299f40();while(!![]){try{const _0x4e1803=parseInt(_0x531362(0x104))/0x1*(parseInt(_0x531362(0xd7))/0x2)+-parseInt(_0x531362(0xdd))/0x3+parseInt(_0x531362(0xb1))/0x4*(parseInt(_0x531362(0xc7))/0x5)+parseInt(_0x531362(0xa1))/0x6+-parseInt(_0x531362(0x111))/0x7*(parseInt(_0x531362(0x127))/0x8)+parseInt(_0x531362(0xb7))/0x9*(-parseInt(_0x531362(0x123))/0xa)+parseInt(_0x531362(0x124))/0xb;if(_0x4e1803===_0x57d577)break;else _0x967432['push'](_0x967432['shift']());}catch(_0x2abc09){_0x967432['push'](_0x967432['shift']());}}}(_0x5a11,0x24a20));const MENU_LOGO_APPROX_HEIGHT=0x55,MENU_SUBTITLE_TEXT=_0x2a8dbc(0x118),MENU_SUBTITLE_FONT=_0x2a8dbc(0x10b),MENU_SUBTITLE_COLOR=_0x2a8dbc(0xef),MENU_BUTTON_FONT=_0x2a8dbc(0xcc),MENU_BUTTON_COLOR='white',MENU_BUTTON_COLOR_HOVER=_0x2a8dbc(0xb3),MENU_BUTTON_WIDTH=0x12c,MENU_BUTTON_HEIGHT=0x37,MENU_LOGO_BOTTOM_TO_START_GAP=0x5,MENU_BUTTON_V_GAP=-0xf,MENU_BUTTON_SUBTITLE_V_GAP=-0x0,MENU_SCORE_FONT=_0x2a8dbc(0x8f),MENU_SCORE_COLOR='white',MENU_SCORE_LABEL_COLOR=_0x2a8dbc(0xef),GAME_OVER_FONT='bold\x2018px\x20\x27Press\x20Start\x202P\x27',GAME_OVER_COLOR=_0x2a8dbc(0xb3),GAME_OVER_SHADOW=!![],DEMO_TEXT_LINE1_FONT='bold\x2018px\x20\x27Press\x20Start\x202P\x27',DEMO_TEXT_COLOR=_0x2a8dbc(0xb3),DEMO_TEXT_BLINK_ON_MS=0x3e8,DEMO_TEXT_BLINK_OFF_MS=0x3e8,DEMO_TEXT_BLINK_CYCLE_MS=DEMO_TEXT_BLINK_ON_MS+DEMO_TEXT_BLINK_OFF_MS,LOGO_SCALE_FACTOR=0.45,MENU_LOGO_EXTRA_Y_OFFSET=0x0,MENU_GENERAL_Y_OFFSET=0x32,INTRO_TEXT_FONT=_0x2a8dbc(0x7e),INTRO_TEXT_COLOR_NORMAL=_0x2a8dbc(0xb3),INTRO_TEXT_COLOR_DARK_YELLOW='yellow',INTRO_TEXT_COLOR_CS_TEXT=INTRO_TEXT_COLOR_NORMAL,PERFECT_TEXT_COLOR='red',EXTRA_LIFE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,READY_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_BONUS_SCORE_TEXT_COLOR=INTRO_TEXT_COLOR_DARK_YELLOW,CS_CLEAR_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_HITS_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_CLEAR_SCORE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,PAUSE_TEXT_FONT=INTRO_TEXT_FONT,PAUSE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,PAUSE_TEXT_SHADOW=!![],RESULTS_SCREEN_DURATION=0x4e20,PLAYER_GAME_OVER_MESSAGE_DURATION=0x1388,SCORE_SCREEN_TEXT_FONT=INTRO_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_TOP=INTRO_TEXT_COLOR_NORMAL,SCORE_SCREEN_TEXT_COLOR_BONUS=INTRO_TEXT_COLOR_DARK_YELLOW,SCORE_SCREEN_LINE_V_SPACING=0x28,SCORE_SCREEN_ICON_TEXT_H_SPACING=0xf,SCORE_SCREEN_VERTICAL_OFFSET=0x4b,RESULTS_HEADER_COLOR=_0x2a8dbc(0xef),RESULTS_VALUE_COLOR_YELLOW=INTRO_TEXT_COLOR_DARK_YELLOW,RESULTS_LABEL_COLOR=_0x2a8dbc(0xd1),RESULTS_VALUE_COLOR_CYAN=INTRO_TEXT_COLOR_NORMAL,RESULTS_LINE_V_SPACING_SINGLE=0x23,RESULTS_LINE_V_SPACING_DOUBLE=0x5a,RESULTS_START_Y=0x9b,RESULTS_FOOTER_FONT=MENU_SUBTITLE_FONT,RESULTS_FOOTER_COLOR=RESULTS_HEADER_COLOR,CS_MESSAGE_VERTICAL_OFFSET=0x1e;function getSubtitleApproxHeight(_0x315ffa){const _0x1fe722=_0x315ffa['match'](/(\d+)px/);return _0x1fe722?.[0x1]?parseInt(_0x1fe722[0x1],0xa):0x19;}function formatMillisecondsToMMSS(_0x598f9a){const _0x45894e=_0x2a8dbc;if(_0x598f9a<=0x0||typeof _0x598f9a!==_0x45894e(0x80)||!isFinite(_0x598f9a))return _0x45894e(0x9f);const _0xbac9e7=Math['floor'](_0x598f9a/0x3e8),_0xcaaf89=Math[_0x45894e(0x95)](_0xbac9e7/0x3c),_0x2ff0e7=_0xbac9e7%0x3c,_0x461073=String(_0xcaaf89)[_0x45894e(0xd6)](0x2,'0'),_0x34f8b9=String(_0x2ff0e7)['padStart'](0x2,'0');return _0x461073+':'+_0x34f8b9;}function getMenuButtonRect(_0x321e52){const _0x26c836=_0x2a8dbc;if(!gameCtx||!gameCanvas||gameCanvas['width']===0x0||gameCanvas[_0x26c836(0xdc)]===0x0)return null;const _0x3e3738=gameCanvas[_0x26c836(0xa9)],_0x21665b=gameCanvas[_0x26c836(0xdc)],_0xb06e5c=_0x3e3738/0x2-MENU_BUTTON_WIDTH/0x2-0x1;let _0x41a056=MENU_LOGO_APPROX_HEIGHT;typeof logoImage!==_0x26c836(0xb0)&&logoImage[_0x26c836(0x8a)]&&logoImage[_0x26c836(0x8d)]!==0x0&&(_0x41a056=logoImage[_0x26c836(0x8d)]*LOGO_SCALE_FACTOR);const _0x16a944=getSubtitleApproxHeight(MENU_SUBTITLE_FONT),_0x4e953d=_0x41a056+MENU_LOGO_BOTTOM_TO_START_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_SUBTITLE_V_GAP+_0x16a944;let _0x3e422a=(_0x21665b-_0x4e953d)/0x2-0x46;_0x3e422a+=MENU_GENERAL_Y_OFFSET;const _0x169e11=_0x3e422a+_0x41a056+MENU_LOGO_BOTTOM_TO_START_GAP,_0x2d236d=_0x169e11+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP;if(_0x321e52===0x0)return{'x':_0xb06e5c,'y':Math[_0x26c836(0x9d)](_0x169e11),'width':MENU_BUTTON_WIDTH,'height':MENU_BUTTON_HEIGHT};else{if(_0x321e52===0x1)return{'x':_0xb06e5c,'y':Math[_0x26c836(0x9d)](_0x2d236d),'width':MENU_BUTTON_WIDTH,'height':MENU_BUTTON_HEIGHT};}return null;}function pollControllerForMenu(){const _0x5bc880=_0x2a8dbc;try{if(connectedGamepadIndex===null&&connectedGamepadIndexP2===null){joystickMovedVerticallyLastFrame=![];if(previousButtonStates[_0x5bc880(0xd5)]>0x0)previousButtonStates=[];if(previousGameButtonStates['length']>0x0)previousGameButtonStates=[];if(previousGameButtonStatesP2[_0x5bc880(0xd5)]>0x0)previousGameButtonStatesP2=[];return;}let _0xfa8d12=connectedGamepadIndex!==null?connectedGamepadIndex:connectedGamepadIndexP2;if(_0xfa8d12===null)return;const _0x58c7da=navigator['getGamepads']();if(!_0x58c7da?.[_0xfa8d12])return;const _0x58d6bc=_0x58c7da[_0xfa8d12],_0xeb0e4c=_0x58d6bc[_0x5bc880(0xb9)][_0x5bc880(0xbd)](_0x15a176=>_0x15a176[_0x5bc880(0xe8)]),_0x14c7ac=_0xeb0e4c,_0xa5a8=_0xeb0e4c;let _0x79ee1f=![];const _0x201552=Date[_0x5bc880(0xad)]();let _0x406cb5=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x406cb5=!![]);if(_0x406cb5){connectedGamepadIndex!==null&&(previousButtonStates=_0x14c7ac[_0x5bc880(0x81)](),previousGameButtonStates=_0xa5a8[_0x5bc880(0x81)]());if(connectedGamepadIndexP2!==null){const _0x1c7669=navigator[_0x5bc880(0xca)]();_0x1c7669?.[connectedGamepadIndexP2]&&(previousGameButtonStatesP2=_0x1c7669[connectedGamepadIndexP2]['buttons'][_0x5bc880(0xbd)](_0x7a55ba=>_0x7a55ba[_0x5bc880(0xe8)]));}return;}if(isInGameState&&playerLives>0x0&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){const _0x3fcb18=_0xa5a8[PS5_BUTTON_TRIANGLE],_0x4884bc=previousGameButtonStates[PS5_BUTTON_TRIANGLE]??![];_0x3fcb18&&!_0x4884bc&&(stopGameAndShowMenu(),_0x79ee1f=!![]);}if(!_0x79ee1f&&isInGameState&&playerLives>0x0&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){const _0x5d8fe5=_0xa5a8[PS5_BUTTON_R1],_0x548edf=previousGameButtonStates[PS5_BUTTON_R1]??![];if(_0x5d8fe5&&!_0x548edf){if(typeof togglePause==='function')togglePause();_0x79ee1f=!![];}}if(!_0x79ee1f){const _0x3ae0e5=isShowingScoreScreen;if(_0x3ae0e5){let _0x3b60b5=![];for(let _0x1eb30e=0x0;_0x1eb30e<_0x14c7ac[_0x5bc880(0xd5)];_0x1eb30e++){if(_0x1eb30e===PS5_BUTTON_R1||_0x1eb30e===PS5_BUTTON_TRIANGLE)continue;const _0x5886a0=previousButtonStates[_0x1eb30e]??![];if(_0x14c7ac[_0x1eb30e]&&!_0x5886a0){_0x3b60b5=!![];break;}}if(_0x3b60b5){if(typeof showMenuState===_0x5bc880(0x126))showMenuState();_0x79ee1f=!![];}}else{if(!isInGameState&&!_0x79ee1f){const _0x1f71a9=_0x14c7ac[PS5_BUTTON_CROSS],_0x1cfcd7=previousButtonStates[PS5_BUTTON_CROSS]??![],_0x20f005=_0x14c7ac[PS5_BUTTON_CIRCLE],_0x2cc07f=previousButtonStates[PS5_BUTTON_CIRCLE]??![],_0x3512d8=_0x58d6bc[_0x5bc880(0xce)][PS5_LEFT_STICK_Y]??0x0,_0x3025bc=_0x14c7ac[PS5_DPAD_UP],_0x33499e=_0x14c7ac[PS5_DPAD_DOWN];let _0x368cc0=0x0;if(_0x3512d8<-AXIS_DEAD_ZONE_MENU||_0x3025bc)_0x368cc0=-0x1;else{if(_0x3512d8>AXIS_DEAD_ZONE_MENU||_0x33499e)_0x368cc0=0x1;}let _0x22ac49=_0x368cc0!==0x0;if(_0x22ac49&&!joystickMovedVerticallyLastFrame){let _0x3b4555=selectedButtonIndex;const _0x2cd56e=0x2;_0x3b4555===-0x1?_0x3b4555=_0x368cc0===0x1?0x0:_0x2cd56e-0x1:_0x3b4555+=_0x368cc0;if(_0x3b4555<0x0)_0x3b4555=_0x2cd56e-0x1;if(_0x3b4555>=_0x2cd56e)_0x3b4555=0x0;_0x3b4555!==selectedButtonIndex&&(selectedButtonIndex=_0x3b4555,startAutoDemoTimer());}joystickMovedVerticallyLastFrame=_0x22ac49;if(_0x1f71a9&&!_0x1cfcd7){stopAutoDemoTimer();if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0x5bc880(0xbb):selectedFiringMode=_0x5bc880(0x91),baseStartGame(!![]),_0x79ee1f=!![];else{if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P(),_0x79ee1f=!![];else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer(),_0x79ee1f=!![];else selectedButtonIndex===0x1&&(exitGame(),_0x79ee1f=!![]);}}}if(!_0x79ee1f&&_0x20f005&&!_0x2cc07f){stopAutoDemoTimer();if(isFiringModeSelectMode)isFiringModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer(),_0x79ee1f=!![];else isPlayerSelectMode?(isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer(),_0x79ee1f=!![]):(triggerFullscreen(),playSound(menuMusicSound),_0x79ee1f=!![]);}}}}connectedGamepadIndex!==null&&(previousButtonStates=_0x14c7ac[_0x5bc880(0x81)](),previousGameButtonStates=_0xa5a8[_0x5bc880(0x81)]());if(connectedGamepadIndexP2!==null){const _0x150137=navigator[_0x5bc880(0xca)]();_0x150137?.[connectedGamepadIndexP2]&&(previousGameButtonStatesP2=_0x150137[connectedGamepadIndexP2][_0x5bc880(0xb9)][_0x5bc880(0xbd)](_0x216b55=>_0x216b55[_0x5bc880(0xe8)]));}}catch(_0xb09c77){console[_0x5bc880(0xab)]('Error\x20in\x20pollControllerForMenu:',_0xb09c77),previousButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[],selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![];}}function startAutoDemoTimer(){const _0x12add2=_0x2a8dbc;try{stopAutoDemoTimer(),autoStartTimerId=setTimeout(()=>{!isInGameState&&!isShowingScoreScreen?(isPlayerSelectMode=![],isFiringModeSelectMode=![],showScoreScreen()):autoStartTimerId=null;},MENU_INACTIVITY_TIMEOUT);}catch(_0x31beeb){console[_0x12add2(0xab)](_0x12add2(0xe2),_0x31beeb);}}function stopAutoDemoTimer(){const _0xca0966=_0x2a8dbc;try{autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null);}catch(_0x1efdd7){console[_0xca0966(0xab)](_0xca0966(0xe6),_0x1efdd7);}}function showScoreScreen(){if(isInGameState||isShowingScoreScreen)return;stopAutoDemoTimer(),isShowingScoreScreen=!![],isPlayerSelectMode=![],isFiringModeSelectMode=![],scoreScreenStartTime=Date['now'](),selectedButtonIndex=-0x1;}function showMenuState(){const _0x4a507d=_0x2a8dbc;try{wasLastGameAIDemo&&(highScore=0x4e20);wasLastGameAIDemo=![],isInGameState=![],isShowingScoreScreen=![],scoreScreenStartTime=0x0,isManualControl=![],isShowingDemoText=![],isPaused=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedFiringMode='rapid',isTwoPlayerMode=![],currentPlayer=0x1,showCsHitsMessage=![],csHitsMessageStartTime=0x0,showPerfectMessage=![],perfectMessageStartTime=0x0,showCsBonusScoreMessage=![],csBonusScoreMessageStartTime=0x0,showCSClearMessage=![],csClearMessageStartTime=0x0,showCsHitsForClearMessage=![],showCsScoreForClearMessage=![],showExtraLifeMessage=![],extraLifeMessageStartTime=0x0,showReadyMessage=![],readyMessageStartTime=0x0,readyForNextWave=![],readyForNextWaveReset=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![],isShowingPlayerGameOverMessage=![],playerGameOverMessageStartTime=0x0,playerWhoIsGameOver=0x0,nextActionAfterPlayerGameOver='',player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![];const _0x977294=[gridBackgroundSound,entranceSound,butterflyDiveSound,startSound,coinSound,bossGalagaDiveSound,enemyShootSound,levelUpSound,gameOverSound,playerShootSound,extraLifeSound,csPerfectSound,csClearSound,explosionSound,waveUpSound,menuMusicSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound,resultsMusicSound,hiScoreSound];_0x977294['forEach'](_0x1cf25=>stopSound(_0x1cf25)),isGridSoundPlaying=![],typeof enemies!==_0x4a507d(0xb0)&&Array['isArray'](enemies)&&enemies[_0x4a507d(0xcb)](_0x5e9fc0=>{const _0x50407a=_0x4a507d;if(_0x5e9fc0?.[_0x50407a(0xf3)]==='attacking'){if(_0x5e9fc0[_0x50407a(0x10e)]===ENEMY3_TYPE)stopSound(bossGalagaDiveSound);else stopSound(butterflyDiveSound);}}),playerLives=0x3,score=0x0,level=0x1,player1Lives=0x3,player2Lives=0x3,player1Score=0x0,player2Score=0x0,player1ShotsFired=0x0,player2ShotsFired=0x0,player1EnemiesHit=0x0,player2EnemiesHit=0x0,player1MaxLevelReached=0x1,player2MaxLevelReached=0x1,scoreEarnedThisCS=0x0,enemies=[],bullets=[],enemyBullets=[],explosions=[],isShowingIntro=![],introStep=0x0,isChallengingStage=![],challengingStageEnemiesHit=0x0,currentGridOffsetX=0x0,gridMoveDirection=0x1,currentWaveDefinition=null,isEntrancePhaseActive=![],totalEnemiesScheduledForWave=0x0,enemiesSpawnedThisWave=0x0,typeof enemySpawnTimeouts!==_0x4a507d(0xb0)&&Array[_0x4a507d(0x96)](enemySpawnTimeouts)&&enemySpawnTimeouts[_0x4a507d(0xcb)](clearTimeout),enemySpawnTimeouts=[],lastEnemyDetachTime=0x0,selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[],isShowingResultsScreen=![],gameOverSequenceStartTime=0x0,gameStartTime=0x0,forceCenterShipNextReset=![],player1CompletedLevel=-0x1,p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![],ship&&gameCanvas&&gameCanvas[_0x4a507d(0xa9)]>0x0&&gameCanvas[_0x4a507d(0xdc)]>0x0?(ship['x']=Math[_0x4a507d(0x9d)](gameCanvas[_0x4a507d(0xa9)]/0x2-SHIP_WIDTH/0x2),ship[_0x4a507d(0x7f)]=ship['x'],ship['y']=gameCanvas[_0x4a507d(0xdc)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN):console[_0x4a507d(0x10c)](_0x4a507d(0xa6)),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0),playSound(menuMusicSound),startAutoDemoTimer();}catch(_0x1f0ea2){console['error'](_0x4a507d(0xae),_0x1f0ea2),wasLastGameAIDemo=![],isInGameState=![],isShowingScoreScreen=![],isPaused=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isTwoPlayerMode=![],currentPlayer=0x1,isShowingPlayerGameOverMessage=![],player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,alert(_0x4a507d(0x11b)),document[_0x4a507d(0xcf)][_0x4a507d(0x109)]=_0x4a507d(0x11a);}}function startAIDemo(){const _0x4b5adb=_0x2a8dbc;if(isInGameState)return;stopSound(menuMusicSound),isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedFiringMode=_0x4b5adb(0xbb),isTwoPlayerMode=![],isManualControl=![],isShowingDemoText=!![],wasLastGameAIDemo=!![],baseStartGame(![]),gameJustStarted=!![];}function startGame1P(){if(isInGameState)return;isTwoPlayerMode=![],isPlayerSelectMode=![],isFiringModeSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer();}function startGame2P(){if(isInGameState)return;isTwoPlayerMode=!![],isPlayerSelectMode=![],isFiringModeSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer();}function baseStartGame(_0x315c87){const _0x42cadc=_0x2a8dbc;try{if(!gameCanvas||!gameCtx){console[_0x42cadc(0xab)]('Cannot\x20start\x20game\x20-\x20canvas\x20not\x20ready.'),showMenuState();return;}stopSound(menuMusicSound),stopAutoDemoTimer(),isInGameState=!![],isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isManualControl=_0x315c87,isShowingDemoText=!_0x315c87,isPaused=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];_0x315c87&&(wasLastGameAIDemo=![]);clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);if(typeof resetGame===_0x42cadc(0x126))resetGame();else{console[_0x42cadc(0xab)](_0x42cadc(0x10a)),alert(_0x42cadc(0xfa)),showMenuState();return;}_0x315c87&&playSound(coinSound),gameStartTime=Date[_0x42cadc(0xad)](),leftPressed=![],rightPressed=![],shootPressed=![],p2LeftPressed=![],p2RightPressed=![],p2ShootPressed=![],keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],selectedButtonIndex=-0x1,ship&&gameCanvas&&gameCanvas['width']>0x0&&gameCanvas[_0x42cadc(0xdc)]>0x0&&(ship['x']=Math[_0x42cadc(0x9d)](gameCanvas[_0x42cadc(0xa9)]/0x2-SHIP_WIDTH/0x2),ship[_0x42cadc(0x7f)]=ship['x'],ship['y']=gameCanvas[_0x42cadc(0xdc)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN),mainLoopId===null&&startMainLoop();}catch(_0x2bb215){console[_0x42cadc(0xab)]('Error\x20in\x20baseStartGame:',_0x2bb215),wasLastGameAIDemo=![],clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null,alert(_0x42cadc(0xbf)),showMenuState();}}function stopGameAndShowMenu(){isPaused=![];if(isManualControl)saveHighScore();showMenuState();}function _0x1314(_0xfbb38c,_0x1f8591){const _0x5a1168=_0x5a11();return _0x1314=function(_0x13147d,_0x412d10){_0x13147d=_0x13147d-0x7c;let _0x3dd782=_0x5a1168[_0x13147d];return _0x3dd782;},_0x1314(_0xfbb38c,_0x1f8591);}function exitGame(){const _0x494f9d=_0x2a8dbc;isPaused=![],stopAutoDemoTimer(),saveHighScore(),isInGameState=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],showMenuState();try{window[_0x494f9d(0x10d)](),setTimeout(()=>{if(!isInGameState)showMenuState();},0xc8);}catch(_0x48d22f){console['error'](_0x494f9d(0xc2),_0x48d22f),showMenuState();}}function triggerGameOver(){triggerFinalGameOverSequence();}function startAutoDemoTimer(){try{stopAutoDemoTimer(),autoStartTimerId=setTimeout(()=>{!isInGameState&&!isShowingScoreScreen?(isPlayerSelectMode=![],isFiringModeSelectMode=![],showScoreScreen()):autoStartTimerId=null;},MENU_INACTIVITY_TIMEOUT);}catch(_0x40c179){console['error']('Error\x20starting\x20auto\x20demo\x20timer:',_0x40c179);}}function stopAutoDemoTimer(){const _0x3a9035=_0x2a8dbc;try{autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null);}catch(_0x13ebcc){console['error'](_0x3a9035(0xe6),_0x13ebcc);}}function showScoreScreen(){if(isInGameState||isShowingScoreScreen)return;stopAutoDemoTimer(),isShowingScoreScreen=!![],isPlayerSelectMode=![],isFiringModeSelectMode=![],scoreScreenStartTime=Date['now'](),selectedButtonIndex=-0x1,clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);}function handleCanvasClick(_0x2d5d44){const _0x301857=_0x2a8dbc;if(!gameCanvas)return;const _0x143f17=gameCanvas[_0x301857(0xd2)](),_0x4a3d14=gameCanvas['width']/_0x143f17[_0x301857(0xa9)],_0x760c02=gameCanvas[_0x301857(0xdc)]/_0x143f17[_0x301857(0xdc)],_0x4f103b=(_0x2d5d44[_0x301857(0xb6)]-_0x143f17['left'])*_0x4a3d14,_0x2aa66d=(_0x2d5d44['clientY']-_0x143f17[_0x301857(0xd8)])*_0x760c02,_0x37e4d5=Date[_0x301857(0xad)]();let _0x444c57=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x444c57=!![]);if(_0x444c57)return;if(isInGameState){if(isPaused){if(typeof togglePause==='function')togglePause();return;}if(!isManualControl){if(typeof stopGameAndShowMenu===_0x301857(0x126))stopGameAndShowMenu();}}else{if(isShowingScoreScreen){if(typeof showMenuState===_0x301857(0x126))showMenuState();}else{const _0x25931c=getMenuButtonRect(0x0),_0xe5e994=getMenuButtonRect(0x1);let _0x227633=_0x25931c&&checkCollision({'x':_0x4f103b,'y':_0x2aa66d,'width':0x1,'height':0x1},_0x25931c),_0x46a4bb=_0xe5e994&&checkCollision({'x':_0x4f103b,'y':_0x2aa66d,'width':0x1,'height':0x1},_0xe5e994);if(isFiringModeSelectMode){if(_0x227633)selectedFiringMode=_0x301857(0xbb),baseStartGame(!![]),stopAutoDemoTimer();else _0x46a4bb?(selectedFiringMode=_0x301857(0x91),baseStartGame(!![]),stopAutoDemoTimer()):(isFiringModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer());}else{if(isPlayerSelectMode){if(_0x227633)startGame1P(),stopAutoDemoTimer();else _0x46a4bb?(startGame2P(),stopAutoDemoTimer()):(isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer());}else{if(_0x227633)isPlayerSelectMode=!![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer();else{if(_0x46a4bb){if(typeof exitGame===_0x301857(0x126))exitGame();stopAutoDemoTimer();}else triggerFullscreen(),playSound(menuMusicSound),stopAutoDemoTimer();}}}}}}function _0x5a11(){const _0x45d81b=['rgba(0,\x200,\x20139,\x200.5)','getGamepads','forEach','22px\x20\x27Arial\x20Black\x27,\x20Gadget,\x20sans-serif','velocityY','axes','body','<p\x20style=\x22color:white;\x22>CRITICAL\x20LOOP\x20ERROR.\x20Please\x20refresh.</p>','white','getBoundingClientRect','STAGE\x20','START\x20GAME','length','padStart','2ZZpMNL','top','1UP','naturalWidth','attacking','height','574254vqujnp','showing_capture_message','right','alpha','add','Error\x20starting\x20auto\x20demo\x20timer:','lineTo','random','default','Error\x20stopping\x20auto\x20demo\x20timer:','Error\x20rendering\x20explosions:','pressed','PERFECT\x20!','<div\x20style=\x22color:white;\x20padding:\x2020px;\x20font-family:\x20sans-serif;\x22><h1>Fatal\x20Initialization\x20Error</h1><p>The\x20game\x20could\x20not\x20be\x20started.\x20Please\x20check\x20the\x20browser\x20console\x20(F12)\x20for\x20details.</p><p>Error:\x20','left','clientY','EASY','beginPath','red','HIT-MISS-RATIO','restore','tintProgress','state','defineNormalWaveEntrancePaths\x20not\x20found!','text','PLAYER\x202','</p></div>','PLAYER\x20','min','Critical\x20error:\x20Game\x20logic\x20not\x20loaded\x20correctly!','fillText','globalCompositeOperation','size','rgba(255,\x20200,\x2080,\x20','abs','WINS','gamepadconnected','HIGH\x20SCORE','sin','116374wBOKsc','mousemove','2\x20PLAYER','shadowOffsetY','measureText','innerHTML','FATAL:\x20resetGame\x20function\x20is\x20not\x20defined!\x20Cannot\x20start\x20game\x20properly.','18px\x20\x27Arial\x20Black\x27,\x20Gadget,\x20sans-serif','warn','close','type','addEventListener','DEMO','959GPmMcW','center','toString','save','isDamaged','arc','purple','Written\x20By\x20Platini2000(c)','push','<p\x20style=\x22color:white;\x22>Error\x20returning\x20to\x20menu.\x20Please\x20refresh.</p>','Error\x20returning\x20to\x20menu.\x20Please\x20refresh\x20the\x20page.','find','particles','click','val','textBaseline','source-atop','none','1363730EGxFpz','4895242swyAzs','stack','function','13112iWDMme','fillStyle','\x20PTS','Could\x20not\x20add\x20','font','LOGO','Cannot\x20add\x20canvas\x20listeners:\x20gameCanvas\x20not\x20found\x20during\x20init.','translate','gamepaddisconnected','-\x20RESULTS\x20-','STAGE\x20CLEARED','2025\x20\x20\x20PLATINI2000(c)\x20\x20\x20LTD','20px\x20sans-serif','max','moveTo','FIGHTER\x20CAPTURED','Failed\x20to\x20return\x20to\x20menu\x20after\x20loop\x20error:','rgba(0,\x200,\x200,\x200.8)','2UP','resizeCanvases\x20not\x20found!','bold\x2018px\x20\x27Press\x20Start\x202P\x27','targetX','number','slice','style','rotate','pointer','message','\x201ST\x20LIFE\x20BONUS\x20FOR\x2020000\x20PTS','shadowBlur','!!!\x20CRITICAL\x20ERROR\x20IN\x20mainLoop:','shadowColor','complete','NUMBER\x20OF\x20HITS','hasCapturedShip','naturalHeight','atan2','20px\x20\x27Press\x20Start\x202P\x27','drawImage','single','shadowOffsetX','cursor','fillRect','floor','isArray','toFixed','PAUSED','middle','cos','img','\x20level\x201\x20icons\x20due\x20to\x203-type\x20limit.\x20Used\x20types:','round','color','00:00','GAME\x20OVER','1158612cJVYGL','DOM\x20element\x20initialization\x20failed.','capturedShipX','closePath','Error\x20in\x20renderGame:','Cannot\x20reset\x20ship\x20position\x20in\x20showMenuState\x20-\x20canvas/ship\x20not\x20ready.','fill','globalAlpha','width','blue','error','velocityX','now','Error\x20in\x20showMenuState:','textAlign','undefined','337028OAhvGt','PLAYER\x201','rgba(0,\x20191,\x20255,\x200.9)','grey','capturedShipDimensions','clientX','18FOxSut','PUSH\x20START\x20BUTTON','buttons','FATAL\x20RENDER\x20ERROR.','rapid','captureAnimationRotation','map','SCORE','Critical\x20error\x20starting\x20game!','GAME\x20EXIT','cyan','window.close()\x20failed:','clearRect','following_bezier_path','READY?','1\x20PLAYER','5qlunxZ','keyup'];_0x5a11=function(){return _0x45d81b;};return _0x5a11();}function createExplosion(_0x44694f,_0x48b98f){const _0x592020=_0x2a8dbc;try{playSound(explosionSound);let _0x923457=[];for(let _0x2aabd1=0x0;_0x2aabd1<EXPLOSION_PARTICLE_COUNT;_0x2aabd1++){const _0x59268d=Math[_0x592020(0xe4)]()*Math['PI']*0x2,_0x4e2d59=Math[_0x592020(0xe4)]()*(EXPLOSION_MAX_SPEED-EXPLOSION_MIN_SPEED)+EXPLOSION_MIN_SPEED;_0x923457['push']({'x':_0x44694f,'y':_0x48b98f,'vx':Math[_0x592020(0x9a)](_0x59268d)*_0x4e2d59,'vy':Math[_0x592020(0x103)](_0x59268d)*_0x4e2d59,'radius':EXPLOSION_PARTICLE_RADIUS,'alpha':0x1});}explosions['push']({'creationTime':Date['now'](),'duration':EXPLOSION_DURATION,'particles':_0x923457});}catch(_0x7d54e4){console[_0x592020(0xab)]('Error\x20creating\x20explosion:',_0x7d54e4);}}function renderExplosions(){const _0x20b265=_0x2a8dbc;try{if(!gameCtx)return;gameCtx[_0x20b265(0x114)](),gameCtx[_0x20b265(0xfc)]='lighter',explosions[_0x20b265(0xcb)](_0x22310c=>{const _0x4db988=_0x20b265;_0x22310c[_0x4db988(0x11d)][_0x4db988(0xcb)](_0x2027b7=>{const _0x3f1d68=_0x4db988,_0x3e5731=_0x2027b7['alpha']*EXPLOSION_MAX_OPACITY;_0x3e5731>0.01&&(gameCtx['beginPath'](),gameCtx[_0x3f1d68(0x116)](Math[_0x3f1d68(0x9d)](_0x2027b7['x']),Math[_0x3f1d68(0x9d)](_0x2027b7['y']),_0x2027b7['radius'],0x0,Math['PI']*0x2),gameCtx[_0x3f1d68(0x128)]=_0x3f1d68(0xfe)+_0x3e5731[_0x3f1d68(0x97)](0x3)+')',gameCtx[_0x3f1d68(0xa7)]());});}),gameCtx[_0x20b265(0xf1)]();}catch(_0xaede29){console[_0x20b265(0xab)](_0x20b265(0xe7),_0xaede29);}}function drawCanvasText(_0x1ed921,_0x2c99d5,_0x56ce84,_0x22af10,_0x4820e3,_0x56ba54=_0x2a8dbc(0x112),_0x63baec=_0x2a8dbc(0x99),_0x2b1735=![]){const _0x1f5cc9=_0x2a8dbc;if(!gameCtx)return;gameCtx[_0x1f5cc9(0x114)](),gameCtx[_0x1f5cc9(0x12b)]=_0x22af10,gameCtx[_0x1f5cc9(0x128)]=_0x4820e3,gameCtx[_0x1f5cc9(0xaf)]=_0x56ba54,gameCtx[_0x1f5cc9(0x120)]=_0x63baec,_0x2b1735&&(gameCtx[_0x1f5cc9(0x89)]=_0x1f5cc9(0x138),gameCtx[_0x1f5cc9(0x87)]=0x8,gameCtx[_0x1f5cc9(0x92)]=0x3,gameCtx[_0x1f5cc9(0x107)]=0x3),gameCtx[_0x1f5cc9(0xfb)](_0x1ed921,_0x2c99d5,_0x56ce84),gameCtx[_0x1f5cc9(0xf1)]();}function drawCanvasButton(_0x5e20c5,_0x8728f4,_0x241eba){const _0x519e3f=_0x2a8dbc;if(!gameCtx)return;const _0xf77b39=getMenuButtonRect(_0x8728f4);if(!_0xf77b39)return;gameCtx[_0x519e3f(0x114)](),drawCanvasText(_0x5e20c5,_0xf77b39['x']+_0xf77b39[_0x519e3f(0xa9)]/0x2,_0xf77b39['y']+_0xf77b39[_0x519e3f(0xdc)]/0x2,MENU_BUTTON_FONT,_0x241eba?MENU_BUTTON_COLOR_HOVER:MENU_BUTTON_COLOR,_0x519e3f(0x112),_0x519e3f(0x99)),gameCtx[_0x519e3f(0xf1)]();}function renderFloatingScores(){const _0x41b6c2=_0x2a8dbc;try{if(!gameCtx||!floatingScores||floatingScores['length']===0x0)return;const _0x25a171=Date[_0x41b6c2(0xad)]();gameCtx[_0x41b6c2(0x114)](),gameCtx['globalAlpha']=FLOATING_SCORE_OPACITY,floatingScores[_0x41b6c2(0xcb)](_0x3a9d1b=>{const _0x2dce61=_0x41b6c2;_0x25a171>=_0x3a9d1b['displayStartTime']&&drawCanvasText(_0x3a9d1b[_0x2dce61(0xf5)],_0x3a9d1b['x'],_0x3a9d1b['y'],FLOATING_SCORE_FONT,_0x3a9d1b[_0x2dce61(0x9e)],'center',_0x2dce61(0x99),![]);}),gameCtx[_0x41b6c2(0xa8)]=0x1,gameCtx[_0x41b6c2(0xf1)]();}catch(_0x20e80d){console[_0x41b6c2(0xab)]('Error\x20rendering\x20floating\x20scores:',_0x20e80d);}}function renderHitSparks(){const _0x34dc63=_0x2a8dbc;if(!gameCtx||!hitSparks||hitSparks['length']===0x0)return;gameCtx[_0x34dc63(0x114)](),gameCtx['globalCompositeOperation']='lighter',hitSparks['forEach'](_0x27d956=>{const _0x4956cc=_0x34dc63;if(_0x27d956&&_0x27d956[_0x4956cc(0xe0)]>0.01){gameCtx[_0x4956cc(0x128)]=_0x27d956['color'],gameCtx['globalAlpha']=_0x27d956[_0x4956cc(0xe0)],gameCtx[_0x4956cc(0xee)]();const _0x23a316=_0x27d956[_0x4956cc(0xfd)]*Math['sqrt'](_0x27d956['alpha']);gameCtx[_0x4956cc(0x116)](Math[_0x4956cc(0x9d)](_0x27d956['x']),Math['round'](_0x27d956['y']),Math[_0x4956cc(0x134)](0.5,_0x23a316/0x2),0x0,Math['PI']*0x2),gameCtx[_0x4956cc(0xa7)]();}}),gameCtx[_0x34dc63(0xa8)]=0x1,gameCtx[_0x34dc63(0xf1)]();}function renderGame(){const _0x1c0b97=_0x2a8dbc;try{if(!gameCtx||!gameCanvas){if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;return;}gameCtx[_0x1c0b97(0xc3)](0x0,0x0,gameCanvas['width'],gameCanvas[_0x1c0b97(0xdc)]);const _0x9aaacc=Date[_0x1c0b97(0xad)]();gameCtx[_0x1c0b97(0x114)]();const _0x1a7c52=_0x1c0b97(0x8f),_0x4738da='red',_0x2a16b2='white';gameCtx['font']=_0x1a7c52,gameCtx['textBaseline']=_0x1c0b97(0xd8);const _0x5b68c9=(_0x9cdeef,_0x53ec8d,_0x6e0af9,_0x4a9e97,_0x583721=![])=>{const _0x841ceb=_0x1c0b97;let _0x33cb53=!![],_0x185d76=UI_1UP_BLINK_ON_MS*1.5,_0xafb3e6=UI_1UP_BLINK_CYCLE_MS*1.5;if(_0x9cdeef===_0x841ceb(0x110))_0x185d76=DEMO_TEXT_BLINK_ON_MS*0.7,_0xafb3e6=DEMO_TEXT_BLINK_CYCLE_MS;else{if(_0x9cdeef===_0x841ceb(0x102)){_0x185d76=UI_1UP_BLINK_ON_MS*1.5,_0xafb3e6=UI_1UP_BLINK_CYCLE_MS*1.5;if(isInGameState&&!isManualControl)_0x185d76=DEMO_TEXT_BLINK_ON_MS*0.7,_0xafb3e6=DEMO_TEXT_BLINK_CYCLE_MS;else isInGameState&&isTwoPlayerMode&&currentPlayer===0x2&&(_0x185d76=UI_1UP_BLINK_ON_MS*1.5,_0xafb3e6=UI_1UP_BLINK_CYCLE_MS*1.5);}}_0x583721&&((isPaused||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage||!(_0x9aaacc%_0xafb3e6<_0x185d76))&&(_0x33cb53=![]));_0x33cb53&&(gameCtx[_0x841ceb(0x128)]=_0x4738da,gameCtx[_0x841ceb(0xaf)]=_0x6e0af9,gameCtx[_0x841ceb(0xfb)](_0x9cdeef,_0x4a9e97,MARGIN_TOP));const _0x354e10=gameCtx[_0x841ceb(0x108)](_0x9cdeef)['width'];let _0x18efff;if(_0x6e0af9===_0x841ceb(0xeb))_0x18efff=_0x4a9e97+_0x354e10/0x2;else{if(_0x6e0af9==='right')_0x18efff=_0x4a9e97-_0x354e10/0x2;else _0x18efff=_0x4a9e97;}gameCtx[_0x841ceb(0x128)]=_0x2a16b2,gameCtx[_0x841ceb(0xaf)]=_0x841ceb(0x112);let _0x24d7c1=MARGIN_TOP+SCORE_OFFSET_Y+0x5;_0x9cdeef===_0x841ceb(0x102)&&(_0x18efff=_0x4a9e97),gameCtx[_0x841ceb(0xfb)](_0x53ec8d[_0x841ceb(0x113)](),_0x18efff,_0x24d7c1);};let _0x491890,_0x40d482,_0x5139cb,_0x189a7e,_0x461ae1=![],_0x15d572=![],_0x1b7e63=![];if(isShowingResultsScreen)_0x491890=player1Score||0x0,_0x40d482=player2Score||0x0,_0x5139cb=highScore||0x4e20,_0x5139cb=Math['max'](_0x5139cb,_0x491890,_0x40d482),_0x189a7e=wasLastGameAIDemo?_0x1c0b97(0x110):'1UP',_0x1b7e63=![],_0x461ae1=![],_0x15d572=![];else{if(gameOverSequenceStartTime>0x0&&!isShowingPlayerGameOverMessage)_0x491890=player1Score||0x0,_0x40d482=player2Score||0x0,_0x5139cb=highScore||0x4e20,_0x5139cb=Math[_0x1c0b97(0x134)](_0x5139cb,_0x491890,_0x40d482),_0x189a7e=wasLastGameAIDemo?'DEMO':'1UP',_0x1b7e63=![],_0x461ae1=![],_0x15d572=![];else{if(isShowingPlayerGameOverMessage)_0x491890=player1Score||0x0,_0x40d482=player2Score||0x0,_0x5139cb=highScore||0x4e20,_0x5139cb=Math['max'](_0x5139cb,_0x491890,_0x40d482),_0x189a7e='1UP',_0x1b7e63=![],_0x461ae1=![],_0x15d572=![];else{if(!isInGameState)_0x491890=player1Score||0x0,_0x40d482=player2Score||0x0,_0x5139cb=highScore||0x4e20,_0x5139cb=Math[_0x1c0b97(0x134)](_0x5139cb,_0x491890,_0x40d482),_0x189a7e='1UP',_0x1b7e63=![],_0x461ae1=![],_0x15d572=![];else{_0x5139cb=highScore||0x0;if(!isManualControl)_0x491890=score,_0x40d482=0x0,_0x5139cb=Math[_0x1c0b97(0x134)](_0x5139cb,score),_0x189a7e=_0x1c0b97(0x110),_0x461ae1=!isShowingIntro&&!isPaused&&!isShipCaptured,_0x1b7e63=!isPaused&&!isShowingIntro&&score>0x0&&_0x5139cb>0x0&&score>=_0x5139cb;else isTwoPlayerMode?(_0x491890=currentPlayer===0x1?score:player1Score,_0x40d482=currentPlayer===0x2?score:player2Score,_0x5139cb=Math[_0x1c0b97(0x134)](_0x5139cb,player1Score,player2Score,score),_0x189a7e=_0x1c0b97(0xd9),_0x461ae1=!isShowingIntro&&!isPaused&&currentPlayer===0x1&&playerLives>0x0&&!isShipCaptured,_0x15d572=!isShowingIntro&&!isPaused&&currentPlayer===0x2&&playerLives>0x0&&!isShipCaptured,_0x1b7e63=!isPaused&&!isShowingIntro&&score>0x0&&_0x5139cb>0x0&&score>=_0x5139cb):(_0x491890=score,_0x40d482=player2Score||0x0,_0x5139cb=Math['max'](_0x5139cb,score),_0x189a7e=_0x1c0b97(0xd9),_0x461ae1=!isShowingIntro&&!isPaused&&playerLives>0x0&&!isShipCaptured,_0x1b7e63=!isPaused&&!isShowingIntro&&score>0x0&&_0x5139cb>0x0&&score>=_0x5139cb);}}}}let _0xcd0072=![];if(_0x1b7e63){if(!isManualControl)_0xcd0072=_0x461ae1;else isTwoPlayerMode?currentPlayer===0x1?_0xcd0072=_0x461ae1:_0xcd0072=_0x15d572:_0xcd0072=_0x461ae1;}typeof MARGIN_SIDE!=='undefined'&&typeof MARGIN_TOP!==_0x1c0b97(0xb0)&&typeof SCORE_OFFSET_Y!==_0x1c0b97(0xb0)&&(_0x5b68c9(_0x189a7e,_0x491890,_0x1c0b97(0xeb),MARGIN_SIDE,_0x461ae1),_0x5b68c9('HIGH\x20SCORE',_0x5139cb,_0x1c0b97(0x112),gameCanvas['width']/0x2,_0xcd0072),_0x5b68c9(_0x1c0b97(0x7c),_0x40d482,_0x1c0b97(0xdf),gameCanvas[_0x1c0b97(0xa9)]-MARGIN_SIDE,_0x15d572));if(typeof shipImage!=='undefined'&&typeof LIFE_ICON_MARGIN_BOTTOM!=='undefined'&&typeof LIFE_ICON_SIZE!=='undefined'&&typeof LIFE_ICON_MARGIN_LEFT!==_0x1c0b97(0xb0)&&typeof LIFE_ICON_SPACING!==_0x1c0b97(0xb0)){if(shipImage['complete']&&shipImage[_0x1c0b97(0x8d)]!==0x0){const _0x471694=gameCanvas[_0x1c0b97(0xdc)]-LIFE_ICON_MARGIN_BOTTOM-LIFE_ICON_SIZE;let _0xe4c143=0x0;if(isShowingResultsScreen||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage)_0xe4c143=0x2;else{if(!isInGameState||isShowingScoreScreen)_0xe4c143=0x2;else isInGameState&&playerLives>0x0?_0xe4c143=Math[_0x1c0b97(0x134)](0x0,playerLives-0x1):_0xe4c143=0x0;}const _0x45c112=0x5;for(let _0xc8391c=0x0;_0xc8391c<Math[_0x1c0b97(0xf9)](_0xe4c143,_0x45c112);_0xc8391c++){const _0x523134=LIFE_ICON_MARGIN_LEFT+_0xc8391c*(LIFE_ICON_SIZE+LIFE_ICON_SPACING);gameCtx[_0x1c0b97(0x90)](shipImage,Math[_0x1c0b97(0x9d)](_0x523134),Math[_0x1c0b97(0x9d)](_0x471694),LIFE_ICON_SIZE,LIFE_ICON_SIZE);}}}let _0x14bb6c=0x1;if(gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage)_0x14bb6c=Math[_0x1c0b97(0x134)](0x1,player1MaxLevelReached,player2MaxLevelReached);else{if(!isInGameState||isShowingScoreScreen)_0x14bb6c=0x1;else isInGameState&&(_0x14bb6c=level);}if(_0x14bb6c>0x0&&typeof LEVEL_ICON_MARGIN_BOTTOM!==_0x1c0b97(0xb0)&&typeof LEVEL_ICON_SIZE!=='undefined'&&typeof LEVEL_ICON_MARGIN_RIGHT!=='undefined'&&typeof LEVEL_ICON_SPACING!==_0x1c0b97(0xb0)){const _0x591ffb=[{'val':0x32,'img':level50Image},{'val':0x1e,'img':level30Image},{'val':0x14,'img':level20Image},{'val':0xa,'img':level10Image},{'val':0x5,'img':level5Image},{'val':0x1,'img':level1Image}];let _0x4dd41c=_0x14bb6c,_0x19dfe2=[],_0x34d748=new Set();const _0x41aa2c=(_0x427288,_0x1cfdbb,_0x3edb1b)=>{const _0x92f311=_0x1c0b97;let _0x37b9c2=_0x427288,_0x5868c2=new Set(_0x3edb1b);for(let _0x43608f=_0x1cfdbb;_0x43608f<_0x591ffb[_0x92f311(0xd5)];_0x43608f++){const _0x59244a=_0x591ffb[_0x43608f]['val'];if(_0x37b9c2>=_0x59244a){const _0x1b1024=_0x5868c2[_0x92f311(0xfd)]<0x3||_0x5868c2['has'](_0x59244a);if(!_0x1b1024)continue;const _0x4e0e42=Math['floor'](_0x37b9c2/_0x59244a);_0x37b9c2-=_0x4e0e42*_0x59244a,_0x5868c2[_0x92f311(0xe1)](_0x59244a);if(_0x37b9c2===0x0)return!![];}}return _0x37b9c2===0x0;};for(let _0x5ab4ca=0x0;_0x5ab4ca<_0x591ffb[_0x1c0b97(0xd5)]-0x1;_0x5ab4ca++){const _0x19ebec=_0x591ffb[_0x5ab4ca],_0x1d7f6c=_0x19ebec[_0x1c0b97(0x11f)],_0x29a324=_0x19ebec[_0x1c0b97(0x9b)];if(_0x4dd41c>=_0x1d7f6c){const _0x4e4f56=Math[_0x1c0b97(0x95)](_0x4dd41c/_0x1d7f6c),_0x630130=_0x4dd41c-_0x4e4f56*_0x1d7f6c;let _0x26524a=new Set(_0x34d748);_0x26524a[_0x1c0b97(0xe1)](_0x1d7f6c);if(_0x41aa2c(_0x630130,_0x5ab4ca+0x1,_0x26524a)){for(let _0x8e21bb=0x0;_0x8e21bb<_0x4e4f56;_0x8e21bb++){_0x19dfe2[_0x1c0b97(0x119)](_0x29a324);}_0x4dd41c=_0x630130,_0x34d748[_0x1c0b97(0xe1)](_0x1d7f6c);if(_0x4dd41c===0x0)break;}}}if(_0x4dd41c>0x0){const _0x5c5846=_0x34d748[_0x1c0b97(0xfd)]<0x3||_0x34d748['has'](0x1);if(_0x5c5846){for(let _0x2bbc14=0x0;_0x2bbc14<_0x4dd41c;_0x2bbc14++){_0x19dfe2[_0x1c0b97(0x119)](level1Image);}_0x34d748[_0x1c0b97(0xe1)](0x1),_0x4dd41c=0x0;}else console[_0x1c0b97(0x10c)](_0x1c0b97(0x12a)+_0x4dd41c+_0x1c0b97(0x9c),_0x34d748);}_0x19dfe2[_0x1c0b97(0xd5)]===0x0&&_0x19dfe2[_0x1c0b97(0x119)](level1Image);const _0xe75f=_0x19dfe2[_0x1c0b97(0xd5)],_0x475bce=_0xe75f*LEVEL_ICON_SIZE+Math[_0x1c0b97(0x134)](0x0,_0xe75f-0x1)*LEVEL_ICON_SPACING,_0x109d3a=gameCanvas['width']-LEVEL_ICON_MARGIN_RIGHT,_0x118d31=_0x109d3a-_0x475bce,_0x199dcc=gameCanvas[_0x1c0b97(0xdc)]-LEVEL_ICON_MARGIN_BOTTOM-LEVEL_ICON_SIZE;let _0x4d9bbd=_0x118d31;for(const _0x2965e4 of _0x19dfe2){_0x2965e4&&_0x2965e4[_0x1c0b97(0x8a)]&&_0x2965e4[_0x1c0b97(0x8d)]!==0x0&&gameCtx[_0x1c0b97(0x90)](_0x2965e4,Math[_0x1c0b97(0x9d)](_0x4d9bbd),Math[_0x1c0b97(0x9d)](_0x199dcc),LEVEL_ICON_SIZE,LEVEL_ICON_SIZE),_0x4d9bbd+=LEVEL_ICON_SIZE+LEVEL_ICON_SPACING;}}gameCtx['restore'](),gameCtx['save']();if(ship&&!isShowingCaptureMessage){let _0x452366=!![];if(isInGameState&&!gameOverSequenceStartTime&&!isShowingPlayerGameOverMessage&&isInvincible){const _0x166730=INVINCIBILITY_BLINK_ON_MS+INVINCIBILITY_BLINK_OFF_MS,_0x175e71=_0x9aaacc%_0x166730;_0x175e71>=INVINCIBILITY_BLINK_ON_MS&&(_0x452366=![]);}if(_0x452366){let _0x1f7563=ship['x'],_0x54c4eb=(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0||!isInGameState||isShowingScoreScreen||isInGameState&&isShowingIntro&&!isManualControl&&(introStep===0x1||introStep===0x2||introStep===0x3))&&!isDualShipActive;_0x54c4eb&&(_0x1f7563=Math['round'](gameCanvas[_0x1c0b97(0xa9)]/0x2-ship['width']/0x2));const _0x30c561=gameCanvas[_0x1c0b97(0xdc)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN;typeof shipImage!=='undefined'&&shipImage[_0x1c0b97(0x8a)]&&shipImage['naturalHeight']!==0x0?gameCtx['drawImage'](shipImage,Math[_0x1c0b97(0x9d)](_0x1f7563),Math[_0x1c0b97(0x9d)](_0x30c561),ship[_0x1c0b97(0xa9)],ship['height']):(gameCtx[_0x1c0b97(0x128)]=_0x1c0b97(0xaa),gameCtx[_0x1c0b97(0x94)](Math[_0x1c0b97(0x9d)](_0x1f7563),Math['round'](_0x30c561),ship['width'],ship['height']));if(isInGameState&&!gameOverSequenceStartTime&&!isShowingPlayerGameOverMessage&&isDualShipActive&&!isShipCaptured&&typeof shipImage!==_0x1c0b97(0xb0)&&shipImage[_0x1c0b97(0x8a)]&&shipImage['naturalHeight']!==0x0){const _0x27fd51=_0x1f7563+DUAL_SHIP_OFFSET_X;gameCtx[_0x1c0b97(0x90)](shipImage,Math['round'](_0x27fd51),Math['round'](_0x30c561),ship[_0x1c0b97(0xa9)],ship[_0x1c0b97(0xdc)]);}}}fallingShips[_0x1c0b97(0xd5)]>0x0&&typeof shipImage!==_0x1c0b97(0xb0)&&shipImage[_0x1c0b97(0x8a)]&&fallingShips[_0x1c0b97(0xcb)](_0x21c177=>{const _0x2eb9ae=_0x1c0b97;if(_0x21c177){gameCtx[_0x2eb9ae(0x114)]();const _0x36800d=_0x21c177['x']+_0x21c177[_0x2eb9ae(0xa9)]/0x2,_0x3cfe5a=_0x21c177['y']+_0x21c177[_0x2eb9ae(0xdc)]/0x2;gameCtx['translate'](_0x36800d,_0x3cfe5a),gameCtx[_0x2eb9ae(0x83)](_0x21c177['rotation']||0x0);const _0x115d20=-_0x21c177[_0x2eb9ae(0xa9)]/0x2,_0x33940b=-_0x21c177[_0x2eb9ae(0xdc)]/0x2,_0x2add85=_0x21c177[_0x2eb9ae(0xa9)],_0x477d38=_0x21c177[_0x2eb9ae(0xdc)];gameCtx[_0x2eb9ae(0x90)](shipImage,_0x115d20,_0x33940b,_0x2add85,_0x477d38),typeof _0x21c177[_0x2eb9ae(0xf2)]===_0x2eb9ae(0x80)&&_0x21c177['tintProgress']>0.01&&(gameCtx[_0x2eb9ae(0x114)](),gameCtx[_0x2eb9ae(0xa8)]=_0x21c177[_0x2eb9ae(0xf2)],gameCtx[_0x2eb9ae(0x128)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x2eb9ae(0xfc)]=_0x2eb9ae(0x121),gameCtx[_0x2eb9ae(0x94)](_0x115d20,_0x33940b,_0x2add85,_0x477d38),gameCtx['restore']()),gameCtx[_0x2eb9ae(0xf1)]();}});gameCtx[_0x1c0b97(0xf1)]();if(!isInGameState){if(isShowingScoreScreen){if(typeof LIFE_ICON_SIZE!==_0x1c0b97(0xb0)){gameCtx['save']();const _0x41c004=gameCanvas[_0x1c0b97(0xa9)]/0x2;let _0x45f31e=gameCanvas[_0x1c0b97(0xdc)]*0.25+SCORE_SCREEN_VERTICAL_OFFSET,_0x1a4220=0x0,_0x5cb386=_0x45f31e+0x0;drawCanvasText(_0x1c0b97(0xb8),_0x41c004,_0x5cb386-0x1e,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_TOP,_0x1c0b97(0x112),'middle',!![]);let _0x3ce59d=_0x5cb386+SCORE_SCREEN_LINE_V_SPACING*1.8;const _0x4ed72b=_0x1c0b97(0x86);gameCtx[_0x1c0b97(0x12b)]=SCORE_SCREEN_TEXT_FONT;const _0x42201e=gameCtx[_0x1c0b97(0x108)](_0x4ed72b)[_0x1c0b97(0xa9)],_0x320865=LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING+_0x42201e;_0x1a4220=_0x41c004-_0x320865/0x2-0x1e;typeof shipImage!==_0x1c0b97(0xb0)&&shipImage[_0x1c0b97(0x8a)]&&shipImage['naturalHeight']!==0x0&&gameCtx['drawImage'](shipImage,Math[_0x1c0b97(0x9d)](_0x1a4220),Math[_0x1c0b97(0x9d)](_0x3ce59d-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x4ed72b,_0x1a4220+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x3ce59d,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,'left',_0x1c0b97(0x99),![]);let _0x11875c=_0x3ce59d+SCORE_SCREEN_LINE_V_SPACING*0x1;const _0x2c791e='\x202ND\x20LIFE\x20BONUS\x20FOR\x20'+RECURRING_EXTRA_LIFE_INTERVAL+_0x1c0b97(0x129);typeof shipImage!==_0x1c0b97(0xb0)&&shipImage[_0x1c0b97(0x8a)]&&shipImage[_0x1c0b97(0x8d)]!==0x0&&gameCtx['drawImage'](shipImage,Math[_0x1c0b97(0x9d)](_0x1a4220),Math[_0x1c0b97(0x9d)](_0x11875c-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x2c791e,_0x1a4220+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x11875c,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,'left',_0x1c0b97(0x99),![]);let _0x55c182=_0x11875c+SCORE_SCREEN_LINE_V_SPACING*0x1;const _0x26ce67='\x20EXT\x20LIFE\x20FOR\x20EVERY\x20'+RECURRING_EXTRA_LIFE_INTERVAL+_0x1c0b97(0x129);typeof shipImage!==_0x1c0b97(0xb0)&&shipImage[_0x1c0b97(0x8a)]&&shipImage[_0x1c0b97(0x8d)]!==0x0&&gameCtx[_0x1c0b97(0x90)](shipImage,Math['round'](_0x1a4220),Math[_0x1c0b97(0x9d)](_0x55c182-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x26ce67,_0x1a4220+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x55c182,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,'left',_0x1c0b97(0x99),![]);let _0x82d3db=_0x55c182+SCORE_SCREEN_LINE_V_SPACING*1.8;drawCanvasText(_0x1c0b97(0x132),_0x41c004-0xa,_0x82d3db+0x1e,MENU_SUBTITLE_FONT,MENU_SUBTITLE_COLOR,'center',_0x1c0b97(0x99),![]),gameCtx[_0x1c0b97(0xf1)]();}}else{gameCtx[_0x1c0b97(0x114)]();const _0x37161d=gameCanvas[_0x1c0b97(0xa9)],_0x452fde=gameCanvas[_0x1c0b97(0xdc)],_0x131302=_0x37161d/0x2;selectedButtonIndex===-0x1&&(selectedButtonIndex=0x0);let _0x52c9ad=MENU_LOGO_APPROX_HEIGHT,_0x21b339=_0x52c9ad*(logoImage[_0x1c0b97(0xda)]/logoImage['naturalHeight']||0x1);typeof logoImage!=='undefined'&&logoImage['complete']&&logoImage[_0x1c0b97(0x8d)]!==0x0&&(_0x52c9ad=logoImage[_0x1c0b97(0x8d)]*LOGO_SCALE_FACTOR,_0x21b339=logoImage[_0x1c0b97(0xda)]*LOGO_SCALE_FACTOR);const _0x41137d=getSubtitleApproxHeight(MENU_SUBTITLE_FONT),_0x1bf152=_0x52c9ad+MENU_LOGO_BOTTOM_TO_START_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_SUBTITLE_V_GAP+_0x41137d;let _0x33cd7e=(_0x452fde-_0x1bf152)/0x2-0x46;_0x33cd7e+=MENU_GENERAL_Y_OFFSET;const _0x3ce9e6=_0x131302-_0x21b339/0x2,_0x329fb3=_0x33cd7e+MENU_LOGO_EXTRA_Y_OFFSET;typeof logoImage!==_0x1c0b97(0xb0)&&logoImage[_0x1c0b97(0x8a)]&&logoImage[_0x1c0b97(0x8d)]!==0x0?gameCtx[_0x1c0b97(0x90)](logoImage,Math[_0x1c0b97(0x9d)](_0x3ce9e6),Math[_0x1c0b97(0x9d)](_0x329fb3),_0x21b339,_0x52c9ad):drawCanvasText(_0x1c0b97(0x12c),_0x131302,_0x329fb3+_0x52c9ad/0x2,'30px\x20Arial',_0x1c0b97(0xb4));if(isFiringModeSelectMode)drawCanvasButton(_0x1c0b97(0xed),0x0,selectedButtonIndex===0x0),drawCanvasButton('NORMAL',0x1,selectedButtonIndex===0x1);else isPlayerSelectMode?(drawCanvasButton(_0x1c0b97(0xc6),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x1c0b97(0x106),0x1,selectedButtonIndex===0x1)):(drawCanvasButton(_0x1c0b97(0xd4),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x1c0b97(0xc0),0x1,selectedButtonIndex===0x1));const _0x5572e9=getMenuButtonRect(0x1);let _0xaf6c04;_0x5572e9?_0xaf6c04=_0x5572e9['y']+_0x5572e9['height']+MENU_BUTTON_SUBTITLE_V_GAP+_0x41137d/0x2:_0xaf6c04=_0x33cd7e+_0x52c9ad+MENU_LOGO_BOTTOM_TO_START_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_SUBTITLE_V_GAP+_0x41137d/0x2,drawCanvasText(MENU_SUBTITLE_TEXT,_0x131302-0x1,Math['round'](_0xaf6c04),MENU_SUBTITLE_FONT,MENU_SUBTITLE_COLOR,_0x1c0b97(0x112),_0x1c0b97(0x99),!![]),gameCtx['restore']();}}else{if(gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){gameCtx[_0x1c0b97(0x114)]();let _0x7f1a56=!showReadyMessage&&!showCsHitsMessage&&!showPerfectMessage&&!showCsBonusScoreMessage&&!showCSClearMessage&&!isCsCompletionDelayActive&&!isShowingIntro&&!isShowingCaptureMessage;_0x7f1a56&&(bullets[_0x1c0b97(0xcb)](_0x5c8100=>{const _0x55034b=_0x1c0b97;_0x5c8100&&(typeof bulletImage!==_0x55034b(0xb0)&&bulletImage[_0x55034b(0x8a)]?gameCtx[_0x55034b(0x90)](bulletImage,Math['round'](_0x5c8100['x']),Math[_0x55034b(0x9d)](_0x5c8100['y']),_0x5c8100[_0x55034b(0xa9)],_0x5c8100['height']):(gameCtx[_0x55034b(0x128)]='yellow',gameCtx['fillRect'](Math['round'](_0x5c8100['x']),Math['round'](_0x5c8100['y']),_0x5c8100[_0x55034b(0xa9)],_0x5c8100[_0x55034b(0xdc)])));}),enemyBullets['forEach'](_0x231009=>{const _0x226061=_0x1c0b97;_0x231009&&(typeof enemyBulletImage!==_0x226061(0xb0)&&enemyBulletImage[_0x226061(0x8a)]&&enemyBulletImage[_0x226061(0xda)]>0x0?gameCtx[_0x226061(0x90)](enemyBulletImage,Math[_0x226061(0x9d)](_0x231009['x']),Math[_0x226061(0x9d)](_0x231009['y']),_0x231009['width'],_0x231009[_0x226061(0xdc)]):(gameCtx[_0x226061(0x128)]=_0x226061(0xd1),gameCtx[_0x226061(0x94)](Math[_0x226061(0x9d)](_0x231009['x']),Math['round'](_0x231009['y']),_0x231009[_0x226061(0xa9)],_0x231009['height'])));}));enemies[_0x1c0b97(0xcb)](_0x796fed=>{const _0x4a4af0=_0x1c0b97;if(_0x796fed&&_0x796fed['y']<gameCanvas[_0x4a4af0(0xdc)]+_0x796fed[_0x4a4af0(0xdc)]*0x2&&_0x796fed['y']>-_0x796fed[_0x4a4af0(0xdc)]*0x2){gameCtx[_0x4a4af0(0x114)]();try{let _0x2a2c18=null,_0x416086=_0x4a4af0(0xb4);const _0x5e6c08=!isPaused&&_0x9aaacc%(ENEMY_ANIMATION_INTERVAL_MS*0x2)>=ENEMY_ANIMATION_INTERVAL_MS;if(_0x796fed[_0x4a4af0(0x10e)]===ENEMY3_TYPE)_0x2a2c18=_0x5e6c08?bossGalagaImage2:bossGalagaImage,_0x416086=_0x4a4af0(0x117);else _0x796fed[_0x4a4af0(0x10e)]===ENEMY2_TYPE?(_0x2a2c18=_0x5e6c08?butterflyImage2:butterflyImage,_0x416086=_0x4a4af0(0xc1)):(_0x2a2c18=_0x5e6c08?beeImage2:beeImage,_0x416086=_0x4a4af0(0xef));const _0x13dca9=Math[_0x4a4af0(0x9d)](_0x796fed['x']),_0x4fe0b5=Math[_0x4a4af0(0x9d)](_0x796fed['y']),_0x37536c=_0x796fed[_0x4a4af0(0xa9)],_0x1b9181=_0x796fed['height'],_0x5736e7=_0x796fed[_0x4a4af0(0x10e)]===ENEMY3_TYPE&&_0x796fed[_0x4a4af0(0x115)],_0x2fd4fc=!isPaused&&(_0x796fed[_0x4a4af0(0xf3)]===_0x4a4af0(0xdb)||_0x796fed[_0x4a4af0(0xf3)]===_0x4a4af0(0xc4)||_0x796fed[_0x4a4af0(0xf3)]==='following_entrance_path')&&_0x796fed['y']>-_0x796fed[_0x4a4af0(0xdc)]*0.5&&(Math['abs'](_0x796fed[_0x4a4af0(0xac)])>0.1||Math[_0x4a4af0(0xff)](_0x796fed[_0x4a4af0(0xcd)])>0.1),_0xa2805b=_0x796fed[_0x4a4af0(0xf3)]===_0x4a4af0(0xde)&&_0x796fed[_0x4a4af0(0x10e)]===ENEMY3_TYPE&&_0x796fed['hasCapturedShip']&&_0x796fed[_0x4a4af0(0xb5)]&&typeof _0x796fed[_0x4a4af0(0xa3)]===_0x4a4af0(0x80)&&typeof _0x796fed['capturedShipY']==='number'&&typeof _0x796fed[_0x4a4af0(0xbc)]==='number',_0x5bd941=_0x796fed[_0x4a4af0(0xf3)]!==_0x4a4af0(0xde)&&_0x796fed[_0x4a4af0(0x10e)]===ENEMY3_TYPE&&_0x796fed[_0x4a4af0(0x8c)]&&_0x796fed[_0x4a4af0(0xb5)],_0x32592a=_0xa2805b||_0x5bd941?_0x796fed[_0x4a4af0(0xb5)][_0x4a4af0(0xa9)]:0x0,_0x229f83=_0xa2805b||_0x5bd941?_0x796fed['capturedShipDimensions'][_0x4a4af0(0xdc)]:0x0;let _0x4176c8=0x0,_0x7a2748=0x0;if(_0xa2805b)_0x4176c8=Math['round'](_0x796fed[_0x4a4af0(0xa3)]),_0x7a2748=Math[_0x4a4af0(0x9d)](_0x796fed['capturedShipY']);else _0x5bd941&&(_0x4176c8=Math['round'](_0x796fed['x']+CAPTURED_SHIP_OFFSET_X),_0x7a2748=Math[_0x4a4af0(0x9d)](_0x796fed['y']+CAPTURED_SHIP_OFFSET_Y));const _0xce7d9b=(_0x48d07c,_0x44e1ca,_0xe5a555,_0x345078)=>{const _0x1426e8=_0x4a4af0;typeof _0x2a2c18!==_0x1426e8(0xb0)&&_0x2a2c18[_0x1426e8(0x8a)]&&_0x2a2c18[_0x1426e8(0x8d)]!==0x0?gameCtx[_0x1426e8(0x90)](_0x2a2c18,_0x48d07c,_0x44e1ca,_0xe5a555,_0x345078):(gameCtx[_0x1426e8(0x128)]=_0x416086,gameCtx[_0x1426e8(0x94)](_0x48d07c,_0x44e1ca,_0xe5a555,_0x345078)),_0x5736e7&&(gameCtx[_0x1426e8(0xfc)]=_0x1426e8(0x121),gameCtx[_0x1426e8(0x128)]=_0x1426e8(0xc9),gameCtx[_0x1426e8(0x94)](_0x48d07c,_0x44e1ca,_0xe5a555,_0x345078),gameCtx['globalCompositeOperation']='source-over');};if(_0x2fd4fc){const _0x3522ef=_0x13dca9+_0x37536c/0x2,_0x752742=_0x4fe0b5+_0x1b9181/0x2;gameCtx[_0x4a4af0(0x12e)](_0x3522ef,_0x752742);let _0x2d3396=Math[_0x4a4af0(0x8e)](_0x796fed['velocityY'],_0x796fed[_0x4a4af0(0xac)])+Math['PI']/0x2;if(_0x796fed['type']===ENEMY3_TYPE&&_0x796fed['state']===_0x4a4af0(0xdb))_0x2d3396+=Math['PI'];gameCtx[_0x4a4af0(0x83)](_0x2d3396),_0xce7d9b(-_0x37536c/0x2,-_0x1b9181/0x2,_0x37536c,_0x1b9181);if(_0x5bd941&&typeof shipImage!=='undefined'&&shipImage['complete']){gameCtx[_0x4a4af0(0xa8)]=0.8;const _0xf625fa=CAPTURED_SHIP_OFFSET_X,_0x462531=CAPTURED_SHIP_OFFSET_Y;gameCtx[_0x4a4af0(0x90)](shipImage,_0xf625fa-_0x32592a/0x2,_0x462531-_0x229f83/0x2,_0x32592a,_0x229f83),gameCtx[_0x4a4af0(0xa8)]=0x1,gameCtx['save'](),gameCtx[_0x4a4af0(0x128)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x4a4af0(0xfc)]='source-atop',gameCtx[_0x4a4af0(0x94)](_0xf625fa-_0x32592a/0x2,_0x462531-_0x229f83/0x2,_0x32592a,_0x229f83),gameCtx[_0x4a4af0(0xf1)]();}gameCtx[_0x4a4af0(0x83)](-_0x2d3396),gameCtx['translate'](-_0x3522ef,-_0x752742);}else _0xce7d9b(_0x13dca9,_0x4fe0b5,_0x37536c,_0x1b9181),_0x5bd941&&typeof shipImage!==_0x4a4af0(0xb0)&&shipImage['complete']&&(gameCtx[_0x4a4af0(0xa8)]=0.8,gameCtx[_0x4a4af0(0x90)](shipImage,_0x4176c8,_0x7a2748,_0x32592a,_0x229f83),gameCtx[_0x4a4af0(0xa8)]=0x1,gameCtx[_0x4a4af0(0x114)](),gameCtx['fillStyle']=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x4a4af0(0xfc)]=_0x4a4af0(0x121),gameCtx[_0x4a4af0(0x94)](_0x4176c8,_0x7a2748,_0x32592a,_0x229f83),gameCtx[_0x4a4af0(0xf1)]());if(_0xa2805b&&typeof shipImage!==_0x4a4af0(0xb0)&&shipImage[_0x4a4af0(0x8a)]){gameCtx[_0x4a4af0(0x114)]();const _0x41cdae=_0x4176c8+_0x32592a/0x2,_0x4734ce=_0x7a2748+_0x229f83/0x2;gameCtx['translate'](_0x41cdae,_0x4734ce),gameCtx[_0x4a4af0(0x83)](_0x796fed[_0x4a4af0(0xbc)]),gameCtx[_0x4a4af0(0xa8)]=0.8,gameCtx[_0x4a4af0(0x90)](shipImage,-_0x32592a/0x2,-_0x229f83/0x2,_0x32592a,_0x229f83),gameCtx[_0x4a4af0(0xa8)]=0x1,gameCtx[_0x4a4af0(0x114)](),gameCtx[_0x4a4af0(0x128)]=CAPTURED_SHIP_TINT_COLOR,gameCtx['globalCompositeOperation']=_0x4a4af0(0x121),gameCtx[_0x4a4af0(0x94)](-_0x32592a/0x2,-_0x229f83/0x2,_0x32592a,_0x229f83),gameCtx[_0x4a4af0(0xf1)](),gameCtx[_0x4a4af0(0xf1)]();}}catch(_0x351ce1){console[_0x4a4af0(0xab)]('Error\x20drawing\x20enemy:',_0x351ce1),gameCtx['fillStyle']='orange',gameCtx[_0x4a4af0(0x94)](Math[_0x4a4af0(0x9d)](_0x796fed['x']),Math[_0x4a4af0(0x9d)](_0x796fed['y']),_0x796fed['width'],_0x796fed[_0x4a4af0(0xdc)]);}finally{gameCtx[_0x4a4af0(0xf1)]();}}});if(captureBeamActive&&capturingBossId&&captureBeamProgress>0x0){gameCtx[_0x1c0b97(0x114)]();const _0x21b7af=0.4+(Math[_0x1c0b97(0x103)](_0x9aaacc*CAPTURE_BEAM_PULSE_SPEED)+0x1)/0x2*0.6,_0x1c602e=captureBeamProgress;gameCtx[_0x1c0b97(0xa8)]=_0x1c602e*_0x21b7af;const _0x20f647=enemies[_0x1c0b97(0x11c)](_0x48d591=>_0x48d591['id']===capturingBossId);if(_0x20f647){const _0x41c5d7=_0x20f647['x']+BOSS_WIDTH/0x2,_0x44f98d=_0x20f647['y']+BOSS_HEIGHT,_0x5e0dc8=gameCanvas[_0x1c0b97(0xdc)]-LIFE_ICON_MARGIN_BOTTOM-LIFE_ICON_SIZE-0xa,_0x14f0ba=BOSS_WIDTH*CAPTURE_BEAM_WIDTH_TOP_FACTOR,_0x25f87d=SHIP_WIDTH*CAPTURE_BEAM_WIDTH_BOTTOM_FACTOR;if(_0x44f98d<_0x5e0dc8){const _0x44bc26=gameCtx['createLinearGradient'](_0x41c5d7,_0x44f98d,_0x41c5d7,_0x5e0dc8);_0x44bc26['addColorStop'](0x0,CAPTURE_BEAM_COLOR_START),_0x44bc26['addColorStop'](0x1,CAPTURE_BEAM_COLOR_END),gameCtx[_0x1c0b97(0x128)]=_0x44bc26,gameCtx[_0x1c0b97(0xee)](),gameCtx[_0x1c0b97(0x135)](_0x41c5d7-_0x14f0ba/0x2,_0x44f98d),gameCtx[_0x1c0b97(0xe3)](_0x41c5d7+_0x14f0ba/0x2,_0x44f98d),gameCtx[_0x1c0b97(0xe3)](_0x41c5d7+_0x25f87d/0x2,_0x5e0dc8),gameCtx[_0x1c0b97(0xe3)](_0x41c5d7-_0x25f87d/0x2,_0x5e0dc8),gameCtx[_0x1c0b97(0xa4)](),gameCtx[_0x1c0b97(0xa7)]();}}gameCtx[_0x1c0b97(0xf1)]();}renderExplosions(),renderFloatingScores(),renderHitSparks();let _0x4063f7=![];const _0xa2ef91=gameCanvas['height']/0x2,_0x255920=gameCanvas[_0x1c0b97(0xa9)]/0x2,_0x10d978='NUMBER\x20OF\x20HITS\x20'+challengingStageEnemiesHit,_0x340a7d='BONUS\x20'+scoreEarnedThisCS;if(isPaused)drawCanvasText(_0x1c0b97(0x98),_0x255920,_0xa2ef91,PAUSE_TEXT_FONT,PAUSE_TEXT_COLOR,_0x1c0b97(0x112),_0x1c0b97(0x99),PAUSE_TEXT_SHADOW),_0x4063f7=!![];else{if(isShowingCaptureMessage)drawCanvasText(_0x1c0b97(0x136),_0x255920,_0xa2ef91-0x28,INTRO_TEXT_FONT,_0x1c0b97(0xef),_0x1c0b97(0x112),_0x1c0b97(0x99),!![]),_0x4063f7=!![];else{if(showCsBonusScoreMessage||showPerfectMessage||showCsHitsMessage)drawCanvasText(_0x10d978,_0x255920,_0xa2ef91,INTRO_TEXT_FONT,CS_HITS_TEXT_COLOR,_0x1c0b97(0x112),'middle',!![]),_0x4063f7=!![],(showCsBonusScoreMessage||showPerfectMessage)&&drawCanvasText(_0x1c0b97(0xe9),_0x255920,_0xa2ef91-CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,PERFECT_TEXT_COLOR,_0x1c0b97(0x112),_0x1c0b97(0x99),!![]),showCsBonusScoreMessage&&drawCanvasText('SPECIAL\x20BONUS\x2010000\x20PTS',_0x255920,_0xa2ef91+CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_BONUS_SCORE_TEXT_COLOR,_0x1c0b97(0x112),_0x1c0b97(0x99),!![]);else{if(showCSClearMessage)drawCanvasText(_0x1c0b97(0x131),_0x255920,_0xa2ef91-CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_CLEAR_TEXT_COLOR,'center',_0x1c0b97(0x99),!![]),_0x4063f7=!![],showCsHitsForClearMessage&&drawCanvasText(_0x10d978,_0x255920,_0xa2ef91,INTRO_TEXT_FONT,CS_HITS_TEXT_COLOR,'center','middle',!![]),showCsScoreForClearMessage&&drawCanvasText(_0x340a7d,_0x255920,_0xa2ef91+CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_CLEAR_SCORE_TEXT_COLOR,_0x1c0b97(0x112),_0x1c0b97(0x99),!![]);else{if(showExtraLifeMessage)drawCanvasText('EXTRA\x20LIFE',_0x255920,_0xa2ef91,INTRO_TEXT_FONT,EXTRA_LIFE_TEXT_COLOR,_0x1c0b97(0x112),_0x1c0b97(0x99),!![]),_0x4063f7=!![];else{if(isShowingIntro){let _0x49efa3='',_0x398dda=INTRO_TEXT_COLOR_NORMAL;if(introStep===0x1)_0x49efa3=!isManualControl?_0x1c0b97(0x110):_0x1c0b97(0xf8)+(isTwoPlayerMode?currentPlayer:0x1);else{if(introStep===0x2)_0x49efa3=_0x1c0b97(0xd3)+level;else introStep===0x3&&(_0x49efa3='CHALLENGING\x20STAGE',_0x398dda=INTRO_TEXT_COLOR_CS_TEXT,!csIntroSoundPlayed&&(playSound(entranceSound),csIntroSoundPlayed=!![]));}_0x49efa3&&(drawCanvasText(_0x49efa3,_0x255920,_0xa2ef91,INTRO_TEXT_FONT,_0x398dda,_0x1c0b97(0x112),_0x1c0b97(0x99),!![]),_0x4063f7=!![]);}else{if(showReadyMessage)drawCanvasText(_0x1c0b97(0xc5),_0x255920,_0xa2ef91,INTRO_TEXT_FONT,READY_TEXT_COLOR,_0x1c0b97(0x112),_0x1c0b97(0x99),!![]),_0x4063f7=!![];else{if(!isManualControl&&isShowingDemoText&&!_0x4063f7&&!isEntrancePhaseActive&&!isCsCompletionDelayActive){const _0x30139a=DEMO_TEXT_BLINK_CYCLE_MS*1.5,_0x4df092=DEMO_TEXT_BLINK_ON_MS*1.5;_0x9aaacc%_0x30139a<_0x4df092&&drawCanvasText(_0x1c0b97(0xb8),_0x255920,_0xa2ef91,DEMO_TEXT_LINE1_FONT,DEMO_TEXT_COLOR,_0x1c0b97(0x112),'middle',!![]);}}}}}}}}gameCtx[_0x1c0b97(0xf1)]();}else{if(isShowingPlayerGameOverMessage){const _0x4e4164=_0x1c0b97(0xf8)+playerWhoIsGameOver,_0x991b36=RESULTS_LINE_V_SPACING_SINGLE,_0x360f39=gameCanvas[_0x1c0b97(0xdc)]*0.45;drawCanvasText(_0x4e4164,gameCanvas[_0x1c0b97(0xa9)]/0x2,_0x360f39-_0x991b36/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x1c0b97(0x112),_0x1c0b97(0x99),!![]),drawCanvasText(_0x1c0b97(0xa0),gameCanvas[_0x1c0b97(0xa9)]/0x2,_0x360f39+_0x991b36/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x1c0b97(0x112),'middle',!![]);}else{if(gameOverSequenceStartTime>0x0){const _0x5a2250=_0x9aaacc-gameOverSequenceStartTime,_0x5e4c5e=_0x5a2250<GAME_OVER_DURATION,_0x292e79=_0x5a2250>=GAME_OVER_DURATION;if(_0x5e4c5e)drawCanvasText(_0x1c0b97(0xa0),gameCanvas[_0x1c0b97(0xa9)]/0x2,gameCanvas[_0x1c0b97(0xdc)]/0x2,GAME_OVER_FONT,GAME_OVER_COLOR,_0x1c0b97(0x112),'middle',GAME_OVER_SHADOW);else{if(_0x292e79){gameCtx[_0x1c0b97(0x114)]();const _0x19ed19=gameCanvas[_0x1c0b97(0xa9)]/0x2,_0x491538=gameCanvas['width'];let _0x2ffe7c=RESULTS_START_Y+RESULTS_LINE_V_SPACING_SINGLE;const _0x3d010b=(_0x1864fb,_0x58d1da,_0x4fc794,_0x15f9ba,_0x4f1f29,_0x35459f,_0x37a420,_0x3cb77a)=>{const _0x5c52ae=_0x1c0b97;let _0x405870=_0x3cb77a;const _0x3ae207=RESULTS_VALUE_COLOR_YELLOW,_0x41be5c=RESULTS_VALUE_COLOR_CYAN;drawCanvasText(_0x5c52ae(0x130),_0x37a420,_0x405870,INTRO_TEXT_FONT,RESULTS_HEADER_COLOR,_0x5c52ae(0x112),_0x5c52ae(0xd8),!![]),_0x405870+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x1864fb,_0x37a420,_0x405870,INTRO_TEXT_FONT,_0x5c52ae(0xd1),'center','middle',![]),_0x405870+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText('STAGE',_0x37a420,_0x405870,INTRO_TEXT_FONT,_0x3ae207,_0x5c52ae(0x112),_0x5c52ae(0x99),![]),_0x405870+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x35459f[_0x5c52ae(0x113)](),_0x37a420,_0x405870,INTRO_TEXT_FONT,_0x41be5c,_0x5c52ae(0x112),_0x5c52ae(0x99),![]),_0x405870+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x5c52ae(0xbe),_0x37a420,_0x405870,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x5c52ae(0x112),_0x5c52ae(0x99),![]),_0x405870+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x58d1da[_0x5c52ae(0x113)](),_0x37a420,_0x405870,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x5c52ae(0x112),_0x5c52ae(0x99),![]),_0x405870+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText('SHOTS\x20FIRED',_0x37a420,_0x405870,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,'center','middle',![]),_0x405870+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x4fc794['toString'](),_0x37a420,_0x405870,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x5c52ae(0x112),_0x5c52ae(0x99),![]),_0x405870+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x5c52ae(0x8b),_0x37a420,_0x405870,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x5c52ae(0x112),_0x5c52ae(0x99),![]),_0x405870+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x15f9ba['toString'](),_0x37a420,_0x405870,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,'center',_0x5c52ae(0x99),![]),_0x405870+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x5c52ae(0xf0),_0x37a420,_0x405870,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x5c52ae(0x112),_0x5c52ae(0x99),![]),_0x405870+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x4f1f29,_0x37a420,_0x405870,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x5c52ae(0x112),_0x5c52ae(0x99),![]),_0x405870+=RESULTS_LINE_V_SPACING_SINGLE*1.5-0xa,drawCanvasText('Platini2000(c)\x20LTD',_0x37a420,_0x405870,RESULTS_FOOTER_FONT,RESULTS_FOOTER_COLOR,'center','middle',![]);};if(isTwoPlayerMode){const _0x33c9d4=player1ShotsFired||0x0,_0x189015=player1EnemiesHit||0x0,_0xae8a39=_0x33c9d4>0x0?Math[_0x1c0b97(0x9d)](_0x189015/_0x33c9d4*0x64)+'%':'0%',_0x314c2e=player2ShotsFired||0x0,_0x56d6a1=player2EnemiesHit||0x0,_0x2168fb=_0x314c2e>0x0?Math[_0x1c0b97(0x9d)](_0x56d6a1/_0x314c2e*0x64)+'%':'0%',_0x5a08a8=_0x491538*0.4,_0x3ee3ff=_0x491538*0.1,_0x224151=_0x19ed19-_0x3ee3ff/0x2-_0x5a08a8/0x2+_0x5a08a8*0.1,_0x51d857=_0x19ed19+_0x3ee3ff/0x2+_0x5a08a8/0x2-_0x5a08a8*0.1,_0x4abfa3=_0x1c0b97(0xb2);_0x3d010b(_0x4abfa3,player1Score,_0x33c9d4,_0x189015,_0xae8a39,player1MaxLevelReached,_0x224151,_0x2ffe7c),_0x3d010b(_0x1c0b97(0xf6),player2Score,_0x314c2e,_0x56d6a1,_0x2168fb,player2MaxLevelReached,_0x51d857,_0x2ffe7c);let _0xe0d26e=0x0;if(player1Score>player2Score)_0xe0d26e=0x1;else{if(player2Score>player1Score)_0xe0d26e=0x2;}if(_0xe0d26e>0x0){let _0x2ec168=_0x2ffe7c;_0x2ec168+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,_0x2ec168+=RESULTS_LINE_V_SPACING_SINGLE;let _0x3ec18f=_0x2ffe7c;_0x3ec18f+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,_0x3ec18f+=RESULTS_LINE_V_SPACING_SINGLE;const _0x13e8ea='PLAYER\x20'+_0xe0d26e,_0x1e912e=_0x1c0b97(0x100);drawCanvasText(_0x13e8ea,_0x19ed19,_0x3ec18f,INTRO_TEXT_FONT,_0x1c0b97(0xd1),_0x1c0b97(0x112),_0x1c0b97(0x99),!![]),drawCanvasText(_0x1e912e,_0x19ed19,_0x3ec18f+RESULTS_LINE_V_SPACING_SINGLE,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,'center',_0x1c0b97(0x99),!![]);}}else{const _0x62bfd1=player1ShotsFired||0x0,_0x16c29c=player1EnemiesHit||0x0,_0x139c31=wasLastGameAIDemo?score:player1Score,_0x4282c5=wasLastGameAIDemo?level:player1MaxLevelReached,_0x80fdec=_0x62bfd1>0x0?Math[_0x1c0b97(0x9d)](_0x16c29c/_0x62bfd1*0x64)+'%':'0%',_0x45ec70=wasLastGameAIDemo?'DEMO':_0x1c0b97(0xb2);_0x3d010b(_0x45ec70,_0x139c31,_0x62bfd1,_0x16c29c,_0x80fdec,_0x4282c5,_0x19ed19,_0x2ffe7c);}gameCtx[_0x1c0b97(0xf1)]();}}}}}}}catch(_0x244220){console['error'](_0x1c0b97(0xa5),_0x244220,_0x244220[_0x1c0b97(0x125)]);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;try{gameCtx&&gameCanvas&&(gameCtx['fillStyle']=_0x1c0b97(0xef),gameCtx[_0x1c0b97(0x12b)]=_0x1c0b97(0x133),gameCtx['textAlign']=_0x1c0b97(0x112),gameCtx[_0x1c0b97(0xfb)](_0x1c0b97(0xba),gameCanvas[_0x1c0b97(0xa9)]/0x2,gameCanvas['height']/0x2));}catch(_0x31e86d){}try{showMenuState();}catch(_0xf649f){}}}function hideCursor(){const _0x289e96=_0x2a8dbc;gameCanvas&&(gameCanvas[_0x289e96(0x82)]['cursor']=_0x289e96(0x122)),mouseIdleTimerId=null;}function handleCanvasMouseMove(_0x197916){const _0x52e8b6=_0x2a8dbc;if(!gameCanvas)return;clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;let _0x92b911=_0x52e8b6(0xe5);const _0x3a5126=!isInGameState||isShowingScoreScreen||gameOverSequenceStartTime>0x0&&Date[_0x52e8b6(0xad)]()-gameOverSequenceStartTime>=GAME_OVER_DURATION;let _0x19591a=![],_0x4b802d=selectedButtonIndex;if(_0x3a5126){const _0x5772e3=gameCanvas['getBoundingClientRect'](),_0x9c7a0d=gameCanvas['width']/_0x5772e3[_0x52e8b6(0xa9)],_0x452c25=gameCanvas[_0x52e8b6(0xdc)]/_0x5772e3[_0x52e8b6(0xdc)],_0x588fbd=(_0x197916[_0x52e8b6(0xb6)]-_0x5772e3['left'])*_0x9c7a0d,_0x4f82af=(_0x197916[_0x52e8b6(0xec)]-_0x5772e3[_0x52e8b6(0xd8)])*_0x452c25,_0x462333=getMenuButtonRect(0x0),_0x490382=getMenuButtonRect(0x1);if(_0x462333&&checkCollision({'x':_0x588fbd,'y':_0x4f82af,'width':0x1,'height':0x1},_0x462333))_0x4b802d=0x0,_0x19591a=!![];else _0x490382&&checkCollision({'x':_0x588fbd,'y':_0x4f82af,'width':0x1,'height':0x1},_0x490382)?(_0x4b802d=0x1,_0x19591a=!![]):(_0x4b802d=-0x1,_0x19591a=![]);_0x4b802d!==selectedButtonIndex&&(selectedButtonIndex=_0x4b802d,_0x19591a&&stopAutoDemoTimer()),_0x92b911=_0x19591a?_0x52e8b6(0x84):_0x52e8b6(0xe5);}else _0x92b911=_0x52e8b6(0xe5),selectedButtonIndex=-0x1;gameCanvas['style'][_0x52e8b6(0x93)]=_0x92b911,mouseIdleTimerId=setTimeout(hideCursor,0x7d0);if(!isInGameState){const _0x2ff4d1=Date['now']();if(_0x2ff4d1-lastMouseMoveResetTime>0x1f4){if(typeof startAutoDemoTimer==='function')startAutoDemoTimer();lastMouseMoveResetTime=_0x2ff4d1;}}}function mainLoop(_0x841d05){const _0x5d8667=_0x2a8dbc;try{drawStars();retroGridCtx&&retroGridCanvas&&drawRetroGrid();pollControllerForMenu();if(isInGameState&&!isPaused){if(!isManualControl&&connectedGamepadIndex!==null){const _0x34e810=navigator['getGamepads']();if(_0x34e810?.[connectedGamepadIndex]){const _0x9196c=_0x34e810[connectedGamepadIndex],_0x1b9ff2=_0x9196c['buttons'][_0x5d8667(0xbd)](_0x2fbb7c=>_0x2fbb7c[_0x5d8667(0xe8)]);let _0x1493ac=![];for(let _0x21e1b3=0x0;_0x21e1b3<_0x1b9ff2[_0x5d8667(0xd5)];_0x21e1b3++){if(_0x21e1b3===PS5_BUTTON_R1||_0x21e1b3===PS5_BUTTON_TRIANGLE)continue;if(_0x1b9ff2[_0x21e1b3]&&!(previousDemoButtonStates[_0x21e1b3]??![])){_0x1493ac=!![];break;}}if(_0x1493ac){const _0x5b7050=_0x1b9ff2[_0x5d8667(0x81)]();showMenuState(),requestAnimationFrame(mainLoop);return;}previousDemoButtonStates=_0x1b9ff2[_0x5d8667(0x81)]();}else{if(previousDemoButtonStates[_0x5d8667(0xd5)]>0x0)previousDemoButtonStates=[];}}else{if(previousDemoButtonStates['length']>0x0)previousDemoButtonStates=[];}if(typeof runSingleGameUpdate===_0x5d8667(0x126))runSingleGameUpdate(_0x841d05);else{console[_0x5d8667(0xab)]('FATAL:\x20runSingleGameUpdate\x20is\x20not\x20defined!');if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,showMenuState(),requestAnimationFrame(mainLoop);return;}if(gameOverSequenceStartTime>0x0){const _0x2a576e=Date['now'](),_0x59deef=_0x2a576e-gameOverSequenceStartTime,_0x1c9ab5=GAME_OVER_DURATION+RESULTS_SCREEN_DURATION;if(_0x59deef>=_0x1c9ab5){showMenuState(),requestAnimationFrame(mainLoop);return;}}}else{if(isShowingScoreScreen){const _0x544929=Date[_0x5d8667(0xad)]()-scoreScreenStartTime;if(_0x544929>=SCORE_SCREEN_DURATION){startAIDemo(),requestAnimationFrame(mainLoop);return;}if(typeof renderGame===_0x5d8667(0x126))renderGame();}else{if(isInGameState&&gameOverSequenceStartTime>0x0){if(typeof renderGame===_0x5d8667(0x126))renderGame();const _0x2fb1c7=Date[_0x5d8667(0xad)](),_0x223cc9=_0x2fb1c7-gameOverSequenceStartTime,_0xe8a19a=GAME_OVER_DURATION+RESULTS_SCREEN_DURATION;if(_0x223cc9>=_0xe8a19a){showMenuState(),requestAnimationFrame(mainLoop);return;}}else{if(isInGameState&&isPaused){if(typeof renderGame==='function')renderGame();}else{if(isInGameState&&isCsCompletionDelayActive){if(typeof runSingleGameUpdate===_0x5d8667(0x126))runSingleGameUpdate(_0x841d05);else{if(typeof renderGame===_0x5d8667(0x126))renderGame();}}else{if(isInGameState&&isShowingPlayerGameOverMessage){if(typeof runSingleGameUpdate===_0x5d8667(0x126))runSingleGameUpdate(_0x841d05);else{if(typeof renderGame===_0x5d8667(0x126))renderGame();}}else{if(typeof renderGame===_0x5d8667(0x126))renderGame();}}}}}}mainLoopId=requestAnimationFrame(mainLoop);}catch(_0x18694a){console[_0x5d8667(0xab)](_0x5d8667(0x88),_0x18694a,_0x18694a[_0x5d8667(0x125)]);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,isPaused=![];const _0x37a71e=[gridBackgroundSound,entranceSound,butterflyDiveSound,startSound,coinSound,bossGalagaDiveSound,enemyShootSound,levelUpSound,gameOverSound,playerShootSound,extraLifeSound,csPerfectSound,csClearSound,explosionSound,waveUpSound,menuMusicSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound];_0x37a71e['forEach'](_0x52f388=>stopSound(_0x52f388)),isGridSoundPlaying=![];try{showMenuState();}catch(_0x54877d){console[_0x5d8667(0xab)](_0x5d8667(0x137),_0x54877d),document[_0x5d8667(0xcf)]['innerHTML']=_0x5d8667(0xd0);}}}function startMainLoop(){const _0x57b659=_0x2a8dbc;mainLoopId===null?(gridOffsetY=0x0,mainLoop()):console[_0x57b659(0x10c)]('Main\x20loop\x20already\x20running.');}function initializeGame(){const _0x365e29=_0x2a8dbc;try{if(typeof initializeDOMElements===_0x365e29(0x126)){if(!initializeDOMElements()){console[_0x365e29(0xab)](_0x365e29(0xa2));return;}}else{console['error']('initializeDOMElements\x20function\x20not\x20found!');return;}if(typeof loadHighScore==='function')loadHighScore();else console[_0x365e29(0x10c)]('loadHighScore\x20function\x20not\x20found.');if(typeof defineNormalWaveEntrancePaths===_0x365e29(0x126))defineNormalWaveEntrancePaths();else console[_0x365e29(0xab)](_0x365e29(0xf4));if(typeof defineChallengingStagePaths==='function')defineChallengingStagePaths();else console[_0x365e29(0xab)]('defineChallengingStagePaths\x20not\x20found!');window[_0x365e29(0x10f)]('keydown',handleKeyDown),window['addEventListener'](_0x365e29(0xc8),handleKeyUp);gameCanvas?(gameCanvas['addEventListener'](_0x365e29(0x11e),handleCanvasClick),gameCanvas[_0x365e29(0x10f)](_0x365e29(0x105),handleCanvasMouseMove)):console[_0x365e29(0xab)](_0x365e29(0x12d));window[_0x365e29(0x10f)](_0x365e29(0x101),handleGamepadConnected),window[_0x365e29(0x10f)](_0x365e29(0x12f),handleGamepadDisconnected),window[_0x365e29(0x10f)]('resize',resizeCanvases),showMenuState();if(typeof resizeCanvases===_0x365e29(0x126))resizeCanvases();else console[_0x365e29(0xab)](_0x365e29(0x7d));startMainLoop();}catch(_0xf9ef42){console[_0x365e29(0xab)]('FATAL\x20INITIALIZATION\x20ERROR:',_0xf9ef42,_0xf9ef42['stack']),document['body']['innerHTML']=_0x365e29(0xea)+_0xf9ef42[_0x365e29(0x85)]+_0x365e29(0xf7),mainLoopId&&(cancelAnimationFrame(mainLoopId),mainLoopId=null);}}window[_0x2a8dbc(0x10f)]('load',initializeGame);