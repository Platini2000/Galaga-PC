const _0x27cf93=_0x10ee;(function(_0x68a398,_0x54c873){const _0x3a0996=_0x10ee,_0x522bf5=_0x68a398();while(!![]){try{const _0x336c4f=parseInt(_0x3a0996(0x219))/0x1+-parseInt(_0x3a0996(0x216))/0x2*(-parseInt(_0x3a0996(0x1f0))/0x3)+parseInt(_0x3a0996(0x1ef))/0x4*(parseInt(_0x3a0996(0x22e))/0x5)+-parseInt(_0x3a0996(0x28d))/0x6*(parseInt(_0x3a0996(0x28a))/0x7)+-parseInt(_0x3a0996(0x1e5))/0x8+-parseInt(_0x3a0996(0x24b))/0x9+-parseInt(_0x3a0996(0x28b))/0xa*(-parseInt(_0x3a0996(0x21d))/0xb);if(_0x336c4f===_0x54c873)break;else _0x522bf5['push'](_0x522bf5['shift']());}catch(_0x2ea1ab){_0x522bf5['push'](_0x522bf5['shift']());}}}(_0x1b10,0x2fb7e));const MENU_LOGO_APPROX_HEIGHT=0x55,MENU_SUBTITLE_TEXT=_0x27cf93(0x231),MENU_SUBTITLE_FONT='18px\x20\x27Arial\x20Black\x27,\x20Gadget,\x20sans-serif',MENU_SUBTITLE_COLOR=_0x27cf93(0x272),MENU_BUTTON_FONT=_0x27cf93(0x1ec),MENU_BUTTON_COLOR=_0x27cf93(0x200),MENU_BUTTON_COLOR_HOVER=_0x27cf93(0x208),MENU_BUTTON_WIDTH=0x12c,MENU_BUTTON_HEIGHT=0x37,MENU_LOGO_BOTTOM_TO_START_GAP=0x5,MENU_BUTTON_V_GAP=-0xf,MENU_BUTTON_SUBTITLE_V_GAP=-0x0,MENU_SCORE_FONT=_0x27cf93(0x294),MENU_SCORE_COLOR=_0x27cf93(0x200),MENU_SCORE_LABEL_COLOR=_0x27cf93(0x272),GAME_OVER_FONT=_0x27cf93(0x252),GAME_OVER_COLOR=_0x27cf93(0x208),GAME_OVER_SHADOW=!![],DEMO_TEXT_LINE1_FONT=_0x27cf93(0x252),DEMO_TEXT_COLOR=_0x27cf93(0x208),DEMO_TEXT_BLINK_ON_MS=0x3e8,DEMO_TEXT_BLINK_OFF_MS=0x3e8,DEMO_TEXT_BLINK_CYCLE_MS=DEMO_TEXT_BLINK_ON_MS+DEMO_TEXT_BLINK_OFF_MS,LOGO_SCALE_FACTOR=0.45,MENU_LOGO_EXTRA_Y_OFFSET=0x0,MENU_GENERAL_Y_OFFSET=0x32,INTRO_TEXT_FONT=_0x27cf93(0x252),INTRO_TEXT_COLOR_NORMAL=_0x27cf93(0x208),INTRO_TEXT_COLOR_DARK_YELLOW=_0x27cf93(0x218),INTRO_TEXT_COLOR_CS_TEXT=INTRO_TEXT_COLOR_NORMAL,PERFECT_TEXT_COLOR=_0x27cf93(0x272),EXTRA_LIFE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,READY_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_BONUS_SCORE_TEXT_COLOR=INTRO_TEXT_COLOR_DARK_YELLOW,CS_CLEAR_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_HITS_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_CLEAR_SCORE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,PAUSE_TEXT_FONT=INTRO_TEXT_FONT,PAUSE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,PAUSE_TEXT_SHADOW=!![],RESULTS_SCREEN_DURATION=0x4e20,PLAYER_GAME_OVER_MESSAGE_DURATION=0x1388,SCORE_SCREEN_TEXT_FONT=INTRO_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_TOP=INTRO_TEXT_COLOR_NORMAL,SCORE_SCREEN_TEXT_COLOR_BONUS=INTRO_TEXT_COLOR_DARK_YELLOW,SCORE_SCREEN_LINE_V_SPACING=0x28,SCORE_SCREEN_ICON_TEXT_H_SPACING=0xf,SCORE_SCREEN_VERTICAL_OFFSET=0x4b,RESULTS_HEADER_COLOR='red',RESULTS_VALUE_COLOR_YELLOW=INTRO_TEXT_COLOR_DARK_YELLOW,RESULTS_LABEL_COLOR='white',RESULTS_VALUE_COLOR_CYAN=INTRO_TEXT_COLOR_NORMAL,RESULTS_LINE_V_SPACING_SINGLE=0x23,RESULTS_LINE_V_SPACING_DOUBLE=0x5a,RESULTS_START_Y=0xaf,RESULTS_FOOTER_FONT=MENU_SUBTITLE_FONT,RESULTS_FOOTER_COLOR=RESULTS_HEADER_COLOR,CS_MESSAGE_VERTICAL_OFFSET=0x1e;function _0x10ee(_0x5d49eb,_0x1bb810){const _0x1b1070=_0x1b10();return _0x10ee=function(_0x10ee2a,_0x150c9f){_0x10ee2a=_0x10ee2a-0x1db;let _0x1d356d=_0x1b1070[_0x10ee2a];return _0x1d356d;},_0x10ee(_0x5d49eb,_0x1bb810);}function getSubtitleApproxHeight(_0x561f9e){const _0x4dd5de=_0x27cf93,_0x5f57c6=_0x561f9e[_0x4dd5de(0x270)](/(\d+)px/);return _0x5f57c6?.[0x1]?parseInt(_0x5f57c6[0x1],0xa):0x19;}function formatMillisecondsToMMSS(_0x3e8ece){const _0x1e8ff3=_0x27cf93;if(_0x3e8ece<=0x0||typeof _0x3e8ece!==_0x1e8ff3(0x273)||!isFinite(_0x3e8ece))return _0x1e8ff3(0x20e);const _0x39ac08=Math[_0x1e8ff3(0x298)](_0x3e8ece/0x3e8),_0x10ccbc=Math['floor'](_0x39ac08/0x3c),_0x124ecd=_0x39ac08%0x3c,_0x4f6710=String(_0x10ccbc)[_0x1e8ff3(0x266)](0x2,'0'),_0x4e8b35=String(_0x124ecd)[_0x1e8ff3(0x266)](0x2,'0');return _0x4f6710+':'+_0x4e8b35;}function getMenuButtonRect(_0x973951){const _0x23c18b=_0x27cf93;if(!gameCtx||!gameCanvas||gameCanvas[_0x23c18b(0x222)]===0x0||gameCanvas[_0x23c18b(0x24d)]===0x0)return null;const _0x337944=gameCanvas[_0x23c18b(0x222)],_0x16f213=gameCanvas[_0x23c18b(0x24d)],_0x5ed4b5=_0x337944/0x2-MENU_BUTTON_WIDTH/0x2-0x1;let _0x551675=MENU_LOGO_APPROX_HEIGHT;typeof logoImage!=='undefined'&&logoImage[_0x23c18b(0x203)]&&logoImage[_0x23c18b(0x237)]!==0x0&&(_0x551675=logoImage[_0x23c18b(0x237)]*LOGO_SCALE_FACTOR);const _0x5ee106=getSubtitleApproxHeight(MENU_SUBTITLE_FONT),_0x3d3cf8=_0x551675+MENU_LOGO_BOTTOM_TO_START_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_SUBTITLE_V_GAP+_0x5ee106;let _0x56fe96=(_0x16f213-_0x3d3cf8)/0x2-0x46;_0x56fe96+=MENU_GENERAL_Y_OFFSET;const _0x61037e=_0x56fe96+_0x551675+MENU_LOGO_BOTTOM_TO_START_GAP,_0x22e84d=_0x61037e+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP;if(_0x973951===0x0)return{'x':_0x5ed4b5,'y':Math[_0x23c18b(0x22a)](_0x61037e),'width':MENU_BUTTON_WIDTH,'height':MENU_BUTTON_HEIGHT};else{if(_0x973951===0x1)return{'x':_0x5ed4b5,'y':Math[_0x23c18b(0x22a)](_0x22e84d),'width':MENU_BUTTON_WIDTH,'height':MENU_BUTTON_HEIGHT};}return null;}function pollControllerForMenu(){const _0x46f38b=_0x27cf93;try{if(connectedGamepadIndex===null&&connectedGamepadIndexP2===null){joystickMovedVerticallyLastFrame=![];if(previousButtonStates[_0x46f38b(0x20c)]>0x0)previousButtonStates=[];if(previousGameButtonStates[_0x46f38b(0x20c)]>0x0)previousGameButtonStates=[];if(previousGameButtonStatesP2[_0x46f38b(0x20c)]>0x0)previousGameButtonStatesP2=[];return;}let _0x3e7d28=connectedGamepadIndex!==null?connectedGamepadIndex:connectedGamepadIndexP2;if(_0x3e7d28===null)return;const _0x5e1f11=navigator[_0x46f38b(0x223)]();if(!_0x5e1f11?.[_0x3e7d28])return;const _0x4bb601=_0x5e1f11[_0x3e7d28],_0x3e5568=_0x4bb601[_0x46f38b(0x1f4)][_0x46f38b(0x249)](_0xa9fef0=>_0xa9fef0['pressed']),_0x346730=_0x3e5568,_0x2abce9=_0x3e5568;let _0x55b056=![];const _0x39f217=Date[_0x46f38b(0x255)]();let _0x45b577=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x45b577=!![]);if(_0x45b577){connectedGamepadIndex!==null&&(previousButtonStates=_0x346730['slice'](),previousGameButtonStates=_0x2abce9[_0x46f38b(0x236)]());if(connectedGamepadIndexP2!==null){const _0x433119=navigator['getGamepads']();_0x433119?.[connectedGamepadIndexP2]&&(previousGameButtonStatesP2=_0x433119[connectedGamepadIndexP2][_0x46f38b(0x1f4)]['map'](_0x48954a=>_0x48954a['pressed']));}return;}if(isInGameState&&playerLives>0x0&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){const _0x48280f=_0x2abce9[PS5_BUTTON_TRIANGLE],_0x4e50a=previousGameButtonStates[PS5_BUTTON_TRIANGLE]??![];_0x48280f&&!_0x4e50a&&(stopGameAndShowMenu(),_0x55b056=!![]);}if(!_0x55b056&&isInGameState&&playerLives>0x0&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){const _0x1ade64=_0x2abce9[PS5_BUTTON_R1],_0x210d62=previousGameButtonStates[PS5_BUTTON_R1]??![];if(_0x1ade64&&!_0x210d62){if(typeof togglePause===_0x46f38b(0x284))togglePause();_0x55b056=!![];}}if(!_0x55b056){const _0x53f912=isShowingScoreScreen;if(_0x53f912){let _0x155f18=![];for(let _0x2e7368=0x0;_0x2e7368<_0x346730['length'];_0x2e7368++){if(_0x2e7368===PS5_BUTTON_R1||_0x2e7368===PS5_BUTTON_TRIANGLE)continue;const _0x55dce3=previousButtonStates[_0x2e7368]??![];if(_0x346730[_0x2e7368]&&!_0x55dce3){_0x155f18=!![];break;}}if(_0x155f18){if(typeof showMenuState==='function')showMenuState();_0x55b056=!![];}}else{if(!isInGameState&&!_0x55b056){const _0x301815=_0x346730[PS5_BUTTON_CROSS],_0x435a1c=previousButtonStates[PS5_BUTTON_CROSS]??![],_0x316f4a=_0x346730[PS5_BUTTON_CIRCLE],_0x4789e6=previousButtonStates[PS5_BUTTON_CIRCLE]??![],_0x1c85f1=_0x4bb601['axes'][PS5_LEFT_STICK_Y]??0x0,_0x5a1887=_0x346730[PS5_DPAD_UP],_0xbec8e9=_0x346730[PS5_DPAD_DOWN];let _0x3c0e04=0x0;if(_0x1c85f1<-AXIS_DEAD_ZONE_MENU||_0x5a1887)_0x3c0e04=-0x1;else{if(_0x1c85f1>AXIS_DEAD_ZONE_MENU||_0xbec8e9)_0x3c0e04=0x1;}let _0x4089ad=_0x3c0e04!==0x0;if(_0x4089ad&&!joystickMovedVerticallyLastFrame){let _0x27ece2=selectedButtonIndex;const _0x4f96d=0x2;_0x27ece2===-0x1?_0x27ece2=_0x3c0e04===0x1?0x0:_0x4f96d-0x1:_0x27ece2+=_0x3c0e04;if(_0x27ece2<0x0)_0x27ece2=_0x4f96d-0x1;if(_0x27ece2>=_0x4f96d)_0x27ece2=0x0;_0x27ece2!==selectedButtonIndex&&(selectedButtonIndex=_0x27ece2,startAutoDemoTimer());}joystickMovedVerticallyLastFrame=_0x4089ad;if(_0x301815&&!_0x435a1c){stopAutoDemoTimer();if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode='rapid':selectedFiringMode=_0x46f38b(0x28c),baseStartGame(!![]),_0x55b056=!![];else{if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P(),_0x55b056=!![];else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer(),_0x55b056=!![];else selectedButtonIndex===0x1&&(exitGame(),_0x55b056=!![]);}}}if(!_0x55b056&&_0x316f4a&&!_0x4789e6){stopAutoDemoTimer();if(isFiringModeSelectMode)isFiringModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer(),_0x55b056=!![];else isPlayerSelectMode?(isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer(),_0x55b056=!![]):(triggerFullscreen(),playSound(menuMusicSound),_0x55b056=!![]);}}}}connectedGamepadIndex!==null&&(previousButtonStates=_0x346730[_0x46f38b(0x236)](),previousGameButtonStates=_0x2abce9[_0x46f38b(0x236)]());if(connectedGamepadIndexP2!==null){const _0x55906c=navigator[_0x46f38b(0x223)]();_0x55906c?.[connectedGamepadIndexP2]&&(previousGameButtonStatesP2=_0x55906c[connectedGamepadIndexP2][_0x46f38b(0x1f4)][_0x46f38b(0x249)](_0x4b798f=>_0x4b798f[_0x46f38b(0x242)]));}}catch(_0x1c24c3){console[_0x46f38b(0x1fe)](_0x46f38b(0x1e1),_0x1c24c3),previousButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[],selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![];}}function startAutoDemoTimer(){const _0x42a6c6=_0x27cf93;try{stopAutoDemoTimer(),autoStartTimerId=setTimeout(()=>{!isInGameState&&!isShowingScoreScreen?(isPlayerSelectMode=![],isFiringModeSelectMode=![],showScoreScreen()):autoStartTimerId=null;},MENU_INACTIVITY_TIMEOUT);}catch(_0x556163){console[_0x42a6c6(0x1fe)](_0x42a6c6(0x27f),_0x556163);}}function stopAutoDemoTimer(){const _0x13fd83=_0x27cf93;try{autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null);}catch(_0x37ea0c){console[_0x13fd83(0x1fe)](_0x13fd83(0x28e),_0x37ea0c);}}function showScoreScreen(){if(isInGameState||isShowingScoreScreen)return;stopAutoDemoTimer(),isShowingScoreScreen=!![],isPlayerSelectMode=![],isFiringModeSelectMode=![],scoreScreenStartTime=Date['now'](),selectedButtonIndex=-0x1;}function showMenuState(){const _0x2ec3d2=_0x27cf93;try{wasLastGameAIDemo&&(highScore=0x4e20);wasLastGameAIDemo=![],isInGameState=![],isShowingScoreScreen=![],scoreScreenStartTime=0x0,isManualControl=![],isShowingDemoText=![],isPaused=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedFiringMode=_0x2ec3d2(0x1f1),isTwoPlayerMode=![],currentPlayer=0x1,showCsHitsMessage=![],csHitsMessageStartTime=0x0,showPerfectMessage=![],perfectMessageStartTime=0x0,showCsBonusScoreMessage=![],csBonusScoreMessageStartTime=0x0,showCSClearMessage=![],csClearMessageStartTime=0x0,showCsHitsForClearMessage=![],showCsScoreForClearMessage=![],showExtraLifeMessage=![],extraLifeMessageStartTime=0x0,showReadyMessage=![],readyMessageStartTime=0x0,readyForNextWave=![],readyForNextWaveReset=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![],isShowingPlayerGameOverMessage=![],playerGameOverMessageStartTime=0x0,playerWhoIsGameOver=0x0,nextActionAfterPlayerGameOver='',player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![];const _0x51491a=[gridBackgroundSound,entranceSound,butterflyDiveSound,startSound,coinSound,bossGalagaDiveSound,enemyShootSound,levelUpSound,gameOverSound,playerShootSound,extraLifeSound,csPerfectSound,csClearSound,explosionSound,waveUpSound,menuMusicSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound,resultsMusicSound,hiScoreSound];_0x51491a[_0x2ec3d2(0x262)](_0xa0a078=>stopSound(_0xa0a078)),isGridSoundPlaying=![],typeof enemies!==_0x2ec3d2(0x214)&&Array[_0x2ec3d2(0x276)](enemies)&&enemies[_0x2ec3d2(0x262)](_0x5aa368=>{const _0x79507a=_0x2ec3d2;if(_0x5aa368?.[_0x79507a(0x1fc)]===_0x79507a(0x221)){if(_0x5aa368['type']===ENEMY3_TYPE)stopSound(bossGalagaDiveSound);else stopSound(butterflyDiveSound);}}),playerLives=0x3,score=0x0,level=0x1,player1Lives=0x3,player2Lives=0x3,player1Score=0x0,player2Score=0x0,player1ShotsFired=0x0,player2ShotsFired=0x0,player1EnemiesHit=0x0,player2EnemiesHit=0x0,player1MaxLevelReached=0x1,player2MaxLevelReached=0x1,scoreEarnedThisCS=0x0,enemies=[],bullets=[],enemyBullets=[],explosions=[],isShowingIntro=![],introStep=0x0,isChallengingStage=![],challengingStageEnemiesHit=0x0,currentGridOffsetX=0x0,gridMoveDirection=0x1,currentWaveDefinition=null,isEntrancePhaseActive=![],totalEnemiesScheduledForWave=0x0,enemiesSpawnedThisWave=0x0,typeof enemySpawnTimeouts!==_0x2ec3d2(0x214)&&Array[_0x2ec3d2(0x276)](enemySpawnTimeouts)&&enemySpawnTimeouts[_0x2ec3d2(0x262)](clearTimeout),enemySpawnTimeouts=[],lastEnemyDetachTime=0x0,selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[],isShowingResultsScreen=![],gameOverSequenceStartTime=0x0,gameStartTime=0x0,forceCenterShipNextReset=![],player1CompletedLevel=-0x1,p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![],ship&&gameCanvas&&gameCanvas[_0x2ec3d2(0x222)]>0x0&&gameCanvas['height']>0x0?(ship['x']=Math[_0x2ec3d2(0x22a)](gameCanvas[_0x2ec3d2(0x222)]/0x2-SHIP_WIDTH/0x2),ship[_0x2ec3d2(0x248)]=ship['x'],ship['y']=gameCanvas[_0x2ec3d2(0x24d)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN):console[_0x2ec3d2(0x25c)](_0x2ec3d2(0x24e)),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0),playSound(menuMusicSound),startAutoDemoTimer();}catch(_0x403494){console[_0x2ec3d2(0x1fe)](_0x2ec3d2(0x23d),_0x403494),wasLastGameAIDemo=![],isInGameState=![],isShowingScoreScreen=![],isPaused=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isTwoPlayerMode=![],currentPlayer=0x1,isShowingPlayerGameOverMessage=![],player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,alert('Error\x20returning\x20to\x20menu.\x20Please\x20refresh\x20the\x20page.'),document[_0x2ec3d2(0x217)][_0x2ec3d2(0x230)]=_0x2ec3d2(0x29a);}}function startAIDemo(){const _0x3b7ad8=_0x27cf93;if(isInGameState)return;stopSound(menuMusicSound),isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedFiringMode=_0x3b7ad8(0x1f1),isTwoPlayerMode=![],isManualControl=![],isShowingDemoText=!![],wasLastGameAIDemo=!![],baseStartGame(![]),gameJustStarted=!![];}function startGame1P(){if(isInGameState)return;isTwoPlayerMode=![],isPlayerSelectMode=![],isFiringModeSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer();}function startGame2P(){if(isInGameState)return;isTwoPlayerMode=!![],isPlayerSelectMode=![],isFiringModeSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer();}function baseStartGame(_0x4b77c9){const _0x2e84e6=_0x27cf93;try{if(!gameCanvas||!gameCtx){console[_0x2e84e6(0x1fe)]('Cannot\x20start\x20game\x20-\x20canvas\x20not\x20ready.'),showMenuState();return;}stopSound(menuMusicSound),stopAutoDemoTimer(),isInGameState=!![],isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isManualControl=_0x4b77c9,isShowingDemoText=!_0x4b77c9,isPaused=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];_0x4b77c9&&(wasLastGameAIDemo=![]);clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);if(typeof resetGame===_0x2e84e6(0x284))resetGame();else{console[_0x2e84e6(0x1fe)](_0x2e84e6(0x1ea)),alert(_0x2e84e6(0x201)),showMenuState();return;}_0x4b77c9&&playSound(coinSound),gameStartTime=Date['now'](),leftPressed=![],rightPressed=![],shootPressed=![],p2LeftPressed=![],p2RightPressed=![],p2ShootPressed=![],keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],selectedButtonIndex=-0x1,ship&&gameCanvas&&gameCanvas[_0x2e84e6(0x222)]>0x0&&gameCanvas[_0x2e84e6(0x24d)]>0x0&&(ship['x']=Math[_0x2e84e6(0x22a)](gameCanvas[_0x2e84e6(0x222)]/0x2-SHIP_WIDTH/0x2),ship[_0x2e84e6(0x248)]=ship['x'],ship['y']=gameCanvas[_0x2e84e6(0x24d)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN),mainLoopId===null&&startMainLoop();}catch(_0x24f6a1){console[_0x2e84e6(0x1fe)](_0x2e84e6(0x26f),_0x24f6a1),wasLastGameAIDemo=![],clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null,alert(_0x2e84e6(0x275)),showMenuState();}}function stopGameAndShowMenu(){isPaused=![];if(isManualControl)saveHighScore();showMenuState();}function exitGame(){const _0x31de4a=_0x27cf93;isPaused=![],stopAutoDemoTimer(),saveHighScore(),isInGameState=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],showMenuState();try{window[_0x31de4a(0x21c)](),setTimeout(()=>{if(!isInGameState)showMenuState();},0xc8);}catch(_0x558308){console['error'](_0x31de4a(0x209),_0x558308),showMenuState();}}function triggerGameOver(){triggerFinalGameOverSequence();}function startAutoDemoTimer(){try{stopAutoDemoTimer(),autoStartTimerId=setTimeout(()=>{!isInGameState&&!isShowingScoreScreen?(isPlayerSelectMode=![],isFiringModeSelectMode=![],showScoreScreen()):autoStartTimerId=null;},MENU_INACTIVITY_TIMEOUT);}catch(_0xd5c96){console['error']('Error\x20starting\x20auto\x20demo\x20timer:',_0xd5c96);}}function stopAutoDemoTimer(){const _0x3ff563=_0x27cf93;try{autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null);}catch(_0x1caf4b){console['error'](_0x3ff563(0x28e),_0x1caf4b);}}function showScoreScreen(){const _0xdaeddb=_0x27cf93;if(isInGameState||isShowingScoreScreen)return;stopAutoDemoTimer(),isShowingScoreScreen=!![],isPlayerSelectMode=![],isFiringModeSelectMode=![],scoreScreenStartTime=Date[_0xdaeddb(0x255)](),selectedButtonIndex=-0x1,clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);}function handleCanvasClick(_0x5d7c47){const _0xf86684=_0x27cf93;if(!gameCanvas)return;const _0x6b63f=gameCanvas['getBoundingClientRect'](),_0x3de34d=gameCanvas[_0xf86684(0x222)]/_0x6b63f[_0xf86684(0x222)],_0x41913d=gameCanvas['height']/_0x6b63f['height'],_0x592e0b=(_0x5d7c47['clientX']-_0x6b63f[_0xf86684(0x1fb)])*_0x3de34d,_0x8e48f3=(_0x5d7c47['clientY']-_0x6b63f[_0xf86684(0x290)])*_0x41913d,_0x3bc849=Date[_0xf86684(0x255)]();let _0x14babf=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x14babf=!![]);if(_0x14babf)return;if(isInGameState){if(isPaused){if(typeof togglePause===_0xf86684(0x284))togglePause();return;}if(!isManualControl){if(typeof stopGameAndShowMenu===_0xf86684(0x284))stopGameAndShowMenu();}}else{if(isShowingScoreScreen){if(typeof showMenuState===_0xf86684(0x284))showMenuState();}else{const _0x4578fe=getMenuButtonRect(0x0),_0x17c89a=getMenuButtonRect(0x1);let _0x3963de=_0x4578fe&&checkCollision({'x':_0x592e0b,'y':_0x8e48f3,'width':0x1,'height':0x1},_0x4578fe),_0x5a0e37=_0x17c89a&&checkCollision({'x':_0x592e0b,'y':_0x8e48f3,'width':0x1,'height':0x1},_0x17c89a);if(isFiringModeSelectMode){if(_0x3963de)selectedFiringMode=_0xf86684(0x1f1),baseStartGame(!![]),stopAutoDemoTimer();else _0x5a0e37?(selectedFiringMode=_0xf86684(0x28c),baseStartGame(!![]),stopAutoDemoTimer()):(isFiringModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer());}else{if(isPlayerSelectMode){if(_0x3963de)startGame1P(),stopAutoDemoTimer();else _0x5a0e37?(startGame2P(),stopAutoDemoTimer()):(isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer());}else{if(_0x3963de)isPlayerSelectMode=!![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer();else{if(_0x5a0e37){if(typeof exitGame===_0xf86684(0x284))exitGame();stopAutoDemoTimer();}else triggerFullscreen(),playSound(menuMusicSound),stopAutoDemoTimer();}}}}}}function createExplosion(_0x393266,_0x3e2812){const _0x386bb8=_0x27cf93;try{playSound(explosionSound);let _0x12a297=[];for(let _0x5a1333=0x0;_0x5a1333<EXPLOSION_PARTICLE_COUNT;_0x5a1333++){const _0x13dc64=Math[_0x386bb8(0x1e8)]()*Math['PI']*0x2,_0x4fa701=Math[_0x386bb8(0x1e8)]()*(EXPLOSION_MAX_SPEED-EXPLOSION_MIN_SPEED)+EXPLOSION_MIN_SPEED;_0x12a297[_0x386bb8(0x27e)]({'x':_0x393266,'y':_0x3e2812,'vx':Math['cos'](_0x13dc64)*_0x4fa701,'vy':Math[_0x386bb8(0x257)](_0x13dc64)*_0x4fa701,'radius':EXPLOSION_PARTICLE_RADIUS,'alpha':0x1});}explosions['push']({'creationTime':Date[_0x386bb8(0x255)](),'duration':EXPLOSION_DURATION,'particles':_0x12a297});}catch(_0x18923a){console[_0x386bb8(0x1fe)](_0x386bb8(0x277),_0x18923a);}}function renderExplosions(){const _0x1d5f69=_0x27cf93;try{if(!gameCtx)return;gameCtx[_0x1d5f69(0x243)](),gameCtx[_0x1d5f69(0x211)]=_0x1d5f69(0x260),explosions[_0x1d5f69(0x262)](_0x2361e5=>{const _0xd8ffd0=_0x1d5f69;_0x2361e5[_0xd8ffd0(0x261)][_0xd8ffd0(0x262)](_0x256667=>{const _0x2167ca=_0xd8ffd0,_0x27b37d=_0x256667[_0x2167ca(0x27d)]*EXPLOSION_MAX_OPACITY;_0x27b37d>0.01&&(gameCtx[_0x2167ca(0x21a)](),gameCtx['arc'](Math[_0x2167ca(0x22a)](_0x256667['x']),Math['round'](_0x256667['y']),_0x256667[_0x2167ca(0x224)],0x0,Math['PI']*0x2),gameCtx[_0x2167ca(0x1f3)]='rgba(255,\x20200,\x2080,\x20'+_0x27b37d[_0x2167ca(0x1e2)](0x3)+')',gameCtx[_0x2167ca(0x206)]());});}),gameCtx[_0x1d5f69(0x1f2)]();}catch(_0x3b7f85){console[_0x1d5f69(0x1fe)]('Error\x20rendering\x20explosions:',_0x3b7f85);}}function drawCanvasText(_0x1d3828,_0x183a6f,_0x5cecb0,_0x139606,_0x235276,_0x2dc078=_0x27cf93(0x1f6),_0x7ea859=_0x27cf93(0x287),_0x46a144=![]){const _0x2d4cad=_0x27cf93;if(!gameCtx)return;gameCtx[_0x2d4cad(0x243)](),gameCtx[_0x2d4cad(0x24a)]=_0x139606,gameCtx[_0x2d4cad(0x1f3)]=_0x235276,gameCtx[_0x2d4cad(0x238)]=_0x2dc078,gameCtx[_0x2d4cad(0x235)]=_0x7ea859,_0x46a144&&(gameCtx[_0x2d4cad(0x21f)]='rgba(0,\x200,\x200,\x200.8)',gameCtx[_0x2d4cad(0x283)]=0x8,gameCtx[_0x2d4cad(0x1fa)]=0x3,gameCtx[_0x2d4cad(0x296)]=0x3),gameCtx[_0x2d4cad(0x24f)](_0x1d3828,_0x183a6f,_0x5cecb0),gameCtx[_0x2d4cad(0x1f2)]();}function drawCanvasButton(_0x4d77ee,_0x35a3c7,_0x56ca7c){const _0x14e8a7=_0x27cf93;if(!gameCtx)return;const _0x5766d0=getMenuButtonRect(_0x35a3c7);if(!_0x5766d0)return;gameCtx[_0x14e8a7(0x243)](),drawCanvasText(_0x4d77ee,_0x5766d0['x']+_0x5766d0['width']/0x2,_0x5766d0['y']+_0x5766d0['height']/0x2,MENU_BUTTON_FONT,_0x56ca7c?MENU_BUTTON_COLOR_HOVER:MENU_BUTTON_COLOR,_0x14e8a7(0x1f6),_0x14e8a7(0x287)),gameCtx[_0x14e8a7(0x1f2)]();}function renderFloatingScores(){const _0x3cf353=_0x27cf93;try{if(!gameCtx||!floatingScores||floatingScores[_0x3cf353(0x20c)]===0x0)return;const _0x179610=Date[_0x3cf353(0x255)]();gameCtx[_0x3cf353(0x243)](),gameCtx[_0x3cf353(0x21e)]=FLOATING_SCORE_OPACITY,floatingScores['forEach'](_0x5a6c91=>{const _0x1bd147=_0x3cf353;_0x179610>=_0x5a6c91['displayStartTime']&&drawCanvasText(_0x5a6c91[_0x1bd147(0x1f5)],_0x5a6c91['x'],_0x5a6c91['y'],FLOATING_SCORE_FONT,_0x5a6c91[_0x1bd147(0x244)],'center','middle',![]);}),gameCtx[_0x3cf353(0x21e)]=0x1,gameCtx[_0x3cf353(0x1f2)]();}catch(_0x18e0fc){console[_0x3cf353(0x1fe)](_0x3cf353(0x254),_0x18e0fc);}}function renderHitSparks(){const _0x3a02e3=_0x27cf93;if(!gameCtx||!hitSparks||hitSparks[_0x3a02e3(0x20c)]===0x0)return;gameCtx[_0x3a02e3(0x243)](),gameCtx[_0x3a02e3(0x211)]=_0x3a02e3(0x260),hitSparks[_0x3a02e3(0x262)](_0x3309f8=>{const _0x57916=_0x3a02e3;if(_0x3309f8&&_0x3309f8[_0x57916(0x27d)]>0.01){gameCtx['fillStyle']=_0x3309f8[_0x57916(0x244)],gameCtx['globalAlpha']=_0x3309f8[_0x57916(0x27d)],gameCtx[_0x57916(0x21a)]();const _0x314cdb=_0x3309f8[_0x57916(0x1f8)]*Math[_0x57916(0x282)](_0x3309f8[_0x57916(0x27d)]);gameCtx[_0x57916(0x246)](Math[_0x57916(0x22a)](_0x3309f8['x']),Math[_0x57916(0x22a)](_0x3309f8['y']),Math['max'](0.5,_0x314cdb/0x2),0x0,Math['PI']*0x2),gameCtx['fill']();}}),gameCtx['globalAlpha']=0x1,gameCtx['restore']();}function renderGame(){const _0x199353=_0x27cf93;try{if(!gameCtx||!gameCanvas){if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;return;}gameCtx['clearRect'](0x0,0x0,gameCanvas[_0x199353(0x222)],gameCanvas[_0x199353(0x24d)]);const _0xbc7243=Date[_0x199353(0x255)]();gameCtx[_0x199353(0x243)]();const _0x4fa519='20px\x20\x27Press\x20Start\x202P\x27',_0x240fe0='red',_0x5b5db5=_0x199353(0x200);gameCtx[_0x199353(0x24a)]=_0x4fa519,gameCtx[_0x199353(0x235)]=_0x199353(0x290);const _0x27b8c7=(_0x432315,_0x489ee0,_0x439e60,_0x38d575,_0x13e346=![])=>{const _0x3deed4=_0x199353;let _0xfae291=!![],_0x23ff27=UI_1UP_BLINK_ON_MS*1.5,_0x47507b=UI_1UP_BLINK_CYCLE_MS*1.5;if(_0x432315===_0x3deed4(0x25d))_0x23ff27=DEMO_TEXT_BLINK_ON_MS*0.7,_0x47507b=DEMO_TEXT_BLINK_CYCLE_MS;else{if(_0x432315==='HIGH\x20SCORE'){_0x23ff27=UI_1UP_BLINK_ON_MS*1.5,_0x47507b=UI_1UP_BLINK_CYCLE_MS*1.5;if(isInGameState&&!isManualControl)_0x23ff27=DEMO_TEXT_BLINK_ON_MS*0.7,_0x47507b=DEMO_TEXT_BLINK_CYCLE_MS;else isInGameState&&isTwoPlayerMode&&currentPlayer===0x2&&(_0x23ff27=UI_1UP_BLINK_ON_MS*1.5,_0x47507b=UI_1UP_BLINK_CYCLE_MS*1.5);}}_0x13e346&&((isPaused||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage||!(_0xbc7243%_0x47507b<_0x23ff27))&&(_0xfae291=![]));_0xfae291&&(gameCtx['fillStyle']=_0x240fe0,gameCtx[_0x3deed4(0x238)]=_0x439e60,gameCtx['fillText'](_0x432315,_0x38d575,MARGIN_TOP));const _0x29ad69=gameCtx[_0x3deed4(0x1e7)](_0x432315)['width'];let _0x1c8042;if(_0x439e60===_0x3deed4(0x1fb))_0x1c8042=_0x38d575+_0x29ad69/0x2;else{if(_0x439e60===_0x3deed4(0x269))_0x1c8042=_0x38d575-_0x29ad69/0x2;else _0x1c8042=_0x38d575;}gameCtx[_0x3deed4(0x1f3)]=_0x5b5db5,gameCtx['textAlign']='center';let _0x29a81e=MARGIN_TOP+SCORE_OFFSET_Y+0x5;_0x432315===_0x3deed4(0x25a)&&(_0x1c8042=_0x38d575),gameCtx[_0x3deed4(0x24f)](_0x489ee0[_0x3deed4(0x26b)](),_0x1c8042,_0x29a81e);};let _0x28c09b,_0x41a8aa,_0x5799fb,_0x4a8dd9,_0x1bd414=![],_0x3918ec=![],_0x564b0b=![];if(isShowingResultsScreen)_0x28c09b=player1Score||0x0,_0x41a8aa=player2Score||0x0,_0x5799fb=highScore||0x4e20,_0x5799fb=Math[_0x199353(0x29f)](_0x5799fb,_0x28c09b,_0x41a8aa),_0x4a8dd9=wasLastGameAIDemo?_0x199353(0x25d):_0x199353(0x213),_0x564b0b=![],_0x1bd414=![],_0x3918ec=![];else{if(gameOverSequenceStartTime>0x0&&!isShowingPlayerGameOverMessage)_0x28c09b=player1Score||0x0,_0x41a8aa=player2Score||0x0,_0x5799fb=highScore||0x4e20,_0x5799fb=Math[_0x199353(0x29f)](_0x5799fb,_0x28c09b,_0x41a8aa),_0x4a8dd9=wasLastGameAIDemo?'DEMO':_0x199353(0x213),_0x564b0b=![],_0x1bd414=![],_0x3918ec=![];else{if(isShowingPlayerGameOverMessage)_0x28c09b=player1Score||0x0,_0x41a8aa=player2Score||0x0,_0x5799fb=highScore||0x4e20,_0x5799fb=Math[_0x199353(0x29f)](_0x5799fb,_0x28c09b,_0x41a8aa),_0x4a8dd9=_0x199353(0x213),_0x564b0b=![],_0x1bd414=![],_0x3918ec=![];else{if(!isInGameState)_0x28c09b=player1Score||0x0,_0x41a8aa=player2Score||0x0,_0x5799fb=highScore||0x4e20,_0x5799fb=Math[_0x199353(0x29f)](_0x5799fb,_0x28c09b,_0x41a8aa),_0x4a8dd9=_0x199353(0x213),_0x564b0b=![],_0x1bd414=![],_0x3918ec=![];else{_0x5799fb=highScore||0x0;if(!isManualControl)_0x28c09b=score,_0x41a8aa=0x0,_0x5799fb=Math[_0x199353(0x29f)](_0x5799fb,score),_0x4a8dd9=_0x199353(0x25d),_0x1bd414=!isShowingIntro&&!isPaused&&!isShipCaptured,_0x564b0b=!isPaused&&!isShowingIntro&&score>0x0&&_0x5799fb>0x0&&score>=_0x5799fb;else isTwoPlayerMode?(_0x28c09b=currentPlayer===0x1?score:player1Score,_0x41a8aa=currentPlayer===0x2?score:player2Score,_0x5799fb=Math['max'](_0x5799fb,player1Score,player2Score,score),_0x4a8dd9=_0x199353(0x213),_0x1bd414=!isShowingIntro&&!isPaused&&currentPlayer===0x1&&playerLives>0x0&&!isShipCaptured,_0x3918ec=!isShowingIntro&&!isPaused&&currentPlayer===0x2&&playerLives>0x0&&!isShipCaptured,_0x564b0b=!isPaused&&!isShowingIntro&&score>0x0&&_0x5799fb>0x0&&score>=_0x5799fb):(_0x28c09b=score,_0x41a8aa=player2Score||0x0,_0x5799fb=Math[_0x199353(0x29f)](_0x5799fb,score),_0x4a8dd9=_0x199353(0x213),_0x1bd414=!isShowingIntro&&!isPaused&&playerLives>0x0&&!isShipCaptured,_0x564b0b=!isPaused&&!isShowingIntro&&score>0x0&&_0x5799fb>0x0&&score>=_0x5799fb);}}}}let _0x2c8e76=![];if(_0x564b0b){if(!isManualControl)_0x2c8e76=_0x1bd414;else isTwoPlayerMode?currentPlayer===0x1?_0x2c8e76=_0x1bd414:_0x2c8e76=_0x3918ec:_0x2c8e76=_0x1bd414;}typeof MARGIN_SIDE!=='undefined'&&typeof MARGIN_TOP!==_0x199353(0x214)&&typeof SCORE_OFFSET_Y!==_0x199353(0x214)&&(_0x27b8c7(_0x4a8dd9,_0x28c09b,_0x199353(0x1fb),MARGIN_SIDE,_0x1bd414),_0x27b8c7('HIGH\x20SCORE',_0x5799fb,_0x199353(0x1f6),gameCanvas['width']/0x2,_0x2c8e76),_0x27b8c7('2UP',_0x41a8aa,'right',gameCanvas['width']-MARGIN_SIDE,_0x3918ec));if(typeof shipImage!==_0x199353(0x214)&&typeof LIFE_ICON_MARGIN_BOTTOM!==_0x199353(0x214)&&typeof LIFE_ICON_SIZE!=='undefined'&&typeof LIFE_ICON_MARGIN_LEFT!==_0x199353(0x214)&&typeof LIFE_ICON_SPACING!=='undefined'){if(shipImage[_0x199353(0x203)]&&shipImage[_0x199353(0x237)]!==0x0){const _0x450acb=gameCanvas[_0x199353(0x24d)]-LIFE_ICON_MARGIN_BOTTOM-LIFE_ICON_SIZE;let _0x85573a=0x0;if(isShowingResultsScreen||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage)_0x85573a=0x2;else{if(!isInGameState||isShowingScoreScreen)_0x85573a=0x2;else isInGameState&&playerLives>0x0?_0x85573a=Math[_0x199353(0x29f)](0x0,playerLives-0x1):_0x85573a=0x0;}const _0x2f13a2=0x5;for(let _0x38f3b6=0x0;_0x38f3b6<Math[_0x199353(0x26a)](_0x85573a,_0x2f13a2);_0x38f3b6++){const _0x5e8142=LIFE_ICON_MARGIN_LEFT+_0x38f3b6*(LIFE_ICON_SIZE+LIFE_ICON_SPACING);gameCtx[_0x199353(0x1e4)](shipImage,Math[_0x199353(0x22a)](_0x5e8142),Math[_0x199353(0x22a)](_0x450acb),LIFE_ICON_SIZE,LIFE_ICON_SIZE);}}}let _0x248d90=0x1;if(gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage)_0x248d90=Math['max'](0x1,player1MaxLevelReached,player2MaxLevelReached);else{if(!isInGameState||isShowingScoreScreen)_0x248d90=0x1;else isInGameState&&(_0x248d90=level);}if(_0x248d90>0x0&&typeof LEVEL_ICON_MARGIN_BOTTOM!=='undefined'&&typeof LEVEL_ICON_SIZE!==_0x199353(0x214)&&typeof LEVEL_ICON_MARGIN_RIGHT!==_0x199353(0x214)&&typeof LEVEL_ICON_SPACING!==_0x199353(0x214)){const _0x59c59e=[{'val':0x32,'img':level50Image},{'val':0x1e,'img':level30Image},{'val':0x14,'img':level20Image},{'val':0xa,'img':level10Image},{'val':0x5,'img':level5Image},{'val':0x1,'img':level1Image}];let _0x409ec2=_0x248d90,_0x75158b=[],_0x43ef0f=new Set();const _0x3b6720=(_0x5995e2,_0x33d5b9,_0x402613)=>{const _0xa800b=_0x199353;let _0x643ede=_0x5995e2,_0x562c20=new Set(_0x402613);for(let _0x530041=_0x33d5b9;_0x530041<_0x59c59e[_0xa800b(0x20c)];_0x530041++){const _0x4f899e=_0x59c59e[_0x530041][_0xa800b(0x293)];if(_0x643ede>=_0x4f899e){const _0x19e83e=_0x562c20[_0xa800b(0x1f8)]<0x3||_0x562c20[_0xa800b(0x253)](_0x4f899e);if(!_0x19e83e)continue;const _0x2d4fca=Math['floor'](_0x643ede/_0x4f899e);_0x643ede-=_0x2d4fca*_0x4f899e,_0x562c20['add'](_0x4f899e);if(_0x643ede===0x0)return!![];}}return _0x643ede===0x0;};for(let _0x5747c0=0x0;_0x5747c0<_0x59c59e[_0x199353(0x20c)]-0x1;_0x5747c0++){const _0x46d67a=_0x59c59e[_0x5747c0],_0x40a625=_0x46d67a[_0x199353(0x293)],_0x51042d=_0x46d67a[_0x199353(0x20d)];if(_0x409ec2>=_0x40a625){const _0x25d0e5=Math['floor'](_0x409ec2/_0x40a625),_0x3f6b38=_0x409ec2-_0x25d0e5*_0x40a625;let _0x2f2b67=new Set(_0x43ef0f);_0x2f2b67['add'](_0x40a625);if(_0x3b6720(_0x3f6b38,_0x5747c0+0x1,_0x2f2b67)){for(let _0x3c5cdf=0x0;_0x3c5cdf<_0x25d0e5;_0x3c5cdf++){_0x75158b[_0x199353(0x27e)](_0x51042d);}_0x409ec2=_0x3f6b38,_0x43ef0f[_0x199353(0x1ee)](_0x40a625);if(_0x409ec2===0x0)break;}}}if(_0x409ec2>0x0){const _0x6fd559=_0x43ef0f[_0x199353(0x1f8)]<0x3||_0x43ef0f[_0x199353(0x253)](0x1);if(_0x6fd559){for(let _0x1d87b5=0x0;_0x1d87b5<_0x409ec2;_0x1d87b5++){_0x75158b[_0x199353(0x27e)](level1Image);}_0x43ef0f[_0x199353(0x1ee)](0x1),_0x409ec2=0x0;}else console[_0x199353(0x25c)]('Could\x20not\x20add\x20'+_0x409ec2+'\x20level\x201\x20icons\x20due\x20to\x203-type\x20limit.\x20Used\x20types:',_0x43ef0f);}_0x75158b['length']===0x0&&_0x75158b['push'](level1Image);const _0x5c032c=_0x75158b[_0x199353(0x20c)],_0x3279b4=_0x5c032c*LEVEL_ICON_SIZE+Math[_0x199353(0x29f)](0x0,_0x5c032c-0x1)*LEVEL_ICON_SPACING,_0x27463c=gameCanvas[_0x199353(0x222)]-LEVEL_ICON_MARGIN_RIGHT,_0x2ed572=_0x27463c-_0x3279b4,_0x259088=gameCanvas[_0x199353(0x24d)]-LEVEL_ICON_MARGIN_BOTTOM-LEVEL_ICON_SIZE;let _0x2d30e0=_0x2ed572;for(const _0x4cc2b8 of _0x75158b){_0x4cc2b8&&_0x4cc2b8[_0x199353(0x203)]&&_0x4cc2b8[_0x199353(0x237)]!==0x0&&gameCtx[_0x199353(0x1e4)](_0x4cc2b8,Math[_0x199353(0x22a)](_0x2d30e0),Math[_0x199353(0x22a)](_0x259088),LEVEL_ICON_SIZE,LEVEL_ICON_SIZE),_0x2d30e0+=LEVEL_ICON_SIZE+LEVEL_ICON_SPACING;}}gameCtx[_0x199353(0x1f2)](),gameCtx[_0x199353(0x243)]();if(ship&&!isShowingCaptureMessage){let _0xed5a6d=!![];if(isInGameState&&!gameOverSequenceStartTime&&!isShowingPlayerGameOverMessage&&isInvincible){const _0x221d30=INVINCIBILITY_BLINK_ON_MS+INVINCIBILITY_BLINK_OFF_MS,_0x4944ae=_0xbc7243%_0x221d30;_0x4944ae>=INVINCIBILITY_BLINK_ON_MS&&(_0xed5a6d=![]);}if(_0xed5a6d){let _0x27694c=ship['x'],_0x14e1ab=(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0||!isInGameState||isShowingScoreScreen||isInGameState&&isShowingIntro&&!isManualControl&&(introStep===0x1||introStep===0x2||introStep===0x3))&&!isDualShipActive;_0x14e1ab&&(_0x27694c=Math[_0x199353(0x22a)](gameCanvas[_0x199353(0x222)]/0x2-ship['width']/0x2));const _0x457af1=gameCanvas[_0x199353(0x24d)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN;typeof shipImage!==_0x199353(0x214)&&shipImage['complete']&&shipImage[_0x199353(0x237)]!==0x0?gameCtx[_0x199353(0x1e4)](shipImage,Math[_0x199353(0x22a)](_0x27694c),Math[_0x199353(0x22a)](_0x457af1),ship[_0x199353(0x222)],ship['height']):(gameCtx['fillStyle']=_0x199353(0x23e),gameCtx['fillRect'](Math[_0x199353(0x22a)](_0x27694c),Math['round'](_0x457af1),ship[_0x199353(0x222)],ship['height']));if(isInGameState&&!gameOverSequenceStartTime&&!isShowingPlayerGameOverMessage&&isDualShipActive&&!isShipCaptured&&typeof shipImage!==_0x199353(0x214)&&shipImage['complete']&&shipImage[_0x199353(0x237)]!==0x0){const _0x3ae50f=_0x27694c+DUAL_SHIP_OFFSET_X;gameCtx[_0x199353(0x1e4)](shipImage,Math[_0x199353(0x22a)](_0x3ae50f),Math[_0x199353(0x22a)](_0x457af1),ship['width'],ship[_0x199353(0x24d)]);}}}fallingShips['length']>0x0&&typeof shipImage!=='undefined'&&shipImage[_0x199353(0x203)]&&fallingShips['forEach'](_0x16a344=>{const _0x246e9c=_0x199353;if(_0x16a344){gameCtx['save']();const _0x3fde4d=_0x16a344['x']+_0x16a344[_0x246e9c(0x222)]/0x2,_0x359e3e=_0x16a344['y']+_0x16a344[_0x246e9c(0x24d)]/0x2;gameCtx[_0x246e9c(0x245)](_0x3fde4d,_0x359e3e),gameCtx[_0x246e9c(0x240)](_0x16a344[_0x246e9c(0x29e)]||0x0);const _0x376606=-_0x16a344[_0x246e9c(0x222)]/0x2,_0x204f94=-_0x16a344['height']/0x2,_0x85f374=_0x16a344['width'],_0x366135=_0x16a344[_0x246e9c(0x24d)];gameCtx[_0x246e9c(0x1e4)](shipImage,_0x376606,_0x204f94,_0x85f374,_0x366135),typeof _0x16a344[_0x246e9c(0x21b)]==='number'&&_0x16a344['tintProgress']>0.01&&(gameCtx[_0x246e9c(0x243)](),gameCtx['globalAlpha']=_0x16a344[_0x246e9c(0x21b)],gameCtx[_0x246e9c(0x1f3)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x246e9c(0x211)]=_0x246e9c(0x1df),gameCtx[_0x246e9c(0x263)](_0x376606,_0x204f94,_0x85f374,_0x366135),gameCtx[_0x246e9c(0x1f2)]()),gameCtx['restore']();}});gameCtx['restore']();if(!isInGameState){if(isShowingScoreScreen){if(typeof LIFE_ICON_SIZE!==_0x199353(0x214)){gameCtx[_0x199353(0x243)]();const _0x300045=gameCanvas['width']/0x2;let _0x2c31d6=gameCanvas['height']*0.25+SCORE_SCREEN_VERTICAL_OFFSET,_0x8a91d4=0x0,_0x5dd787=_0x2c31d6+0x0;drawCanvasText(_0x199353(0x225),_0x300045,_0x5dd787-0x1e,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_TOP,_0x199353(0x1f6),'middle',!![]);let _0xd481c4=_0x5dd787+SCORE_SCREEN_LINE_V_SPACING*1.8;const _0x802f1a=_0x199353(0x286);gameCtx[_0x199353(0x24a)]=SCORE_SCREEN_TEXT_FONT;const _0xacddca=gameCtx[_0x199353(0x1e7)](_0x802f1a)['width'],_0x2c587b=LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING+_0xacddca;_0x8a91d4=_0x300045-_0x2c587b/0x2-0x1e;typeof shipImage!==_0x199353(0x214)&&shipImage[_0x199353(0x203)]&&shipImage['naturalHeight']!==0x0&&gameCtx[_0x199353(0x1e4)](shipImage,Math[_0x199353(0x22a)](_0x8a91d4),Math['round'](_0xd481c4-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x802f1a,_0x8a91d4+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0xd481c4,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,'left',_0x199353(0x287),![]);let _0x10c697=_0xd481c4+SCORE_SCREEN_LINE_V_SPACING*0x1;const _0x52fdb2=_0x199353(0x292)+RECURRING_EXTRA_LIFE_INTERVAL+_0x199353(0x241);typeof shipImage!==_0x199353(0x214)&&shipImage[_0x199353(0x203)]&&shipImage[_0x199353(0x237)]!==0x0&&gameCtx[_0x199353(0x1e4)](shipImage,Math['round'](_0x8a91d4),Math[_0x199353(0x22a)](_0x10c697-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x52fdb2,_0x8a91d4+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x10c697,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,'left','middle',![]);let _0xaf487d=_0x10c697+SCORE_SCREEN_LINE_V_SPACING*0x1;const _0x385687=_0x199353(0x234)+RECURRING_EXTRA_LIFE_INTERVAL+'\x20PTS';typeof shipImage!==_0x199353(0x214)&&shipImage[_0x199353(0x203)]&&shipImage[_0x199353(0x237)]!==0x0&&gameCtx[_0x199353(0x1e4)](shipImage,Math[_0x199353(0x22a)](_0x8a91d4),Math[_0x199353(0x22a)](_0xaf487d-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x385687,_0x8a91d4+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0xaf487d,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,_0x199353(0x1fb),_0x199353(0x287),![]);let _0x46a0f4=_0xaf487d+SCORE_SCREEN_LINE_V_SPACING*1.8;drawCanvasText(_0x199353(0x267),_0x300045-0xa,_0x46a0f4+0x1e,MENU_SUBTITLE_FONT,MENU_SUBTITLE_COLOR,_0x199353(0x1f6),_0x199353(0x287),![]),gameCtx['restore']();}}else{gameCtx['save']();const _0x26c3a1=gameCanvas['width'],_0x125b21=gameCanvas[_0x199353(0x24d)],_0x420d30=_0x26c3a1/0x2;selectedButtonIndex===-0x1&&(selectedButtonIndex=0x0);let _0x4ceca1=MENU_LOGO_APPROX_HEIGHT,_0x5a96da=_0x4ceca1*(logoImage['naturalWidth']/logoImage[_0x199353(0x237)]||0x1);typeof logoImage!=='undefined'&&logoImage[_0x199353(0x203)]&&logoImage[_0x199353(0x237)]!==0x0&&(_0x4ceca1=logoImage[_0x199353(0x237)]*LOGO_SCALE_FACTOR,_0x5a96da=logoImage[_0x199353(0x25b)]*LOGO_SCALE_FACTOR);const _0x1eab99=getSubtitleApproxHeight(MENU_SUBTITLE_FONT),_0x16a494=_0x4ceca1+MENU_LOGO_BOTTOM_TO_START_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_SUBTITLE_V_GAP+_0x1eab99;let _0x55bc24=(_0x125b21-_0x16a494)/0x2-0x46;_0x55bc24+=MENU_GENERAL_Y_OFFSET;const _0xa14650=_0x420d30-_0x5a96da/0x2,_0x444e4f=_0x55bc24+MENU_LOGO_EXTRA_Y_OFFSET;typeof logoImage!==_0x199353(0x214)&&logoImage[_0x199353(0x203)]&&logoImage[_0x199353(0x237)]!==0x0?gameCtx['drawImage'](logoImage,Math[_0x199353(0x22a)](_0xa14650),Math[_0x199353(0x22a)](_0x444e4f),_0x5a96da,_0x4ceca1):drawCanvasText(_0x199353(0x29d),_0x420d30,_0x444e4f+_0x4ceca1/0x2,_0x199353(0x227),'grey');if(isFiringModeSelectMode)drawCanvasButton(_0x199353(0x1e0),0x0,selectedButtonIndex===0x0),drawCanvasButton('NORMAL',0x1,selectedButtonIndex===0x1);else isPlayerSelectMode?(drawCanvasButton(_0x199353(0x271),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x199353(0x22c),0x1,selectedButtonIndex===0x1)):(drawCanvasButton(_0x199353(0x28f),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x199353(0x264),0x1,selectedButtonIndex===0x1));const _0x35331e=getMenuButtonRect(0x1);let _0xe4c1d4;_0x35331e?_0xe4c1d4=_0x35331e['y']+_0x35331e[_0x199353(0x24d)]+MENU_BUTTON_SUBTITLE_V_GAP+_0x1eab99/0x2:_0xe4c1d4=_0x55bc24+_0x4ceca1+MENU_LOGO_BOTTOM_TO_START_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_SUBTITLE_V_GAP+_0x1eab99/0x2,drawCanvasText(MENU_SUBTITLE_TEXT,_0x420d30-0x1,Math[_0x199353(0x22a)](_0xe4c1d4),MENU_SUBTITLE_FONT,MENU_SUBTITLE_COLOR,'center',_0x199353(0x287),!![]),gameCtx['restore']();}}else{if(gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){gameCtx['save']();let _0x584e65=!showReadyMessage&&!showCsHitsMessage&&!showPerfectMessage&&!showCsBonusScoreMessage&&!showCSClearMessage&&!isCsCompletionDelayActive&&!isShowingIntro&&!isShowingCaptureMessage;_0x584e65&&(bullets[_0x199353(0x262)](_0x36f211=>{const _0x26a77a=_0x199353;_0x36f211&&(typeof bulletImage!==_0x26a77a(0x214)&&bulletImage[_0x26a77a(0x203)]?gameCtx[_0x26a77a(0x1e4)](bulletImage,Math[_0x26a77a(0x22a)](_0x36f211['x']),Math['round'](_0x36f211['y']),_0x36f211['width'],_0x36f211[_0x26a77a(0x24d)]):(gameCtx[_0x26a77a(0x1f3)]='yellow',gameCtx[_0x26a77a(0x263)](Math[_0x26a77a(0x22a)](_0x36f211['x']),Math[_0x26a77a(0x22a)](_0x36f211['y']),_0x36f211[_0x26a77a(0x222)],_0x36f211[_0x26a77a(0x24d)])));}),enemyBullets[_0x199353(0x262)](_0x1e9820=>{const _0x43d44e=_0x199353;_0x1e9820&&(typeof enemyBulletImage!=='undefined'&&enemyBulletImage[_0x43d44e(0x203)]&&enemyBulletImage[_0x43d44e(0x25b)]>0x0?gameCtx[_0x43d44e(0x1e4)](enemyBulletImage,Math[_0x43d44e(0x22a)](_0x1e9820['x']),Math['round'](_0x1e9820['y']),_0x1e9820[_0x43d44e(0x222)],_0x1e9820['height']):(gameCtx[_0x43d44e(0x1f3)]=_0x43d44e(0x200),gameCtx['fillRect'](Math['round'](_0x1e9820['x']),Math['round'](_0x1e9820['y']),_0x1e9820[_0x43d44e(0x222)],_0x1e9820['height'])));}));enemies['forEach'](_0x56e582=>{const _0x3f4ce2=_0x199353;if(_0x56e582&&_0x56e582['y']<gameCanvas['height']+_0x56e582['height']*0x2&&_0x56e582['y']>-_0x56e582['height']*0x2){gameCtx['save']();try{let _0x105cef=null,_0x3fa6d7='grey';const _0x3c87d7=!isPaused&&_0xbc7243%(ENEMY_ANIMATION_INTERVAL_MS*0x2)>=ENEMY_ANIMATION_INTERVAL_MS;if(_0x56e582[_0x3f4ce2(0x27c)]===ENEMY3_TYPE)_0x105cef=_0x3c87d7?bossGalagaImage2:bossGalagaImage,_0x3fa6d7=_0x3f4ce2(0x1e6);else _0x56e582['type']===ENEMY2_TYPE?(_0x105cef=_0x3c87d7?butterflyImage2:butterflyImage,_0x3fa6d7='cyan'):(_0x105cef=_0x3c87d7?beeImage2:beeImage,_0x3fa6d7='red');const _0x14266a=Math['round'](_0x56e582['x']),_0x79626b=Math['round'](_0x56e582['y']),_0x7b1197=_0x56e582[_0x3f4ce2(0x222)],_0x3a7c0e=_0x56e582[_0x3f4ce2(0x24d)],_0x505c5f=_0x56e582[_0x3f4ce2(0x27c)]===ENEMY3_TYPE&&_0x56e582[_0x3f4ce2(0x22f)],_0x589800=!isPaused&&(_0x56e582['state']===_0x3f4ce2(0x221)||_0x56e582[_0x3f4ce2(0x1fc)]===_0x3f4ce2(0x288)||_0x56e582['state']==='following_entrance_path')&&_0x56e582['y']>-_0x56e582[_0x3f4ce2(0x24d)]*0.5&&(Math['abs'](_0x56e582['velocityX'])>0.1||Math[_0x3f4ce2(0x23b)](_0x56e582[_0x3f4ce2(0x1f7)])>0.1),_0x4e1ce9=_0x56e582[_0x3f4ce2(0x1fc)]===_0x3f4ce2(0x1ff)&&_0x56e582['type']===ENEMY3_TYPE&&_0x56e582[_0x3f4ce2(0x215)]&&_0x56e582[_0x3f4ce2(0x295)]&&typeof _0x56e582[_0x3f4ce2(0x25e)]===_0x3f4ce2(0x273)&&typeof _0x56e582[_0x3f4ce2(0x22b)]==='number'&&typeof _0x56e582[_0x3f4ce2(0x202)]===_0x3f4ce2(0x273),_0x17e4b9=_0x56e582[_0x3f4ce2(0x1fc)]!=='showing_capture_message'&&_0x56e582[_0x3f4ce2(0x27c)]===ENEMY3_TYPE&&_0x56e582['hasCapturedShip']&&_0x56e582[_0x3f4ce2(0x295)],_0x2e1058=_0x4e1ce9||_0x17e4b9?_0x56e582['capturedShipDimensions'][_0x3f4ce2(0x222)]:0x0,_0x50685f=_0x4e1ce9||_0x17e4b9?_0x56e582['capturedShipDimensions'][_0x3f4ce2(0x24d)]:0x0;let _0x5ac779=0x0,_0x11bc5d=0x0;if(_0x4e1ce9)_0x5ac779=Math[_0x3f4ce2(0x22a)](_0x56e582['capturedShipX']),_0x11bc5d=Math[_0x3f4ce2(0x22a)](_0x56e582[_0x3f4ce2(0x22b)]);else _0x17e4b9&&(_0x5ac779=Math['round'](_0x56e582['x']+CAPTURED_SHIP_OFFSET_X),_0x11bc5d=Math[_0x3f4ce2(0x22a)](_0x56e582['y']+CAPTURED_SHIP_OFFSET_Y));const _0x2b1d5c=(_0x20483d,_0x139b12,_0x5c1cc4,_0x379d32)=>{const _0x1aaa0d=_0x3f4ce2;typeof _0x105cef!==_0x1aaa0d(0x214)&&_0x105cef[_0x1aaa0d(0x203)]&&_0x105cef[_0x1aaa0d(0x237)]!==0x0?gameCtx[_0x1aaa0d(0x1e4)](_0x105cef,_0x20483d,_0x139b12,_0x5c1cc4,_0x379d32):(gameCtx[_0x1aaa0d(0x1f3)]=_0x3fa6d7,gameCtx['fillRect'](_0x20483d,_0x139b12,_0x5c1cc4,_0x379d32)),_0x505c5f&&(gameCtx['globalCompositeOperation']='source-atop',gameCtx[_0x1aaa0d(0x1f3)]='rgba(0,\x200,\x20139,\x200.5)',gameCtx['fillRect'](_0x20483d,_0x139b12,_0x5c1cc4,_0x379d32),gameCtx[_0x1aaa0d(0x211)]=_0x1aaa0d(0x268));};if(_0x589800){const _0x4842df=_0x14266a+_0x7b1197/0x2,_0x37be4b=_0x79626b+_0x3a7c0e/0x2;gameCtx[_0x3f4ce2(0x245)](_0x4842df,_0x37be4b);let _0x5f3cd9=Math[_0x3f4ce2(0x1dc)](_0x56e582[_0x3f4ce2(0x1f7)],_0x56e582[_0x3f4ce2(0x207)])+Math['PI']/0x2;if(_0x56e582[_0x3f4ce2(0x27c)]===ENEMY3_TYPE&&_0x56e582[_0x3f4ce2(0x1fc)]===_0x3f4ce2(0x221))_0x5f3cd9+=Math['PI'];gameCtx[_0x3f4ce2(0x240)](_0x5f3cd9),_0x2b1d5c(-_0x7b1197/0x2,-_0x3a7c0e/0x2,_0x7b1197,_0x3a7c0e);if(_0x17e4b9&&typeof shipImage!==_0x3f4ce2(0x214)&&shipImage[_0x3f4ce2(0x203)]){gameCtx[_0x3f4ce2(0x21e)]=0.8;const _0x70d7d=CAPTURED_SHIP_OFFSET_X,_0x4d9531=CAPTURED_SHIP_OFFSET_Y;gameCtx[_0x3f4ce2(0x1e4)](shipImage,_0x70d7d-_0x2e1058/0x2,_0x4d9531-_0x50685f/0x2,_0x2e1058,_0x50685f),gameCtx[_0x3f4ce2(0x21e)]=0x1,gameCtx[_0x3f4ce2(0x243)](),gameCtx[_0x3f4ce2(0x1f3)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x3f4ce2(0x211)]=_0x3f4ce2(0x1df),gameCtx[_0x3f4ce2(0x263)](_0x70d7d-_0x2e1058/0x2,_0x4d9531-_0x50685f/0x2,_0x2e1058,_0x50685f),gameCtx[_0x3f4ce2(0x1f2)]();}gameCtx[_0x3f4ce2(0x240)](-_0x5f3cd9),gameCtx[_0x3f4ce2(0x245)](-_0x4842df,-_0x37be4b);}else _0x2b1d5c(_0x14266a,_0x79626b,_0x7b1197,_0x3a7c0e),_0x17e4b9&&typeof shipImage!==_0x3f4ce2(0x214)&&shipImage['complete']&&(gameCtx['globalAlpha']=0.8,gameCtx['drawImage'](shipImage,_0x5ac779,_0x11bc5d,_0x2e1058,_0x50685f),gameCtx[_0x3f4ce2(0x21e)]=0x1,gameCtx[_0x3f4ce2(0x243)](),gameCtx['fillStyle']=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x3f4ce2(0x211)]=_0x3f4ce2(0x1df),gameCtx[_0x3f4ce2(0x263)](_0x5ac779,_0x11bc5d,_0x2e1058,_0x50685f),gameCtx[_0x3f4ce2(0x1f2)]());if(_0x4e1ce9&&typeof shipImage!==_0x3f4ce2(0x214)&&shipImage[_0x3f4ce2(0x203)]){gameCtx[_0x3f4ce2(0x243)]();const _0x15fd61=_0x5ac779+_0x2e1058/0x2,_0x448890=_0x11bc5d+_0x50685f/0x2;gameCtx['translate'](_0x15fd61,_0x448890),gameCtx[_0x3f4ce2(0x240)](_0x56e582[_0x3f4ce2(0x202)]),gameCtx[_0x3f4ce2(0x21e)]=0.8,gameCtx[_0x3f4ce2(0x1e4)](shipImage,-_0x2e1058/0x2,-_0x50685f/0x2,_0x2e1058,_0x50685f),gameCtx['globalAlpha']=0x1,gameCtx[_0x3f4ce2(0x243)](),gameCtx[_0x3f4ce2(0x1f3)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x3f4ce2(0x211)]='source-atop',gameCtx[_0x3f4ce2(0x263)](-_0x2e1058/0x2,-_0x50685f/0x2,_0x2e1058,_0x50685f),gameCtx[_0x3f4ce2(0x1f2)](),gameCtx[_0x3f4ce2(0x1f2)]();}}catch(_0x1db2e9){console[_0x3f4ce2(0x1fe)](_0x3f4ce2(0x1de),_0x1db2e9),gameCtx['fillStyle']=_0x3f4ce2(0x23c),gameCtx['fillRect'](Math['round'](_0x56e582['x']),Math[_0x3f4ce2(0x22a)](_0x56e582['y']),_0x56e582[_0x3f4ce2(0x222)],_0x56e582[_0x3f4ce2(0x24d)]);}finally{gameCtx['restore']();}}});if(captureBeamActive&&capturingBossId&&captureBeamProgress>0x0){gameCtx[_0x199353(0x243)]();const _0xd53bcb=0.4+(Math[_0x199353(0x257)](_0xbc7243*CAPTURE_BEAM_PULSE_SPEED)+0x1)/0x2*0.6,_0xcef596=captureBeamProgress;gameCtx['globalAlpha']=_0xcef596*_0xd53bcb;const _0x185b4a=enemies[_0x199353(0x229)](_0x30d065=>_0x30d065['id']===capturingBossId);if(_0x185b4a){const _0xce73c1=_0x185b4a['x']+BOSS_WIDTH/0x2,_0x48da84=_0x185b4a['y']+BOSS_HEIGHT,_0x73a5a4=gameCanvas[_0x199353(0x24d)]-LIFE_ICON_MARGIN_BOTTOM-LIFE_ICON_SIZE-0xa,_0x40a718=BOSS_WIDTH*CAPTURE_BEAM_WIDTH_TOP_FACTOR,_0x48f12c=SHIP_WIDTH*CAPTURE_BEAM_WIDTH_BOTTOM_FACTOR;if(_0x48da84<_0x73a5a4){const _0x2db98b=gameCtx[_0x199353(0x26d)](_0xce73c1,_0x48da84,_0xce73c1,_0x73a5a4);_0x2db98b['addColorStop'](0x0,CAPTURE_BEAM_COLOR_START),_0x2db98b[_0x199353(0x250)](0x1,CAPTURE_BEAM_COLOR_END),gameCtx['fillStyle']=_0x2db98b,gameCtx[_0x199353(0x21a)](),gameCtx[_0x199353(0x299)](_0xce73c1-_0x40a718/0x2,_0x48da84),gameCtx[_0x199353(0x226)](_0xce73c1+_0x40a718/0x2,_0x48da84),gameCtx[_0x199353(0x226)](_0xce73c1+_0x48f12c/0x2,_0x73a5a4),gameCtx['lineTo'](_0xce73c1-_0x48f12c/0x2,_0x73a5a4),gameCtx[_0x199353(0x25f)](),gameCtx[_0x199353(0x206)]();}}gameCtx['restore']();}renderExplosions(),renderFloatingScores(),renderHitSparks();let _0x471b4c=![];const _0x3d4b95=gameCanvas['height']/0x2,_0x316487=gameCanvas['width']/0x2,_0x5cf965=_0x199353(0x212)+challengingStageEnemiesHit,_0x14d442=_0x199353(0x20a)+scoreEarnedThisCS;if(isPaused)drawCanvasText(_0x199353(0x220),_0x316487,_0x3d4b95,PAUSE_TEXT_FONT,PAUSE_TEXT_COLOR,_0x199353(0x1f6),_0x199353(0x287),PAUSE_TEXT_SHADOW),_0x471b4c=!![];else{if(isShowingCaptureMessage)drawCanvasText('FIGHTER\x20CAPTURED',_0x316487,_0x3d4b95-0x28,INTRO_TEXT_FONT,_0x199353(0x272),_0x199353(0x1f6),'middle',!![]),_0x471b4c=!![];else{if(showCsBonusScoreMessage||showPerfectMessage||showCsHitsMessage)drawCanvasText(_0x5cf965,_0x316487,_0x3d4b95,INTRO_TEXT_FONT,CS_HITS_TEXT_COLOR,_0x199353(0x1f6),_0x199353(0x287),!![]),_0x471b4c=!![],(showCsBonusScoreMessage||showPerfectMessage)&&drawCanvasText(_0x199353(0x24c),_0x316487,_0x3d4b95-CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,PERFECT_TEXT_COLOR,_0x199353(0x1f6),'middle',!![]),showCsBonusScoreMessage&&drawCanvasText(_0x199353(0x1f9),_0x316487,_0x3d4b95+CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_BONUS_SCORE_TEXT_COLOR,_0x199353(0x1f6),_0x199353(0x287),!![]);else{if(showCSClearMessage)drawCanvasText('STAGE\x20CLEARED',_0x316487,_0x3d4b95-CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_CLEAR_TEXT_COLOR,_0x199353(0x1f6),_0x199353(0x287),!![]),_0x471b4c=!![],showCsHitsForClearMessage&&drawCanvasText(_0x5cf965,_0x316487,_0x3d4b95,INTRO_TEXT_FONT,CS_HITS_TEXT_COLOR,_0x199353(0x1f6),'middle',!![]),showCsScoreForClearMessage&&drawCanvasText(_0x14d442,_0x316487,_0x3d4b95+CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_CLEAR_SCORE_TEXT_COLOR,_0x199353(0x1f6),'middle',!![]);else{if(showExtraLifeMessage)drawCanvasText(_0x199353(0x22d),_0x316487,_0x3d4b95,INTRO_TEXT_FONT,EXTRA_LIFE_TEXT_COLOR,'center',_0x199353(0x287),!![]),_0x471b4c=!![];else{if(isShowingIntro){let _0x324274='',_0x220a04=INTRO_TEXT_COLOR_NORMAL;if(introStep===0x1)_0x324274=!isManualControl?'DEMO':_0x199353(0x2a0)+(isTwoPlayerMode?currentPlayer:0x1);else{if(introStep===0x2)_0x324274=_0x199353(0x1ed)+level;else introStep===0x3&&(_0x324274=_0x199353(0x26c),_0x220a04=INTRO_TEXT_COLOR_CS_TEXT,!csIntroSoundPlayed&&(playSound(entranceSound),csIntroSoundPlayed=!![]));}_0x324274&&(drawCanvasText(_0x324274,_0x316487,_0x3d4b95,INTRO_TEXT_FONT,_0x220a04,_0x199353(0x1f6),_0x199353(0x287),!![]),_0x471b4c=!![]);}else{if(showReadyMessage)drawCanvasText(_0x199353(0x279),_0x316487,_0x3d4b95,INTRO_TEXT_FONT,READY_TEXT_COLOR,_0x199353(0x1f6),_0x199353(0x287),!![]),_0x471b4c=!![];else{if(!isManualControl&&isShowingDemoText&&!_0x471b4c&&!isEntrancePhaseActive&&!isCsCompletionDelayActive){const _0x47c515=DEMO_TEXT_BLINK_CYCLE_MS*1.5,_0x3b13cf=DEMO_TEXT_BLINK_ON_MS*1.5;_0xbc7243%_0x47c515<_0x3b13cf&&drawCanvasText('PUSH\x20START\x20BUTTON',_0x316487,_0x3d4b95,DEMO_TEXT_LINE1_FONT,DEMO_TEXT_COLOR,_0x199353(0x1f6),_0x199353(0x287),!![]);}}}}}}}}gameCtx[_0x199353(0x1f2)]();}else{if(isShowingPlayerGameOverMessage){const _0x126b2a=_0x199353(0x2a0)+playerWhoIsGameOver,_0x530ae7=RESULTS_LINE_V_SPACING_SINGLE,_0x2a9e02=gameCanvas[_0x199353(0x24d)]*0.45;drawCanvasText(_0x126b2a,gameCanvas[_0x199353(0x222)]/0x2,_0x2a9e02-_0x530ae7/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x199353(0x1f6),_0x199353(0x287),!![]),drawCanvasText(_0x199353(0x291),gameCanvas[_0x199353(0x222)]/0x2,_0x2a9e02+_0x530ae7/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x199353(0x1f6),'middle',!![]);}else{if(gameOverSequenceStartTime>0x0){const _0x385841=_0xbc7243-gameOverSequenceStartTime,_0x38c94d=_0x385841<GAME_OVER_DURATION,_0x4a769a=_0x385841>=GAME_OVER_DURATION;if(_0x38c94d)drawCanvasText(_0x199353(0x291),gameCanvas['width']/0x2,gameCanvas[_0x199353(0x24d)]/0x2,GAME_OVER_FONT,GAME_OVER_COLOR,_0x199353(0x1f6),'middle',GAME_OVER_SHADOW);else{if(_0x4a769a){gameCtx[_0x199353(0x243)]();const _0x29024c=gameCanvas[_0x199353(0x222)]/0x2,_0x5f3ec2=gameCanvas[_0x199353(0x222)];let _0x11b21d=RESULTS_START_Y+RESULTS_LINE_V_SPACING_SINGLE;const _0x567eb6=(_0x4e9bb8,_0xafb380,_0x1af486,_0x1bc0bd,_0x3777ce,_0x3c6a64,_0x18ca57,_0x229a21)=>{const _0x5c4083=_0x199353;let _0x31bd9d=_0x229a21;const _0x39b42e=RESULTS_VALUE_COLOR_YELLOW,_0x596b74=RESULTS_VALUE_COLOR_CYAN;drawCanvasText('-\x20RESULTS\x20-',_0x18ca57,_0x31bd9d,INTRO_TEXT_FONT,RESULTS_HEADER_COLOR,_0x5c4083(0x1f6),_0x5c4083(0x290),!![]),_0x31bd9d+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x4e9bb8,_0x18ca57,_0x31bd9d,INTRO_TEXT_FONT,_0x5c4083(0x200),_0x5c4083(0x1f6),_0x5c4083(0x287),![]),_0x31bd9d+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x5c4083(0x233),_0x18ca57,_0x31bd9d,INTRO_TEXT_FONT,_0x39b42e,'center',_0x5c4083(0x287),![]),_0x31bd9d+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x3c6a64[_0x5c4083(0x26b)](),_0x18ca57,_0x31bd9d,INTRO_TEXT_FONT,_0x596b74,_0x5c4083(0x1f6),_0x5c4083(0x287),![]),_0x31bd9d+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x5c4083(0x23f),_0x18ca57,_0x31bd9d,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x5c4083(0x1f6),'middle',![]),_0x31bd9d+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0xafb380[_0x5c4083(0x26b)](),_0x18ca57,_0x31bd9d,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x5c4083(0x1f6),_0x5c4083(0x287),![]),_0x31bd9d+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText('SHOTS\x20FIRED',_0x18ca57,_0x31bd9d,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x5c4083(0x1f6),'middle',![]),_0x31bd9d+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x1af486[_0x5c4083(0x26b)](),_0x18ca57,_0x31bd9d,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x5c4083(0x1f6),_0x5c4083(0x287),![]),_0x31bd9d+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x5c4083(0x204),_0x18ca57,_0x31bd9d,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x5c4083(0x1f6),_0x5c4083(0x287),![]),_0x31bd9d+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x1bc0bd[_0x5c4083(0x26b)](),_0x18ca57,_0x31bd9d,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,'center','middle',![]),_0x31bd9d+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x5c4083(0x281),_0x18ca57,_0x31bd9d,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,'center','middle',![]),_0x31bd9d+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x3777ce,_0x18ca57,_0x31bd9d,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x5c4083(0x1f6),_0x5c4083(0x287),![]),_0x31bd9d+=RESULTS_LINE_V_SPACING_SINGLE*1.5-0xa,drawCanvasText(_0x5c4083(0x259),_0x18ca57,_0x31bd9d,RESULTS_FOOTER_FONT,RESULTS_FOOTER_COLOR,_0x5c4083(0x1f6),_0x5c4083(0x287),![]);};if(isTwoPlayerMode){const _0x4ffa4=player1ShotsFired||0x0,_0x3c22ba=player1EnemiesHit||0x0,_0x543211=_0x4ffa4>0x0?Math[_0x199353(0x22a)](_0x3c22ba/_0x4ffa4*0x64)+'%':'0%',_0x533789=player2ShotsFired||0x0,_0x212745=player2EnemiesHit||0x0,_0x131e03=_0x533789>0x0?Math['round'](_0x212745/_0x533789*0x64)+'%':'0%',_0x1da74e=_0x5f3ec2*0.4,_0x120135=_0x5f3ec2*0.1,_0x392981=_0x29024c-_0x120135/0x2-_0x1da74e/0x2+_0x1da74e*0.1,_0x185e0d=_0x29024c+_0x120135/0x2+_0x1da74e/0x2-_0x1da74e*0.1,_0x4ca0c9='PLAYER\x201';_0x567eb6(_0x4ca0c9,player1Score,_0x4ffa4,_0x3c22ba,_0x543211,player1MaxLevelReached,_0x392981,_0x11b21d),_0x567eb6(_0x199353(0x239),player2Score,_0x533789,_0x212745,_0x131e03,player2MaxLevelReached,_0x185e0d,_0x11b21d);let _0x137b74=0x0;if(player1Score>player2Score)_0x137b74=0x1;else{if(player2Score>player1Score)_0x137b74=0x2;}if(_0x137b74>0x0){let _0x5732f3=_0x11b21d;_0x5732f3+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,_0x5732f3+=RESULTS_LINE_V_SPACING_SINGLE;let _0x97089e=_0x11b21d;_0x97089e+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,_0x97089e+=RESULTS_LINE_V_SPACING_SINGLE;const _0x531fd6=_0x199353(0x2a0)+_0x137b74,_0xd8ef93=_0x199353(0x210);drawCanvasText(_0x531fd6,_0x29024c,_0x97089e,INTRO_TEXT_FONT,_0x199353(0x200),_0x199353(0x1f6),_0x199353(0x287),!![]),drawCanvasText(_0xd8ef93,_0x29024c,_0x97089e+RESULTS_LINE_V_SPACING_SINGLE,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x199353(0x1f6),_0x199353(0x287),!![]);}}else{const _0x45e298=player1ShotsFired||0x0,_0x410b9e=player1EnemiesHit||0x0,_0x1fe463=wasLastGameAIDemo?score:player1Score,_0x14a9e8=wasLastGameAIDemo?level:player1MaxLevelReached,_0x5da1e2=_0x45e298>0x0?Math[_0x199353(0x22a)](_0x410b9e/_0x45e298*0x64)+'%':'0%',_0x58fafe=wasLastGameAIDemo?_0x199353(0x25d):_0x199353(0x20f);_0x567eb6(_0x58fafe,_0x1fe463,_0x45e298,_0x410b9e,_0x5da1e2,_0x14a9e8,_0x29024c,_0x11b21d);}gameCtx[_0x199353(0x1f2)]();}}}}}}}catch(_0x594b96){console[_0x199353(0x1fe)]('Error\x20in\x20renderGame:',_0x594b96,_0x594b96[_0x199353(0x27b)]);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;try{gameCtx&&gameCanvas&&(gameCtx[_0x199353(0x1f3)]=_0x199353(0x272),gameCtx[_0x199353(0x24a)]='20px\x20sans-serif',gameCtx[_0x199353(0x238)]=_0x199353(0x1f6),gameCtx[_0x199353(0x24f)](_0x199353(0x297),gameCanvas[_0x199353(0x222)]/0x2,gameCanvas[_0x199353(0x24d)]/0x2));}catch(_0x5a5810){}try{showMenuState();}catch(_0x43f966){}}}function hideCursor(){const _0x49bc6f=_0x27cf93;gameCanvas&&(gameCanvas['style'][_0x49bc6f(0x258)]=_0x49bc6f(0x274)),mouseIdleTimerId=null;}function handleCanvasMouseMove(_0x40f5d7){const _0x154074=_0x27cf93;if(!gameCanvas)return;clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;let _0x3b2cb8=_0x154074(0x1db);const _0x5ded72=!isInGameState||isShowingScoreScreen||gameOverSequenceStartTime>0x0&&Date[_0x154074(0x255)]()-gameOverSequenceStartTime>=GAME_OVER_DURATION;let _0x242e92=![],_0x14d6e5=selectedButtonIndex;if(_0x5ded72){const _0x5aad9c=gameCanvas[_0x154074(0x20b)](),_0x5abad9=gameCanvas['width']/_0x5aad9c['width'],_0x14a985=gameCanvas[_0x154074(0x24d)]/_0x5aad9c[_0x154074(0x24d)],_0x2c6c4d=(_0x40f5d7[_0x154074(0x27a)]-_0x5aad9c[_0x154074(0x1fb)])*_0x5abad9,_0x529f85=(_0x40f5d7['clientY']-_0x5aad9c[_0x154074(0x290)])*_0x14a985,_0x244f03=getMenuButtonRect(0x0),_0x3fad8e=getMenuButtonRect(0x1);if(_0x244f03&&checkCollision({'x':_0x2c6c4d,'y':_0x529f85,'width':0x1,'height':0x1},_0x244f03))_0x14d6e5=0x0,_0x242e92=!![];else _0x3fad8e&&checkCollision({'x':_0x2c6c4d,'y':_0x529f85,'width':0x1,'height':0x1},_0x3fad8e)?(_0x14d6e5=0x1,_0x242e92=!![]):(_0x14d6e5=-0x1,_0x242e92=![]);_0x14d6e5!==selectedButtonIndex&&(selectedButtonIndex=_0x14d6e5,_0x242e92&&stopAutoDemoTimer()),_0x3b2cb8=_0x242e92?'pointer':_0x154074(0x1db);}else _0x3b2cb8=_0x154074(0x1db),selectedButtonIndex=-0x1;gameCanvas[_0x154074(0x265)]['cursor']=_0x3b2cb8,mouseIdleTimerId=setTimeout(hideCursor,0x7d0);if(!isInGameState){const _0x2b0f8a=Date['now']();if(_0x2b0f8a-lastMouseMoveResetTime>0x1f4){if(typeof startAutoDemoTimer===_0x154074(0x284))startAutoDemoTimer();lastMouseMoveResetTime=_0x2b0f8a;}}}function mainLoop(_0x5aca3b){const _0xfcea04=_0x27cf93;try{drawStars();retroGridCtx&&retroGridCanvas&&drawRetroGrid();pollControllerForMenu();if(isInGameState&&!isPaused){if(!isManualControl&&connectedGamepadIndex!==null){const _0x584309=navigator['getGamepads']();if(_0x584309?.[connectedGamepadIndex]){const _0x46fe64=_0x584309[connectedGamepadIndex],_0x3d16d8=_0x46fe64[_0xfcea04(0x1f4)][_0xfcea04(0x249)](_0x56a709=>_0x56a709[_0xfcea04(0x242)]);let _0x3b6cc0=![];for(let _0xc8e3d9=0x0;_0xc8e3d9<_0x3d16d8[_0xfcea04(0x20c)];_0xc8e3d9++){if(_0xc8e3d9===PS5_BUTTON_R1||_0xc8e3d9===PS5_BUTTON_TRIANGLE)continue;if(_0x3d16d8[_0xc8e3d9]&&!(previousDemoButtonStates[_0xc8e3d9]??![])){_0x3b6cc0=!![];break;}}if(_0x3b6cc0){const _0x576dde=_0x3d16d8[_0xfcea04(0x236)]();showMenuState(),requestAnimationFrame(mainLoop);return;}previousDemoButtonStates=_0x3d16d8['slice']();}else{if(previousDemoButtonStates[_0xfcea04(0x20c)]>0x0)previousDemoButtonStates=[];}}else{if(previousDemoButtonStates[_0xfcea04(0x20c)]>0x0)previousDemoButtonStates=[];}if(typeof runSingleGameUpdate===_0xfcea04(0x284))runSingleGameUpdate(_0x5aca3b);else{console[_0xfcea04(0x1fe)](_0xfcea04(0x251));if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,showMenuState(),requestAnimationFrame(mainLoop);return;}if(gameOverSequenceStartTime>0x0){const _0x40a28d=Date['now'](),_0x226f11=_0x40a28d-gameOverSequenceStartTime,_0xd55527=GAME_OVER_DURATION+RESULTS_SCREEN_DURATION;if(_0x226f11>=_0xd55527){showMenuState(),requestAnimationFrame(mainLoop);return;}}}else{if(isShowingScoreScreen){const _0x1560e7=Date[_0xfcea04(0x255)]()-scoreScreenStartTime;if(_0x1560e7>=SCORE_SCREEN_DURATION){startAIDemo(),requestAnimationFrame(mainLoop);return;}if(typeof renderGame===_0xfcea04(0x284))renderGame();}else{if(isInGameState&&gameOverSequenceStartTime>0x0){if(typeof renderGame===_0xfcea04(0x284))renderGame();const _0x2c2030=Date[_0xfcea04(0x255)](),_0x49884c=_0x2c2030-gameOverSequenceStartTime,_0x219881=GAME_OVER_DURATION+RESULTS_SCREEN_DURATION;if(_0x49884c>=_0x219881){showMenuState(),requestAnimationFrame(mainLoop);return;}}else{if(isInGameState&&isPaused){if(typeof renderGame==='function')renderGame();}else{if(isInGameState&&isCsCompletionDelayActive){if(typeof runSingleGameUpdate===_0xfcea04(0x284))runSingleGameUpdate(_0x5aca3b);else{if(typeof renderGame===_0xfcea04(0x284))renderGame();}}else{if(isInGameState&&isShowingPlayerGameOverMessage){if(typeof runSingleGameUpdate===_0xfcea04(0x284))runSingleGameUpdate(_0x5aca3b);else{if(typeof renderGame==='function')renderGame();}}else{if(typeof renderGame===_0xfcea04(0x284))renderGame();}}}}}}mainLoopId=requestAnimationFrame(mainLoop);}catch(_0xae361f){console[_0xfcea04(0x1fe)](_0xfcea04(0x23a),_0xae361f,_0xae361f[_0xfcea04(0x27b)]);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,isPaused=![];const _0xb74a7c=[gridBackgroundSound,entranceSound,butterflyDiveSound,startSound,coinSound,bossGalagaDiveSound,enemyShootSound,levelUpSound,gameOverSound,playerShootSound,extraLifeSound,csPerfectSound,csClearSound,explosionSound,waveUpSound,menuMusicSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound];_0xb74a7c[_0xfcea04(0x262)](_0x23d155=>stopSound(_0x23d155)),isGridSoundPlaying=![];try{showMenuState();}catch(_0x319744){console['error'](_0xfcea04(0x1eb),_0x319744),document[_0xfcea04(0x217)][_0xfcea04(0x230)]=_0xfcea04(0x1dd);}}}function startMainLoop(){mainLoopId===null?(gridOffsetY=0x0,mainLoop()):console['warn']('Main\x20loop\x20already\x20running.');}function initializeGame(){const _0xf2f037=_0x27cf93;try{if(typeof initializeDOMElements===_0xf2f037(0x284)){if(!initializeDOMElements()){console['error']('DOM\x20element\x20initialization\x20failed.');return;}}else{console[_0xf2f037(0x1fe)](_0xf2f037(0x256));return;}if(typeof loadHighScore==='function')loadHighScore();else console['warn']('loadHighScore\x20function\x20not\x20found.');if(typeof defineNormalWaveEntrancePaths==='function')defineNormalWaveEntrancePaths();else console[_0xf2f037(0x1fe)](_0xf2f037(0x228));if(typeof defineChallengingStagePaths===_0xf2f037(0x284))defineChallengingStagePaths();else console[_0xf2f037(0x1fe)](_0xf2f037(0x247));window[_0xf2f037(0x26e)](_0xf2f037(0x285),handleKeyDown),window[_0xf2f037(0x26e)](_0xf2f037(0x289),handleKeyUp);gameCanvas?(gameCanvas[_0xf2f037(0x26e)]('click',handleCanvasClick),gameCanvas[_0xf2f037(0x26e)](_0xf2f037(0x1fd),handleCanvasMouseMove)):console[_0xf2f037(0x1fe)](_0xf2f037(0x280));window[_0xf2f037(0x26e)](_0xf2f037(0x232),handleGamepadConnected),window[_0xf2f037(0x26e)](_0xf2f037(0x205),handleGamepadDisconnected),window[_0xf2f037(0x26e)](_0xf2f037(0x278),resizeCanvases),showMenuState();if(typeof resizeCanvases==='function')resizeCanvases();else console[_0xf2f037(0x1fe)]('resizeCanvases\x20not\x20found!');startMainLoop();}catch(_0x2922f6){console[_0xf2f037(0x1fe)](_0xf2f037(0x29c),_0x2922f6,_0x2922f6[_0xf2f037(0x27b)]),document[_0xf2f037(0x217)][_0xf2f037(0x230)]='<div\x20style=\x22color:white;\x20padding:\x2020px;\x20font-family:\x20sans-serif;\x22><h1>Fatal\x20Initialization\x20Error</h1><p>The\x20game\x20could\x20not\x20be\x20started.\x20Please\x20check\x20the\x20browser\x20console\x20(F12)\x20for\x20details.</p><p>Error:\x20'+_0x2922f6[_0xf2f037(0x1e3)]+_0xf2f037(0x29b),mainLoopId&&(cancelAnimationFrame(mainLoopId),mainLoopId=null);}}function _0x1b10(){const _0x40e56f=['Written\x20By\x20Platini2000(c)','gamepadconnected','STAGE','\x20EXT\x20LIFE\x20FOR\x20EVERY\x20','textBaseline','slice','naturalHeight','textAlign','PLAYER\x202','!!!\x20CRITICAL\x20ERROR\x20IN\x20mainLoop:','abs','orange','Error\x20in\x20showMenuState:','blue','SCORE','rotate','\x20PTS','pressed','save','color','translate','arc','defineChallengingStagePaths\x20not\x20found!','targetX','map','font','2649519PEqrmE','PERFECT\x20!','height','Cannot\x20reset\x20ship\x20position\x20in\x20showMenuState\x20-\x20canvas/ship\x20not\x20ready.','fillText','addColorStop','FATAL:\x20runSingleGameUpdate\x20is\x20not\x20defined!','bold\x2018px\x20\x27Press\x20Start\x202P\x27','has','Error\x20rendering\x20floating\x20scores:','now','initializeDOMElements\x20function\x20not\x20found!','sin','cursor','Platini2000(c)\x20LTD','HIGH\x20SCORE','naturalWidth','warn','DEMO','capturedShipX','closePath','lighter','particles','forEach','fillRect','GAME\x20EXIT','style','padStart','2025\x20\x20\x20PLATINI2000(c)\x20\x20\x20LTD','source-over','right','min','toString','CHALLENGING\x20STAGE','createLinearGradient','addEventListener','Error\x20in\x20baseStartGame:','match','1\x20PLAYER','red','number','none','Critical\x20error\x20starting\x20game!','isArray','Error\x20creating\x20explosion:','resize','READY?','clientX','stack','type','alpha','push','Error\x20starting\x20auto\x20demo\x20timer:','Cannot\x20add\x20canvas\x20listeners:\x20gameCanvas\x20not\x20found\x20during\x20init.','HIT-MISS-RATIO','sqrt','shadowBlur','function','keydown','\x201ST\x20LIFE\x20BONUS\x20FOR\x2020000\x20PTS','middle','following_bezier_path','keyup','1246XPcdEd','3260640ecNSla','single','9354QkcdTZ','Error\x20stopping\x20auto\x20demo\x20timer:','START\x20GAME','top','GAME\x20OVER','\x202ND\x20LIFE\x20BONUS\x20FOR\x20','val','20px\x20\x27Press\x20Start\x202P\x27','capturedShipDimensions','shadowOffsetY','FATAL\x20RENDER\x20ERROR.','floor','moveTo','<p\x20style=\x22color:white;\x22>Error\x20returning\x20to\x20menu.\x20Please\x20refresh.</p>','</p></div>','FATAL\x20INITIALIZATION\x20ERROR:','LOGO','rotation','max','PLAYER\x20','default','atan2','<p\x20style=\x22color:white;\x22>CRITICAL\x20LOOP\x20ERROR.\x20Please\x20refresh.</p>','Error\x20drawing\x20enemy:','source-atop','EASY','Error\x20in\x20pollControllerForMenu:','toFixed','message','drawImage','2808136KDmtqe','purple','measureText','random','load','FATAL:\x20resetGame\x20function\x20is\x20not\x20defined!\x20Cannot\x20start\x20game\x20properly.','Failed\x20to\x20return\x20to\x20menu\x20after\x20loop\x20error:','22px\x20\x27Arial\x20Black\x27,\x20Gadget,\x20sans-serif','STAGE\x20','add','1454164GGCtzW','3693lhCQxR','rapid','restore','fillStyle','buttons','text','center','velocityY','size','SPECIAL\x20BONUS\x2010000\x20PTS','shadowOffsetX','left','state','mousemove','error','showing_capture_message','white','Critical\x20error:\x20Game\x20logic\x20not\x20loaded\x20correctly!','captureAnimationRotation','complete','NUMBER\x20OF\x20HITS','gamepaddisconnected','fill','velocityX','rgba(0,\x20191,\x20255,\x200.9)','window.close()\x20failed:','BONUS\x20','getBoundingClientRect','length','img','00:00','PLAYER\x201','WINS','globalCompositeOperation','NUMBER\x20OF\x20HITS\x20','1UP','undefined','hasCapturedShip','516hSCjzH','body','yellow','111161aegpOE','beginPath','tintProgress','close','11kXiMPq','globalAlpha','shadowColor','PAUSED','attacking','width','getGamepads','radius','PUSH\x20START\x20BUTTON','lineTo','30px\x20Arial','defineNormalWaveEntrancePaths\x20not\x20found!','find','round','capturedShipY','2\x20PLAYER','EXTRA\x20LIFE','5wCtUTQ','isDamaged','innerHTML'];_0x1b10=function(){return _0x40e56f;};return _0x1b10();}window[_0x27cf93(0x26e)](_0x27cf93(0x1e9),initializeGame);