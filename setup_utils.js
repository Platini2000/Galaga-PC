const _0x291e01=_0x1801;(function(_0x1df45e,_0x239f51){const _0x3ab92b=_0x1801,_0x40f4a2=_0x1df45e();while(!![]){try{const _0xf2f17d=-parseInt(_0x3ab92b(0x1d2))/0x1*(parseInt(_0x3ab92b(0x1eb))/0x2)+-parseInt(_0x3ab92b(0x205))/0x3+-parseInt(_0x3ab92b(0x19e))/0x4+parseInt(_0x3ab92b(0x1a8))/0x5+parseInt(_0x3ab92b(0x17b))/0x6+parseInt(_0x3ab92b(0x1c1))/0x7*(-parseInt(_0x3ab92b(0x169))/0x8)+parseInt(_0x3ab92b(0x17a))/0x9*(parseInt(_0x3ab92b(0x216))/0xa);if(_0xf2f17d===_0x239f51)break;else _0x40f4a2['push'](_0x40f4a2['shift']());}catch(_0x252f0a){_0x40f4a2['push'](_0x40f4a2['shift']());}}}(_0x4ec9,0xeeb9b));const ENEMY1_TYPE='enemy1',ENEMY2_TYPE=_0x291e01(0x1e8),ENEMY3_TYPE=_0x291e01(0x1ae),ENEMY_WIDTH=0x28,ENEMY_HEIGHT=0x28,ENEMY1_SCALE_FACTOR=1.33,ENEMY1_WIDTH=Math[_0x291e01(0x1d4)](ENEMY_WIDTH*ENEMY1_SCALE_FACTOR),ENEMY1_HEIGHT=Math[_0x291e01(0x1d4)](ENEMY_HEIGHT*ENEMY1_SCALE_FACTOR),BOSS_SCALE_FACTOR=1.5,BOSS_WIDTH=Math[_0x291e01(0x1d4)](ENEMY_WIDTH*BOSS_SCALE_FACTOR),BOSS_HEIGHT=Math[_0x291e01(0x1d4)](ENEMY_HEIGHT*BOSS_SCALE_FACTOR),SHIP_WIDTH=0x32,SHIP_HEIGHT=0x32,SHIP_BOTTOM_MARGIN=0x1e,SHIP_MOVE_SPEED=0xa,CHALLENGING_STAGE_ENEMY_COUNT=0x28,CHALLENGING_STAGE_SQUADRON_SIZE=0x5,CHALLENGING_STAGE_SQUADRON_COUNT=CHALLENGING_STAGE_ENEMY_COUNT/CHALLENGING_STAGE_SQUADRON_SIZE,BASE_CS_SPEED_MULTIPLIER=4.2,MAX_CS_SPEED_MULTIPLIER=0x5,CS_HORIZONTAL_FLYBY_SPEED_FACTOR=0.35,CS_ENEMY_SPAWN_DELAY_IN_SQUADRON=0x50,CS_HORIZONTAL_FLYBY_SPAWN_DELAY=-0x19,CS_LOOP_ATTACK_SPAWN_DELAY=0x23,CHALLENGING_STAGE_SQUADRON_INTERVAL=0xbb8,PATH_T_OFFSET_PER_ENEMY=0.05,ENEMY2_MAX_HITS=0x1,ENEMY3_MAX_HITS=0x2,LEVEL_CAP_FOR_SCALING=0x32,BASE_GRID_FIRE_INTERVAL=0xaf0,MIN_GRID_FIRE_INTERVAL=0x2bc,BASE_GRID_FIRE_PROBABILITY=0.04,MAX_GRID_FIRE_PROBABILITY=0.18,BASE_GRID_MAX_FIRING_ENEMIES=0x7,MAX_GRID_MAX_FIRING_ENEMIES=0x10,BASE_RETURN_SPEED_FACTOR=1.5,MAX_RETURN_SPEED_FACTOR=2.5;let starrySkyCanvas,starryCtx,retroGridCanvas,retroGridCtx,gameCanvas,gameCtx,stars=[],gridOffsetY=0x0,isInGameState=![],isShowingScoreScreen=![],scoreScreenStartTime=0x0,highScore=0x4e20,playerLives=0x3,score=0x0,level=0x1,isTwoPlayerMode=![],currentPlayer=0x1,player1Lives=0x3,player2Lives=0x3,player1Score=0x0,player2Score=0x0,player1CompletedLevel=-0x1,player1MaxLevelReached=0x1,player2MaxLevelReached=0x1,isFiringModeSelectMode=![],selectedFiringMode='rapid',p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![],scoreEarnedThisCS=0x0,player1LifeThresholdsMet=new Set(),player2LifeThresholdsMet=new Set(),isManualControl=![],isShowingDemoText=![],autoStartTimerId=null,gameJustStarted=![],mainLoopId=null,isPlayerSelectMode=![],isShowingIntro=![],introStep=0x0,introDisplayStartTime=0x0,lastMouseMoveResetTime=0x0,isChallengingStage=![],isFullGridWave=![],isWaveTransitioning=![],showCsHitsMessage=![],csHitsMessageStartTime=0x0,showExtraLifeMessage=![],extraLifeMessageStartTime=0x0,showPerfectMessage=![],perfectMessageStartTime=0x0,showCSClearMessage=![],csClearMessageStartTime=0x0,showCsHitsForClearMessage=![];showCsScoreForClearMessage=![];let showReadyMessage=![],readyMessageStartTime=0x0,showCsBonusScoreMessage=![],csBonusScoreMessageStartTime=0x0,readyForNextWave=![],readyForNextWaveReset=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![],playerIntroSoundPlayed=![],stageIntroSoundPlayed=![],isShowingPlayerGameOverMessage=![],playerGameOverMessageStartTime=0x0,playerWhoIsGameOver=0x0,nextActionAfterPlayerGameOver='',forceCenterShipNextReset=![],isShipCaptured=![],capturingBossId=null,captureBeamActive=![],captureBeamSource={'x':0x0,'y':0x0},captureBeamTargetY=0x0,captureBeamProgress=0x0,captureAttemptMadeThisLevel=![],isWaitingForRespawn=![],respawnTime=0x0,isInvincible=![],invincibilityEndTime=0x0,fallingShips=[],isDualShipActive=![],player1IsDualShipActive=![],player2IsDualShipActive=![],isShowingCaptureMessage=![],captureMessageStartTime=0x0,capturedBossIdWithMessage=null,enemies=[],normalWaveEntrancePaths={},challengingStagePaths={},currentWaveDefinition=null,isEntrancePhaseActive=![],enemySpawnTimeouts=[],totalEnemiesScheduledForWave=0x0,enemiesSpawnedThisWave=0x0,lastEnemyDetachTime=0x0,gridMoveDirection=0x1,gridMoveSpeed=0.3,lastGridFireCheckTime=0x0,firstEnemyLanded=![],currentGridOffsetX=0x0,challengingStageEnemiesHit=0x0,challengingStageTotalEnemies=CHALLENGING_STAGE_ENEMY_COUNT,isGridBreathingActive=![];gridBreathStartTime=0x0,currentGridBreathFactor=0x0;let ship={'x':0x0,'y':0x0,'width':SHIP_WIDTH,'height':SHIP_HEIGHT,'speed':SHIP_MOVE_SPEED,'targetX':0x0},leftPressed=![],rightPressed=![],shootPressed=![],p2LeftPressed=![];p2RightPressed=![],p2ShootPressed=![];let keyboardP1LeftDown=![];keyboardP1RightDown=![],keyboardP1ShootDown=![];let keyboardP2LeftDown=![];keyboardP2RightDown=![],keyboardP2ShootDown=![];let bullets=[],enemyBullets=[],explosions=[],hitSparks=[],playerLastShotTime=0x0,aiLastShotTime=0x0,aiCanShootTime=0x0,connectedGamepadIndex=null,connectedGamepadIndexP2=null,previousButtonStates=[],previousDemoButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[],selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],isGridSoundPlaying=![],gridJustCompleted=![],player1ShotsFired=0x0,player2ShotsFired=0x0,player1EnemiesHit=0x0,player2EnemiesHit=0x0,isShowingResultsScreen=![],gameOverSequenceStartTime=0x0,gameStartTime=0x0,visualOffsetX=-0x14,floatingScores=[],csCurrentChainHits=0x0,csCurrentChainScore=0x0;csLastHitTime=0x0,csLastChainHitPosition=null;let normalWaveCurrentChainHits=0x0;normalWaveCurrentChainScore=0x0,normalWaveLastHitTime=0x0,normalWaveLastChainHitPosition=null;let squadronCompletionStatus={},squadronEntranceFiringStatus={},isPaused=![],mouseIdleTimerId=null,wasLastGameAIDemo=![],player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![];const shipImage=new Image(),beeImage=new Image(),butterflyImage=new Image(),bossGalagaImage=new Image(),bulletImage=new Image(),enemyBulletImage=new Image(),logoImage=new Image();shipImage['src']=_0x291e01(0x1f4),beeImage[_0x291e01(0x218)]='Afbeeldingen/bee.png',bulletImage['src']=_0x291e01(0x1fd),bossGalagaImage[_0x291e01(0x218)]=_0x291e01(0x1dc),butterflyImage[_0x291e01(0x218)]=_0x291e01(0x17d),logoImage[_0x291e01(0x218)]=_0x291e01(0x1c4),enemyBulletImage[_0x291e01(0x218)]='Afbeeldingen/bullet-enemy.png';const beeImage2=new Image(),butterflyImage2=new Image(),bossGalagaImage2=new Image();beeImage2[_0x291e01(0x218)]=_0x291e01(0x1a3),butterflyImage2[_0x291e01(0x218)]=_0x291e01(0x215),bossGalagaImage2['src']='Afbeeldingen/bossGalaga-2.png';const level1Image=new Image(),level5Image=new Image(),level10Image=new Image(),level20Image=new Image(),level30Image=new Image(),level50Image=new Image();level1Image['src']='Afbeeldingen/Level-1.png',level5Image[_0x291e01(0x218)]=_0x291e01(0x183),level10Image[_0x291e01(0x218)]=_0x291e01(0x195),level20Image[_0x291e01(0x218)]=_0x291e01(0x1c6),level30Image[_0x291e01(0x218)]='Afbeeldingen/Level-30.png',level50Image[_0x291e01(0x218)]=_0x291e01(0x1ef);const captureSound=new Audio(_0x291e01(0x229)),shipCapturedSound=new Audio('Geluiden/Capture-ship.mp3'),dualShipSound=new Audio(_0x291e01(0x189)),playerShootSound=new Audio(_0x291e01(0x1d9)),explosionSound=new Audio(_0x291e01(0x18b)),gameOverSound=new Audio(_0x291e01(0x1c3)),lostLifeSound=new Audio(_0x291e01(0x1ee)),entranceSound=new Audio(_0x291e01(0x1f6)),bossGalagaDiveSound=new Audio(_0x291e01(0x1aa)),levelUpSound=new Audio('Geluiden/LevelUp.mp3'),enemyShootSound=new Audio('Geluiden/Fire-enemy.mp3'),butterflyDiveSound=new Audio(_0x291e01(0x1d3)),startSound=new Audio(_0x291e01(0x1e0)),coinSound=new Audio(_0x291e01(0x189)),beeHitSound=new Audio('Geluiden/Bees-hit.mp3'),butterflyHitSound=new Audio(_0x291e01(0x226)),bossHit1Sound=new Audio('Geluiden/Boss-hit1.mp3'),bossHit2Sound=new Audio('Geluiden/Boss-hit2.mp3'),gridBackgroundSound=new Audio('Geluiden/Achtergrond-grid.mp3'),extraLifeSound=new Audio('Geluiden/Extra-Leven.mp3'),csPerfectSound=new Audio(_0x291e01(0x1a1)),csClearSound=new Audio(_0x291e01(0x207)),waveUpSound=new Audio('Geluiden/Waveup.mp3'),menuMusicSound=new Audio(_0x291e01(0x200)),readySound=new Audio(_0x291e01(0x17f)),resultsMusicSound=new Audio('Geluiden/results-music.mp3'),hiScoreSound=new Audio('Geluiden/hi-score.mp3');let tripleAttackSound;const BASE_ENEMY_BULLET_SPEED=0x9,MAX_ENEMY_BULLET_SPEED=0x9,BASE_ENEMY_ATTACK_SPEED=5.5,MAX_ENEMY_ATTACK_SPEED=0x8,BASE_MAX_ATTACKING_ENEMIES=0xa,MAX_MAX_ATTACKING_ENEMIES=0x16,BASE_GRID_MOVE_SPEED=0.3,MAX_GRID_MOVE_SPEED=0.7,BASE_GRID_BREATH_CYCLE_MS=0x7d0,MIN_GRID_BREATH_CYCLE_MS=0x3e8,BASE_ENEMY_BULLET_BURST_COUNT=0x1,MAX_ENEMY_BULLET_BURST_COUNT=0x5,BASE_ENEMY_AIM_FACTOR=0.75,MAX_ENEMY_AIM_FACTOR=0.95,BASE_BEE_GROUP_ATTACK_PROBABILITY=0.05,MAX_BEE_GROUP_ATTACK_PROBABILITY=0.4,BASE_BEE_TRIPLE_ATTACK_PROBABILITY=0.1,MAX_BEE_TRIPLE_ATTACK_PROBABILITY=0.5,PLAYER_BULLET_WIDTH=0x5,PLAYER_BULLET_HEIGHT=0xf,PLAYER_BULLET_SPEED=0xe,DUAL_SHIP_BULLET_OFFSET_X=SHIP_WIDTH*0.5,ENEMY_BULLET_WIDTH=0x4,ENEMY_BULLET_HEIGHT=0xc,NUM_STARS=0x1f4,MAX_STAR_RADIUS=1.5,MIN_STAR_RADIUS=0.5,TWINKLE_SPEED=0.015,BASE_PARALLAX_SPEED=0.3,PARALLAX_SPEED_FACTOR=0x2,STAR_FADE_START_FACTOR_ABOVE_HORIZON=0.25,GRID_RGB_PART=_0x291e01(0x203),GRID_BASE_ALPHA=0.8,GRID_MIN_ALPHA=0.3,GRID_FIXED_LINES_ALPHA=0.5,GRID_LINE_COLOR_FIXED=_0x291e01(0x214)+GRID_RGB_PART+',\x20'+GRID_FIXED_LINES_ALPHA+')',GRID_LINE_WIDTH=0x2,GRID_SPEED=0.4,GRID_HORIZON_Y_FACTOR=0.74,GRID_BASE_SPACING=0xf,GRID_SPACING_POWER=0x2,GRID_HORIZONTAL_LINE_WIDTH_FACTOR=1.5,GRID_NUM_PERSPECTIVE_LINES=0xe,GRID_HORIZON_SPREAD_FACTOR=1.2,GRID_BOTTOM_SPREAD_FACTOR=0x2,GRID_PERSPECTIVE_POWER=0x1,MENU_INACTIVITY_TIMEOUT=0x4e20,SCORE_SCREEN_DURATION=0x4e20,ENTRANCE_SPEED=0x6,BASE_RETURN_SPEED=ENTRANCE_SPEED,NORMAL_ENTRANCE_PATH_SPEED=0.013934592,BOSS_LOOP_ENTRANCE_PATH_SPEED=0.055738368,ENEMY_SPAWN_DELAY_IN_SQUADRON=0x64,ENTRANCE_PAIR_HORIZONTAL_GAP=0x5,ENTRANCE_PAIR_PATH_T_OFFSET=0x0,NORMAL_WAVE_SQUADRON_INTERVAL=0x708,ENTRANCE_FIRE_BURST_DELAY_MS=0x50,CS_ENTRANCE_PATH_SPEED=0.0032,CS_COMPLETION_MESSAGE_DELAY=0x3e8,ENEMY_ANIMATION_INTERVAL_MS=0xfa,AXIS_DEAD_ZONE_MENU=0.3,AXIS_DEAD_ZONE_GAMEPLAY=0.15,PS5_BUTTON_CROSS=0x0,PS5_BUTTON_CIRCLE=0x1,PS5_BUTTON_TRIANGLE=0x3,PS5_BUTTON_R1=0x5,PS5_DPAD_UP=0xc,PS5_DPAD_DOWN=0xd,PS5_DPAD_LEFT=0xe,PS5_DPAD_RIGHT=0xf,PS5_LEFT_STICK_X=0x0,PS5_LEFT_STICK_Y=0x1,SHOOT_COOLDOWN=0x8c,CS_MULTI_BULLET_COUNT=0x2,CS_MULTI_BULLET_SPREAD_ANGLE_DEG=0x8,GRID_ROWS=0x5,GRID_COLS=0xa,ENEMY_V_SPACING=0x14,ENEMY_H_SPACING_FIXED=0x1e,ENEMY_TOP_MARGIN=0x75,GRID_HORIZONTAL_MARGIN_PERCENT=0.18,GRID_BREATH_ENABLED=!![],GRID_BREATH_MAX_EXTRA_H_SPACING_FACTOR=0.5,GRID_BREATH_MAX_EXTRA_V_SPACING_FACTOR=0.3,ENEMY1_DIVE_SPEED_FACTOR=0.65,ENEMY2_DIVE_SPEED_FACTOR=0.75,ENEMY3_ATTACK_SPEED_FACTOR=0.8,BOSS_CAPTURE_DIVE_SPEED_FACTOR=0.85,GROUP_DETACH_DELAY_MS=0x50,GROUP_FIRE_BURST_DELAY=0x258,SOLO_BUTTERFLY_FIRE_DELAY=0x258,BOSS_CAPTURE_DIVE_PROBABILITY=0.15,CAPTURE_DIVE_SIDE_MARGIN_FACTOR=0.15,CAPTURE_DIVE_BOTTOM_HOVER_Y_FACTOR=0.7,CAPTURE_BEAM_DURATION_MS=0x1388,CAPTURE_BEAM_ANIMATION_DURATION_MS=0x1f4,CAPTURE_BEAM_WIDTH_TOP_FACTOR=0.7,CAPTURE_BEAM_WIDTH_BOTTOM_FACTOR=1.8,CAPTURE_BEAM_COLOR_START=_0x291e01(0x1c5),CAPTURE_BEAM_COLOR_END=_0x291e01(0x19c),CAPTURE_BEAM_PULSE_SPEED=0.004,CAPTURED_SHIP_SCALE=0x1,CAPTURED_SHIP_OFFSET_X=(BOSS_WIDTH-SHIP_WIDTH)/0x2,CAPTURED_SHIP_OFFSET_Y=-SHIP_HEIGHT*0.5,CAPTURE_MESSAGE_DURATION=0xbb8,CAPTURED_SHIP_TINT_COLOR=_0x291e01(0x20d),CAPTURED_SHIP_FIRE_COOLDOWN_MS=0x1f4,RESPAWN_DELAY_MS=0x7d0,INVINCIBILITY_DURATION_MS=0x7d0,INVINCIBILITY_BLINK_ON_MS=0x64,INVINCIBILITY_BLINK_OFF_MS=0x32,FALLING_SHIP_SPEED=3.5,FALLING_SHIP_FADE_DURATION_MS=0x5dc,FALLING_SHIP_ROTATION_DURATION_MS=0x5dc,DUAL_SHIP_DOCK_TIME_MS=0x3e8,DUAL_SHIP_OFFSET_X=SHIP_WIDTH,AUTO_DOCK_THRESHOLD=0x14,FLOATING_SCORE_DURATION=0x1f4,FLOATING_SCORE_APPEAR_DELAY=-0x32,FLOATING_SCORE_FONT=_0x291e01(0x1b6),FLOATING_SCORE_OPACITY=0.5,FLOATING_SCORE_COLOR_GRID=_0x291e01(0x211),FLOATING_SCORE_COLOR_ACTIVE=_0x291e01(0x1b4),FLOATING_SCORE_COLOR_CS_CHAIN='cyan',CS_CHAIN_SCORE_THRESHOLD=0x4,CS_CHAIN_BREAK_TIME_MS=0x1f4,NORMAL_WAVE_CHAIN_BONUS_ENABLED=![],NORMAL_WAVE_CHAIN_SCORE_THRESHOLD=0x4,NORMAL_WAVE_CHAIN_BREAK_TIME_MS=0x2ee,EXPLOSION_DURATION=0x28a,EXPLOSION_PARTICLE_COUNT=0x19,EXPLOSION_MAX_SPEED=5.5,EXPLOSION_MIN_SPEED=1.5,EXPLOSION_PARTICLE_RADIUS=0x4,EXPLOSION_FADE_SPEED=2.8,EXPLOSION_MAX_OPACITY=0.8,HIT_SPARK_COUNT=0x8,HIT_SPARK_LIFETIME=0x5dc,HIT_SPARK_SPEED=4.5,HIT_SPARK_SIZE=2.5,HIT_SPARK_COLOR=_0x291e01(0x1b9),HIT_SPARK_GRAVITY=0.05,HIT_SPARK_FADE_SPEED=0x1/HIT_SPARK_LIFETIME,UI_TEXT_MARGIN_TOP=0x23,UI_1UP_BLINK_ON_MS=0x258,UI_1UP_BLINK_OFF_MS=0x190,UI_1UP_BLINK_CYCLE_MS=UI_1UP_BLINK_ON_MS+UI_1UP_BLINK_OFF_MS,AI_SHOOT_COOLDOWN=0x8c,AI_STABILIZATION_DURATION=0x1f4,AI_POSITION_MOVE_SPEED_FACTOR=1.2,AI_COLLISION_LOOKAHEAD=SHIP_HEIGHT*3.5,AI_COLLISION_BUFFER=SHIP_WIDTH*0.6,FINAL_DODGE_LOOKAHEAD=AI_COLLISION_LOOKAHEAD*4.5,FINAL_DODGE_BUFFER_BASE=AI_COLLISION_BUFFER*3.5,ENTRANCE_BULLET_DODGE_LOOKAHEAD=FINAL_DODGE_LOOKAHEAD*1.8,ENTRANCE_BULLET_DODGE_BUFFER=FINAL_DODGE_BUFFER_BASE*2.2,FINAL_AI_DODGE_MOVE_SPEED_FACTOR=3.8,AI_SHOOT_ALIGNMENT_THRESHOLD=0.15,AI_SHOT_CLEARANCE_BUFFER=PLAYER_BULLET_WIDTH*1.5,MAX_PREDICTION_TIME_CS=0.7,NORMAL_MOVE_FRACTION=0.08,CS_AI_MOVE_FRACTION=0.16,AI_SMOOTHING_FACTOR_MOVE=0.1,CS_MOVE_SPEED_FACTOR=1.8,NORMAL_WAVE_ATTACKING_DODGE_BUFFER_MULTIPLIER=1.2,NORMAL_WAVE_ATTACKING_DODGE_SPEED_MULTIPLIER=1.1,STABILIZE_MOVE_FRACTION=0.05,ENTRANCE_DODGE_MOVE_FRACTION=0.15,AI_MOVEMENT_DEADZONE=0.1,AI_SMOOTHING_FACTOR=0.1,AI_EDGE_BUFFER=SHIP_WIDTH*0.5,AI_ANTI_CORNER_BUFFER=AI_EDGE_BUFFER*2.5,BEE_DODGE_BUFFER_HORIZONTAL_FACTOR=1.5,FINAL_SHOOT_ALIGNMENT_THRESHOLD=0x2,GRID_SHOOT_ALIGNMENT_FACTOR=1.5,ENTRANCE_SHOOT_ALIGNMENT_FACTOR=1.2,ENTRANCE_AI_DODGE_MOVE_SPEED_FACTOR=0x4,AI_WIGGLE_AMPLITUDE=SHIP_WIDTH*0.15,AI_WIGGLE_PERIOD=0xbb8,AI_EDGE_SHOOT_BUFFER_FACTOR=0x2,AI_EDGE_SHOOT_TARGET_THRESHOLD_FACTOR=0.75,ENTRANCE_SHOOT_BULLET_CHECK_LOOKAHEAD=SHIP_HEIGHT*1.5,ENTRANCE_SHOOT_BULLET_CHECK_BUFFER=SHIP_WIDTH*0.8,MAX_PREDICTION_TIME=0.8,LOCAL_CS_POSITION_MIN_X=0x0,LOCAL_CS_POSITION_MAX_X=0x0,CS_SHOOTING_MOVE_FRACTION=0.25,CS_SHOOTING_MOVE_SPEED_FACTOR=0x2,CS_PREDICTION_FACTOR=0x1,AI_CAPTURE_WAIT_DURATION_MS=0x7d0,INTRO_DURATION_PER_STEP=0xfa0,TWO_PLAYER_STAGE_INTRO_DURATION=0xbb8,READY_MESSAGE_DURATION=0xbb8,CS_HITS_MESSAGE_DURATION=0x3e8,CS_PERFECT_MESSAGE_DURATION=0x3e8,CS_BONUS_MESSAGE_DURATION=0xbb8,CS_CLEAR_DELAY=0x1f40,CS_CLEAR_HITS_DELAY=0x3e8,CS_CLEAR_SCORE_DELAY=0x7d0,EXTRA_LIFE_MESSAGE_DURATION=0xbb8,RECURRING_EXTRA_LIFE_INTERVAL=0x11170,POST_MESSAGE_RESET_DELAY=0x3e8,EXTRA_LIFE_THRESHOLD_1=0x4e20,EXTRA_LIFE_THRESHOLD_2=0x11170,GAME_OVER_DURATION=0x1388,waveEntrancePatterns=[[{'pathId':'new_path_left','enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x4,'entrancePathId':_0x291e01(0x1bd)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x5,'entrancePathId':_0x291e01(0x1bd)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x4,'entrancePathId':_0x291e01(0x1bd)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x5,'entrancePathId':_0x291e01(0x1bd)}]},{'pathId':_0x291e01(0x16b),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x4,'entrancePathId':_0x291e01(0x16b)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x5,'entrancePathId':_0x291e01(0x16b)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x4,'entrancePathId':_0x291e01(0x16b)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x5,'entrancePathId':_0x291e01(0x16b)}]},{'pathId':_0x291e01(0x180),'enemies':[{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x4,'entrancePathId':'boss_loop_left','hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x5,'entrancePathId':_0x291e01(0x180),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x3,'entrancePathId':'boss_loop_left'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x6,'entrancePathId':'boss_loop_left'},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x3,'entrancePathId':_0x291e01(0x180),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x6,'entrancePathId':_0x291e01(0x180),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x3,'entrancePathId':_0x291e01(0x180)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x6,'entrancePathId':'boss_loop_left'}]},{'pathId':'boss_loop_right','enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x1,'entrancePathId':_0x291e01(0x188)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x2,'entrancePathId':_0x291e01(0x188)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x7,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x8,'entrancePathId':_0x291e01(0x188)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x1,'entrancePathId':_0x291e01(0x188)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x2,'entrancePathId':_0x291e01(0x188)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x7,'entrancePathId':_0x291e01(0x188)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x8,'entrancePathId':_0x291e01(0x188)}]},{'pathId':_0x291e01(0x22a),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x6,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x7,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x8,'entrancePathId':_0x291e01(0x22a)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x9,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x6,'entrancePathId':_0x291e01(0x22a)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x7,'entrancePathId':_0x291e01(0x22a)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x8,'entrancePathId':_0x291e01(0x22a)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x9,'entrancePathId':_0x291e01(0x22a)}]},{'pathId':'mid_curve_right','enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x0,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x1,'entrancePathId':_0x291e01(0x1b3)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x2,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x3,'entrancePathId':_0x291e01(0x1b3)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x0,'entrancePathId':_0x291e01(0x1b3)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x1,'entrancePathId':_0x291e01(0x1b3)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x2,'entrancePathId':_0x291e01(0x1b3)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x3,'entrancePathId':'mid_curve_right'}]}],[{'pathId':_0x291e01(0x1bd),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x4,'entrancePathId':'new_path_left'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x5,'entrancePathId':_0x291e01(0x1bd)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x4,'entrancePathId':_0x291e01(0x1bd)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x5,'entrancePathId':_0x291e01(0x1bd)}]},{'pathId':_0x291e01(0x16b),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x4,'entrancePathId':_0x291e01(0x16b)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x5,'entrancePathId':_0x291e01(0x16b)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x4,'entrancePathId':_0x291e01(0x16b)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x5,'entrancePathId':'new_path_right'}]},{'pathId':_0x291e01(0x180),'enemies':[{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x4,'entrancePathId':'boss_loop_left','hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x5,'entrancePathId':'boss_loop_left','hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x3,'entrancePathId':'boss_loop_left'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x6,'entrancePathId':_0x291e01(0x180)},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x3,'entrancePathId':_0x291e01(0x180),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x6,'entrancePathId':_0x291e01(0x180),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x3,'entrancePathId':_0x291e01(0x180)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x6,'entrancePathId':_0x291e01(0x180)}]},{'pathId':_0x291e01(0x188),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x1,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x2,'entrancePathId':_0x291e01(0x188)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x7,'entrancePathId':_0x291e01(0x188)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x8,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x1,'entrancePathId':_0x291e01(0x188)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x2,'entrancePathId':_0x291e01(0x188)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x7,'entrancePathId':_0x291e01(0x188)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x8,'entrancePathId':'boss_loop_right'}]},{'pathId':_0x291e01(0x22a),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x6,'entrancePathId':_0x291e01(0x22a)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x7,'entrancePathId':_0x291e01(0x22a)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x8,'entrancePathId':_0x291e01(0x22a)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x9,'entrancePathId':_0x291e01(0x22a)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x6,'entrancePathId':_0x291e01(0x22a)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x7,'entrancePathId':_0x291e01(0x22a)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x8,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x9,'entrancePathId':_0x291e01(0x22a)}]},{'pathId':_0x291e01(0x1b3),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x0,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x1,'entrancePathId':_0x291e01(0x1b3)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x2,'entrancePathId':_0x291e01(0x1b3)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x3,'entrancePathId':_0x291e01(0x1b3)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x0,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x1,'entrancePathId':_0x291e01(0x1b3)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x2,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x3,'entrancePathId':_0x291e01(0x1b3)}]}]],MARGIN_TOP=0x5,MARGIN_SIDE=0x69,SCORE_OFFSET_Y=0x19,LIFE_ICON_SIZE=0x23,LIFE_ICON_SPACING=0x8,LIFE_ICON_MARGIN_BOTTOM=0x5,LIFE_ICON_MARGIN_LEFT=MARGIN_SIDE-0x1e,LEVEL_ICON_SIZE=0x23,LEVEL_ICON_MARGIN_BOTTOM=LIFE_ICON_MARGIN_BOTTOM,LEVEL_ICON_MARGIN_RIGHT=MARGIN_SIDE-0x1e,LEVEL_ICON_SPACING=LIFE_ICON_SPACING;function initializeDOMElements(){const _0x51c034=_0x291e01;starrySkyCanvas=document[_0x51c034(0x19f)](_0x51c034(0x17e)),starryCtx=starrySkyCanvas?.['getContext']('2d'),retroGridCanvas=document[_0x51c034(0x19f)](_0x51c034(0x1e9)),retroGridCtx=retroGridCanvas?.[_0x51c034(0x1ec)]('2d'),gameCanvas=document[_0x51c034(0x19f)](_0x51c034(0x19b)),gameCtx=gameCanvas?.[_0x51c034(0x1ec)]('2d');if(!starryCtx||!retroGridCtx||!gameCtx)return console[_0x51c034(0x196)]('FATAL:\x20Could\x20not\x20initialize\x20one\x20or\x20more\x20canvas\x20contexts!'),alert(_0x51c034(0x193)),document[_0x51c034(0x1a4)][_0x51c034(0x1e4)]=_0x51c034(0x217),![];floatingScores=[],csCurrentChainHits=0x0,csCurrentChainScore=0x0,csLastHitTime=0x0,csLastChainHitPosition=null,normalWaveCurrentChainHits=0x0,normalWaveCurrentChainScore=0x0,normalWaveLastHitTime=0x0,normalWaveLastChainHitPosition=null;try{tripleAttackSound=new Audio('Geluiden/Triple.mp3');if(playerShootSound)playerShootSound['volume']=0.4;if(explosionSound)explosionSound[_0x51c034(0x171)]=0.4;if(gameOverSound)gameOverSound[_0x51c034(0x171)]=0.4;if(lostLifeSound)lostLifeSound[_0x51c034(0x171)]=0.6;if(entranceSound)entranceSound[_0x51c034(0x171)]=0.4;if(bossGalagaDiveSound)bossGalagaDiveSound[_0x51c034(0x171)]=0.2;if(levelUpSound)levelUpSound[_0x51c034(0x171)]=0.2;if(enemyShootSound)enemyShootSound[_0x51c034(0x171)]=0.4;if(butterflyDiveSound)butterflyDiveSound[_0x51c034(0x171)]=0.2;if(startSound)startSound[_0x51c034(0x171)]=0.4;if(coinSound)coinSound[_0x51c034(0x171)]=0.4;if(beeHitSound)beeHitSound[_0x51c034(0x171)]=0.3;if(butterflyHitSound)butterflyHitSound['volume']=0.3;if(bossHit1Sound)bossHit1Sound[_0x51c034(0x171)]=0.6;if(bossHit2Sound)bossHit2Sound['volume']=0.4;gridBackgroundSound&&(gridBackgroundSound[_0x51c034(0x171)]=0.1,gridBackgroundSound['loop']=!![]);if(extraLifeSound)extraLifeSound[_0x51c034(0x171)]=0.5;if(csPerfectSound)csPerfectSound[_0x51c034(0x171)]=0.6;if(csClearSound)csClearSound['volume']=0.6;if(waveUpSound)waveUpSound['volume']=0.8;menuMusicSound&&(menuMusicSound[_0x51c034(0x171)]=0.2,menuMusicSound['loop']=!![]);if(readySound)readySound[_0x51c034(0x171)]=0.1;if(tripleAttackSound)tripleAttackSound[_0x51c034(0x171)]=0.3;if(captureSound)captureSound['volume']=0.6;if(shipCapturedSound)shipCapturedSound[_0x51c034(0x171)]=0.3;if(dualShipSound)dualShipSound[_0x51c034(0x171)]=0.4;if(resultsMusicSound)resultsMusicSound[_0x51c034(0x171)]=0.2;if(hiScoreSound)hiScoreSound[_0x51c034(0x171)]=0.2;}catch(_0x523645){console['error']('Error\x20setting\x20sound\x20properties:',_0x523645);}const _0x1c4a6e=[playerShootSound,explosionSound,gameOverSound,lostLifeSound,entranceSound,bossGalagaDiveSound,levelUpSound,enemyShootSound,butterflyDiveSound,startSound,coinSound,beeHitSound,butterflyHitSound,bossHit1Sound,bossHit2Sound,gridBackgroundSound,extraLifeSound,csPerfectSound,csClearSound,waveUpSound,menuMusicSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound,resultsMusicSound,hiScoreSound],_0x4bd12b=[shipImage,beeImage,bulletImage,bossGalagaImage,butterflyImage,logoImage,level1Image,level5Image,level10Image,level20Image,level30Image,level50Image,beeImage2,butterflyImage2,bossGalagaImage2];return _0x1c4a6e[_0x51c034(0x19a)](_0x19ab18=>{const _0x3e22a2=_0x51c034;if(_0x19ab18)_0x19ab18[_0x3e22a2(0x194)]=()=>console[_0x3e22a2(0x196)](_0x3e22a2(0x17c)+_0x19ab18[_0x3e22a2(0x218)]);}),_0x4bd12b[_0x51c034(0x19a)](_0x379914=>{const _0x5d6435=_0x51c034;if(_0x379914)_0x379914['onerror']=()=>console[_0x5d6435(0x196)]('Error\x20loading\x20image:\x20'+_0x379914[_0x5d6435(0x218)]);}),!![];}function scaleValue(_0x4ada07,_0x2390e6,_0x231f02){const _0x45eb87=_0x291e01,_0x1068a9=Math[_0x45eb87(0x181)](0x1,Math['min'](_0x4ada07,LEVEL_CAP_FOR_SCALING));if(_0x1068a9===0x1)return _0x2390e6;const _0x53b371=(_0x1068a9-0x1)/(LEVEL_CAP_FOR_SCALING-0x1);return _0x2390e6+(_0x231f02-_0x2390e6)*_0x53b371;}function setupInitialEventListeners(){const _0x532b02=_0x291e01;try{window[_0x532b02(0x227)]('gamepadconnected',handleGamepadConnected),window['addEventListener'](_0x532b02(0x197),handleGamepadDisconnected),window[_0x532b02(0x227)](_0x532b02(0x222),resizeCanvases);}catch(_0x19b10c){console[_0x532b02(0x196)]('Error\x20setting\x20up\x20initial\x20event\x20listeners:',_0x19b10c);}}function getCurrentGridSlotPosition(_0x1f8cbf,_0x575f4b,_0x5032df){const _0x32987e=_0x291e01;if(!gameCanvas||gameCanvas[_0x32987e(0x16c)]===0x0||_0x1f8cbf<0x0||_0x575f4b<0x0)return{'x':gameCanvas?.[_0x32987e(0x16c)]/0x2||0xc8,'y':ENEMY_TOP_MARGIN||0x64};const _0x15fa1c=ENEMY_WIDTH;let _0x87d133=ENEMY_H_SPACING_FIXED,_0x28e91d=ENEMY_V_SPACING;if(GRID_BREATH_ENABLED&&isGridBreathingActive){const _0x607bc5=ENEMY_H_SPACING_FIXED*GRID_BREATH_MAX_EXTRA_H_SPACING_FACTOR*currentGridBreathFactor;_0x87d133=ENEMY_H_SPACING_FIXED+_0x607bc5;const _0x34c2b6=ENEMY_V_SPACING*GRID_BREATH_MAX_EXTRA_V_SPACING_FACTOR*currentGridBreathFactor;_0x28e91d=ENEMY_V_SPACING+_0x34c2b6;}const _0xfbe1eb=GRID_COLS*_0x15fa1c+(GRID_COLS-0x1)*_0x87d133,_0xb4a141=Math[_0x32987e(0x1d4)]((gameCanvas[_0x32987e(0x16c)]-_0xfbe1eb)/0x2),_0x26f0be=_0xb4a141+currentGridOffsetX,_0x46227c=_0x26f0be+_0x575f4b*(_0x15fa1c+_0x87d133),_0x4cb84b=(_0x15fa1c-_0x5032df)/0x2,_0x110644=Math[_0x32987e(0x1d4)](_0x46227c+_0x4cb84b),_0x39f840=Math[_0x32987e(0x1d4)](ENEMY_TOP_MARGIN+_0x1f8cbf*(ENEMY_HEIGHT+_0x28e91d));return{'x':_0x110644,'y':_0x39f840};}function playSound(_0x3c46f5){const _0x3a6cbe=_0x291e01;try{if(isPaused&&_0x3c46f5!==menuMusicSound)return;if(_0x3c46f5?.[_0x3a6cbe(0x20f)]){if(_0x3c46f5[_0x3a6cbe(0x1f9)]&&!_0x3c46f5[_0x3a6cbe(0x206)]&&_0x3c46f5[_0x3a6cbe(0x198)]>0x0&&!_0x3c46f5[_0x3a6cbe(0x1ac)])return;_0x3c46f5['currentTime']=0x0;const _0x4b2d23=_0x3c46f5['play']();_0x4b2d23!==undefined&&_0x4b2d23['catch'](_0x2afb34=>{const _0x461dc2=_0x3a6cbe;_0x2afb34['name']!==_0x461dc2(0x1b5)&&_0x2afb34['name']!==_0x461dc2(0x170)&&console['warn'](_0x461dc2(0x1f3)+_0x3c46f5[_0x461dc2(0x218)]+':\x20'+_0x2afb34[_0x461dc2(0x213)]);});}}catch(_0x5d09a2){console[_0x3a6cbe(0x196)](_0x3a6cbe(0x225),_0x5d09a2);}}function stopSound(_0x12c9ac){const _0x55fe14=_0x291e01;try{if(_0x12c9ac&&!_0x12c9ac[_0x55fe14(0x206)])_0x12c9ac[_0x55fe14(0x18e)](),_0x12c9ac['currentTime']=0x0;else _0x12c9ac&&(_0x12c9ac[_0x55fe14(0x198)]=0x0);}catch(_0x21ab28){console[_0x55fe14(0x196)](_0x55fe14(0x21d),_0x21ab28);}}function checkCollision(_0x4cc2b8,_0x539e26){const _0x586c74=_0x291e01;if(!_0x4cc2b8||!_0x539e26)return![];return _0x4cc2b8['x']<_0x539e26['x']+_0x539e26['width']&&_0x4cc2b8['x']+_0x4cc2b8[_0x586c74(0x16c)]>_0x539e26['x']&&_0x4cc2b8['y']<_0x539e26['y']+_0x539e26[_0x586c74(0x1cb)]&&_0x4cc2b8['y']+_0x4cc2b8['height']>_0x539e26['y'];}function triggerFullscreen(){const _0x5e7f5f=_0x291e01;if(!document[_0x5e7f5f(0x223)]){const _0x406158=document[_0x5e7f5f(0x204)];if(_0x406158[_0x5e7f5f(0x184)])_0x406158[_0x5e7f5f(0x184)]()[_0x5e7f5f(0x1ba)](_0x254989=>console[_0x5e7f5f(0x196)](_0x5e7f5f(0x18c)+_0x254989[_0x5e7f5f(0x213)]));else{if(_0x406158['mozRequestFullScreen'])_0x406158[_0x5e7f5f(0x1c2)]()[_0x5e7f5f(0x1ba)](_0x5e4c43=>console[_0x5e7f5f(0x196)](_0x5e7f5f(0x1ab)+_0x5e4c43[_0x5e7f5f(0x213)]));else{if(_0x406158[_0x5e7f5f(0x1af)])_0x406158['webkitRequestFullscreen']()[_0x5e7f5f(0x1ba)](_0x5e4566=>console[_0x5e7f5f(0x196)](_0x5e7f5f(0x1f1)+_0x5e4566[_0x5e7f5f(0x213)]));else _0x406158[_0x5e7f5f(0x1ce)]&&_0x406158['msRequestFullscreen']()['catch'](_0xc57254=>console[_0x5e7f5f(0x196)](_0x5e7f5f(0x1c9)+_0xc57254[_0x5e7f5f(0x213)]));}}}}function createStar(){const _0x429922=_0x291e01;if(!starrySkyCanvas||starrySkyCanvas['width']===0x0)return null;return{'x':Math[_0x429922(0x1b1)]()*starrySkyCanvas[_0x429922(0x16c)],'y':Math[_0x429922(0x1b1)]()*starrySkyCanvas[_0x429922(0x1cb)],'radius':Math[_0x429922(0x1b1)]()*(MAX_STAR_RADIUS-MIN_STAR_RADIUS)+MIN_STAR_RADIUS,'alpha':Math['random']()*0.8+0.2,'alphaChange':(Math[_0x429922(0x1b1)]()>0.5?0x1:-0x1)*TWINKLE_SPEED*(Math[_0x429922(0x1b1)]()*0.5+0.5)};}function createStars(){const _0x30fce1=_0x291e01;stars=[];if(starrySkyCanvas?.['width']>0x0&&starrySkyCanvas?.[_0x30fce1(0x1cb)]>0x0)for(let _0x472892=0x0;_0x472892<NUM_STARS;_0x472892++){const _0x132abd=createStar();if(_0x132abd)stars['push'](_0x132abd);}}function drawStars(){const _0x1b190c=_0x291e01;try{if(!starryCtx||!starrySkyCanvas||starrySkyCanvas[_0x1b190c(0x16c)]===0x0||starrySkyCanvas[_0x1b190c(0x1cb)]===0x0)return;const _0x5c40a9=starrySkyCanvas[_0x1b190c(0x16c)],_0x375e93=starrySkyCanvas['height'];starryCtx['clearRect'](0x0,0x0,_0x5c40a9,_0x375e93);const _0x2547e0=Math['round'](_0x375e93*GRID_HORIZON_Y_FACTOR),_0xe301d6=_0x375e93-_0x2547e0,_0x118b22=Math['max'](0x0,_0x2547e0-_0xe301d6*STAR_FADE_START_FACTOR_ABOVE_HORIZON),_0x44e771=_0x2547e0,_0x3c6bc1=Math[_0x1b190c(0x181)](0x1,_0x44e771-_0x118b22);stars[_0x1b190c(0x19a)](_0x329bc4=>{const _0x4d5afe=_0x1b190c,_0x2b6acd=(_0x329bc4['radius']-MIN_STAR_RADIUS)/(MAX_STAR_RADIUS-MIN_STAR_RADIUS),_0x447972=BASE_PARALLAX_SPEED+_0x2b6acd*PARALLAX_SPEED_FACTOR;!isPaused&&(_0x329bc4['y']+=_0x447972);_0x329bc4['y']>_0x375e93+_0x329bc4[_0x4d5afe(0x1be)]&&(_0x329bc4['y']=-_0x329bc4[_0x4d5afe(0x1be)]*0x2,_0x329bc4['x']=Math[_0x4d5afe(0x1b1)]()*_0x5c40a9);!isPaused&&(_0x329bc4[_0x4d5afe(0x1e7)]+=_0x329bc4['alphaChange'],(_0x329bc4['alpha']<=0.1||_0x329bc4[_0x4d5afe(0x1e7)]>=0x1)&&(_0x329bc4['alphaChange']*=-0x1,_0x329bc4[_0x4d5afe(0x1e7)]=Math['max'](0.1,Math['min'](0x1,_0x329bc4[_0x4d5afe(0x1e7)]))));let _0x3ff09c=_0x329bc4[_0x4d5afe(0x1e7)];_0x118b22>=0x0&&_0x329bc4['y']>_0x118b22&&(_0x329bc4['y']>=_0x2547e0?_0x3ff09c=0x0:_0x3ff09c*=0x1-Math[_0x4d5afe(0x1f8)](0x1,Math[_0x4d5afe(0x181)](0x0,(_0x329bc4['y']-_0x118b22)/_0x3c6bc1))),_0x3ff09c=Math['max'](0x0,Math[_0x4d5afe(0x1f8)](0x1,_0x3ff09c)),_0x3ff09c>0.01&&(starryCtx['beginPath'](),starryCtx['arc'](Math[_0x4d5afe(0x1d4)](_0x329bc4['x']),Math[_0x4d5afe(0x1d4)](_0x329bc4['y']),_0x329bc4[_0x4d5afe(0x1be)],0x0,Math['PI']*0x2),starryCtx[_0x4d5afe(0x1ed)]=_0x4d5afe(0x187)+_0x3ff09c['toFixed'](0x3)+')',starryCtx[_0x4d5afe(0x1da)]());});}catch(_0x1d4fa9){console[_0x1b190c(0x196)]('Error\x20in\x20drawStars:',_0x1d4fa9);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;}}function drawRetroGrid(){const _0x1c916f=_0x291e01;try{if(!retroGridCtx||!retroGridCanvas||retroGridCanvas[_0x1c916f(0x16c)]===0x0||retroGridCanvas[_0x1c916f(0x1cb)]===0x0)return;!isPaused&&(gridOffsetY-=GRID_SPEED);const _0xdf6e32=retroGridCanvas[_0x1c916f(0x16c)],_0x451b8e=retroGridCanvas[_0x1c916f(0x1cb)];retroGridCtx[_0x1c916f(0x20e)](0x0,0x0,_0xdf6e32,_0x451b8e);const _0x47d565=Math[_0x1c916f(0x1d4)](_0x451b8e*GRID_HORIZON_Y_FACTOR),_0x2c76ef=_0xdf6e32/0x2,_0x5bbce5=_0x451b8e-_0x47d565;retroGridCtx['lineWidth']=GRID_LINE_WIDTH;const _0x1d77d3=_0xdf6e32*GRID_HORIZONTAL_LINE_WIDTH_FACTOR,_0x20c525=_0x2c76ef-_0x1d77d3/0x2,_0x4d87d5=_0x2c76ef+_0x1d77d3/0x2,_0x1ae853=_0x47d565+_0x5bbce5*0.1,_0x449d04=_0x451b8e,_0x537927=Math['max'](0x1,_0x449d04-_0x1ae853);retroGridCtx[_0x1c916f(0x178)]=GRID_LINE_COLOR_FIXED,retroGridCtx[_0x1c916f(0x1f2)](),retroGridCtx[_0x1c916f(0x21f)](_0x20c525,_0x47d565),retroGridCtx[_0x1c916f(0x1cc)](_0x4d87d5,_0x47d565),retroGridCtx['stroke']();let _0x5df97c=gridOffsetY%GRID_BASE_SPACING;_0x5df97c>0x0&&(_0x5df97c-=GRID_BASE_SPACING);let _0x1beef0=_0x47d565-_0x5df97c;if(_0x1beef0<=_0x47d565)_0x1beef0+=GRID_BASE_SPACING;while(_0x1beef0<_0x451b8e+GRID_BASE_SPACING){let _0xec550=Math['max'](0x0,Math[_0x1c916f(0x1f8)](0x1,(_0x1beef0-_0x47d565)/_0x5bbce5));if(_0x1beef0>_0x47d565&&_0x1beef0<=_0x451b8e+GRID_LINE_WIDTH*0x2){let _0x3eb82f;if(_0x1beef0<=_0x1ae853)_0x3eb82f=GRID_MIN_ALPHA;else{if(_0x1beef0>=_0x449d04)_0x3eb82f=GRID_BASE_ALPHA;else{const _0x2ff157=(_0x1beef0-_0x1ae853)/_0x537927;_0x3eb82f=GRID_MIN_ALPHA+(GRID_BASE_ALPHA-GRID_MIN_ALPHA)*_0x2ff157;}}_0x3eb82f=Math[_0x1c916f(0x181)](0x0,Math[_0x1c916f(0x1f8)](GRID_BASE_ALPHA,_0x3eb82f)),_0x3eb82f>0.01&&(retroGridCtx[_0x1c916f(0x178)]='rgba('+GRID_RGB_PART+',\x20'+_0x3eb82f[_0x1c916f(0x1e3)](0x3)+')',retroGridCtx[_0x1c916f(0x1f2)](),retroGridCtx[_0x1c916f(0x21f)](_0x20c525,Math['round'](_0x1beef0)),retroGridCtx[_0x1c916f(0x1cc)](_0x4d87d5,Math[_0x1c916f(0x1d4)](_0x1beef0)),retroGridCtx[_0x1c916f(0x16e)]());}let _0xb3e6fa=GRID_BASE_SPACING*Math[_0x1c916f(0x1ca)](0x1+_0xec550*1.5,GRID_SPACING_POWER);_0x1beef0+=Math[_0x1c916f(0x181)](0x1,_0xb3e6fa);}retroGridCtx[_0x1c916f(0x178)]=GRID_LINE_COLOR_FIXED,retroGridCtx[_0x1c916f(0x1f2)]();const _0x5c9cfc=Math['floor'](GRID_NUM_PERSPECTIVE_LINES/0x2),_0x180a20=_0xdf6e32*GRID_HORIZON_SPREAD_FACTOR,_0x280fb4=_0xdf6e32*GRID_BOTTOM_SPREAD_FACTOR;for(let _0x1be298=0x0;_0x1be298<=_0x5c9cfc;_0x1be298++){let _0x1d702d=Math[_0x1c916f(0x1ca)](_0x1be298/_0x5c9cfc,GRID_PERSPECTIVE_POWER),_0x5e4d9=_0x2c76ef+_0x1d702d*(_0x180a20/0x2),_0x38073a=_0x2c76ef-_0x1d702d*(_0x180a20/0x2),_0x3dbf14=_0x2c76ef+_0x1d702d*(_0x280fb4/0x2),_0xfec1c5=_0x2c76ef-_0x1d702d*(_0x280fb4/0x2);retroGridCtx[_0x1c916f(0x21f)](_0x5e4d9,_0x47d565),retroGridCtx[_0x1c916f(0x1cc)](_0x3dbf14,_0x451b8e),_0x1be298>0x0&&(retroGridCtx[_0x1c916f(0x21f)](_0x38073a,_0x47d565),retroGridCtx['lineTo'](_0xfec1c5,_0x451b8e));}retroGridCtx[_0x1c916f(0x16e)]();}catch(_0x3befe2){console[_0x1c916f(0x196)](_0x1c916f(0x219),_0x3befe2);}}function calculateBezierPoint(_0x244f61,_0x41387d,_0x40de73,_0x104c42,_0x2e5b37){const _0x55f653=0x1-_0x244f61,_0x15f9cb=_0x244f61*_0x244f61,_0x237039=_0x55f653*_0x55f653,_0xfdab32=_0x237039*_0x55f653,_0xd97424=_0x15f9cb*_0x244f61;let _0x5b549e=_0xfdab32*_0x41387d;return _0x5b549e+=0x3*_0x237039*_0x244f61*_0x40de73,_0x5b549e+=0x3*_0x55f653*_0x15f9cb*_0x104c42,_0x5b549e+=_0xd97424*_0x2e5b37,_0x5b549e;}function defineNormalWaveEntrancePaths(){const _0x5c46c4=_0x291e01;normalWaveEntrancePaths={};const _0x227838=gameCanvas?.[_0x5c46c4(0x16c)],_0x68961e=gameCanvas?.[_0x5c46c4(0x1cb)];if(!_0x227838||!_0x68961e||_0x227838===0x0){console[_0x5c46c4(0x196)](_0x5c46c4(0x186));return;}const _0x1218ea=_0x227838/0x320,_0x15f7e9=_0x68961e/0x258,_0x5c8f6a=-Math[_0x5c46c4(0x181)](ENEMY1_HEIGHT,ENEMY_HEIGHT)*1.5,_0x3e606b=_0x227838/0x2,_0x166dca=-0x19,_0x4dc18d=ENEMY_WIDTH,_0x237e3d=ENEMY_H_SPACING_FIXED,_0x17d410=GRID_COLS*_0x4dc18d+(GRID_COLS-0x1)*_0x237e3d,_0x562adb=Math['round']((_0x227838-_0x17d410)/0x2),_0x18f3bb=_0x562adb+0x4*(_0x4dc18d+_0x237e3d)+_0x4dc18d/0x2,_0x5f247c=_0x562adb+0x5*(_0x4dc18d+_0x237e3d)+_0x4dc18d/0x2,_0x4b5dec=(_0x18f3bb+_0x5f247c)/0x2+_0x166dca,_0x31b1a1=Math['round'](ENEMY_TOP_MARGIN+0x1*(ENEMY_HEIGHT+ENEMY_V_SPACING)),_0x4db9b8=_0x31b1a1+0x3c*_0x15f7e9,_0x139a79=[{'p0':{'x':0x50/0x190*0x320*_0x1218ea+_0x166dca,'y':_0x5c8f6a},'p1':{'x':0x1b8/0x190*0x320*_0x1218ea+_0x166dca,'y':0x8c/0x12c*0x258*_0x15f7e9},'p2':{'x':0x104/0x190*0x320*_0x1218ea+_0x166dca,'y':0x154/0x12c*0x258*_0x15f7e9},'p3':{'x':_0x4b5dec,'y':_0x4db9b8}}];normalWaveEntrancePaths['new_path_left']=_0x139a79;const _0x416536=_0x139a79[_0x5c46c4(0x212)](_0x5a672e=>({'p0':{'x':_0x227838-(_0x5a672e['p0']['x']-_0x166dca)+_0x166dca,'y':_0x5a672e['p0']['y']},'p1':{'x':_0x227838-(_0x5a672e['p1']['x']-_0x166dca)+_0x166dca,'y':_0x5a672e['p1']['y']},'p2':{'x':_0x227838-(_0x5a672e['p2']['x']-_0x166dca)+_0x166dca,'y':_0x5a672e['p2']['y']},'p3':{'x':_0x4b5dec,'y':_0x5a672e['p3']['y']}}));normalWaveEntrancePaths['new_path_right']=_0x416536;const _0x4a8671=_0x2771ce=>{const _0x3205e2=_0x5c46c4,_0xdd6a04=_0x2771ce?_0x3205e2(0x188):'boss_loop_left',_0x5bed5b=_0x2c2b65=>_0x2771ce?_0x227838-_0x2c2b65:_0x2c2b65,_0x5b2e6a=0x82*_0x15f7e9,_0x4c0761=0x50*_0x1218ea,_0x518948=0x12c*_0x1218ea,_0x4cbdc0=0x12c*_0x15f7e9,_0x5cd7d9=_0x518948+_0x4c0761,_0x496142=_0x4cbdc0,_0x445530=_0x5bed5b(-0x64*_0x1218ea),_0x4d51fb=(0x15e+_0x5b2e6a)*_0x15f7e9,_0x38ef4f=ENEMY_TOP_MARGIN-0x14,_0x336cbb={'x':_0x445530,'y':_0x4d51fb},_0x425b2f={'x':_0x5bed5b(_0x5cd7d9),'y':_0x496142},_0x1ba6ab={'x':_0x5bed5b(_0x518948),'y':_0x4cbdc0-_0x4c0761},_0x26b96a={'x':_0x5bed5b(_0x518948-_0x4c0761),'y':_0x4cbdc0},_0xf8d3e6={'x':_0x5bed5b(_0x518948),'y':_0x4cbdc0+_0x4c0761},_0x25bb4d={'x':_0x425b2f['x'],'y':_0x38ef4f},_0x241b92=0.25,_0x230f48=Math[_0x3205e2(0x172)](_0x425b2f['y']-_0x4d51fb,_0x425b2f['x']-_0x445530),_0x19b9b4={'x':_0x425b2f['x']-Math[_0x3205e2(0x1d6)](_0x230f48)*_0x4c0761*_0x241b92,'y':_0x425b2f['y']-Math['sin'](_0x230f48)*_0x4c0761*_0x241b92},_0x2228e6={'x':(_0x336cbb['x']+_0x19b9b4['x'])/0x2,'y':(_0x336cbb['y']+_0x19b9b4['y'])/0x2},_0x28e1e3={'x':_0x425b2f['x'],'y':(_0x425b2f['y']+_0x25bb4d['y'])/0x2},_0x203224=0.552284749831,_0x1ec378=_0x4c0761*_0x203224,_0xa4432f=_0x4c0761*_0x203224;let _0x3420fe=[];_0x3420fe[_0x3205e2(0x1ea)]({'p0':_0x336cbb,'p1':{'x':_0x336cbb['x']+(_0x2228e6['x']-_0x336cbb['x'])*0.33,'y':_0x336cbb['y']+(_0x2228e6['y']-_0x336cbb['y'])*0.33},'p2':{'x':_0x336cbb['x']+(_0x2228e6['x']-_0x336cbb['x'])*0.66,'y':_0x336cbb['y']+(_0x2228e6['y']-_0x336cbb['y'])*0.66},'p3':_0x2228e6}),_0x3420fe['push']({'p0':_0x2228e6,'p1':{'x':_0x2228e6['x']+(_0x19b9b4['x']-_0x2228e6['x'])*0.33,'y':_0x2228e6['y']+(_0x19b9b4['y']-_0x2228e6['y'])*0.33},'p2':{'x':_0x2228e6['x']+(_0x19b9b4['x']-_0x2228e6['x'])*0.66,'y':_0x2228e6['y']+(_0x19b9b4['y']-_0x2228e6['y'])*0.66},'p3':_0x19b9b4});const _0x107592={'x':_0x19b9b4['x']+(_0x19b9b4['x']-_0x2228e6['x'])*0.3,'y':_0x19b9b4['y']+(_0x19b9b4['y']-_0x2228e6['y'])*0.3},_0x14fa80={'x':_0x5bed5b(_0x518948+_0x1ec378),'y':_0x1ba6ab['y']};return _0x3420fe[_0x3205e2(0x1ea)]({'p0':_0x19b9b4,'p1':_0x107592,'p2':_0x14fa80,'p3':_0x1ba6ab}),_0x3420fe[_0x3205e2(0x1ea)]({'p0':_0x1ba6ab,'p1':{'x':_0x5bed5b(_0x518948-_0x1ec378),'y':_0x1ba6ab['y']},'p2':{'x':_0x26b96a['x'],'y':_0x26b96a['y']-_0xa4432f},'p3':_0x26b96a}),_0x3420fe[_0x3205e2(0x1ea)]({'p0':_0x26b96a,'p1':{'x':_0x26b96a['x'],'y':_0x26b96a['y']+_0xa4432f},'p2':{'x':_0x5bed5b(_0x518948-_0x1ec378),'y':_0xf8d3e6['y']},'p3':_0xf8d3e6}),_0x3420fe['push']({'p0':_0xf8d3e6,'p1':{'x':_0x5bed5b(_0x518948+_0x1ec378),'y':_0xf8d3e6['y']},'p2':{'x':_0x425b2f['x'],'y':_0x425b2f['y']+_0xa4432f},'p3':_0x425b2f}),_0x3420fe[_0x3205e2(0x1ea)]({'p0':_0x425b2f,'p1':{'x':_0x425b2f['x']+(_0x28e1e3['x']-_0x425b2f['x'])*0.33,'y':_0x425b2f['y']+(_0x28e1e3['y']-_0x425b2f['y'])*0.33},'p2':{'x':_0x425b2f['x']+(_0x28e1e3['x']-_0x425b2f['x'])*0.66,'y':_0x425b2f['y']+(_0x28e1e3['y']-_0x425b2f['y'])*0.66},'p3':_0x28e1e3}),_0x3420fe[_0x3205e2(0x1ea)]({'p0':_0x28e1e3,'p1':{'x':_0x28e1e3['x']+(_0x25bb4d['x']-_0x28e1e3['x'])*0.33,'y':_0x28e1e3['y']+(_0x25bb4d['y']-_0x28e1e3['y'])*0.33},'p2':{'x':_0x28e1e3['x']+(_0x25bb4d['x']-_0x28e1e3['x'])*0.66,'y':_0x28e1e3['y']+(_0x25bb4d['y']-_0x28e1e3['y'])*0.66},'p3':_0x25bb4d}),_0x3420fe;};normalWaveEntrancePaths[_0x5c46c4(0x180)]=_0x4a8671(![]),normalWaveEntrancePaths[_0x5c46c4(0x188)]=_0x4a8671(!![]);const _0xea7282=0x2ee,_0x5360cf=0x15e*_0x15f7e9,_0x48fd53={'x':_0x3e606b,'y':_0x5c8f6a},_0x16ecfc={'x':(_0x3e606b+(0x2ee-0x190)*(0x2/0x3))*_0x1218ea,'y':(-0x32+(_0xea7282- -0x32)*(0x2/0x3))*_0x15f7e9},_0x102e6f={'x':(0x190+(0x2ee-0x190)*(0x1/0x3))*_0x1218ea,'y':(_0x5360cf+(_0xea7282-_0x5360cf)*(0x1/0x3))*_0x15f7e9},_0x3d43e0={'x':_0x3e606b,'y':_0x5360cf};normalWaveEntrancePaths['mid_curve_right']=[{'p0':_0x48fd53,'p1':_0x16ecfc,'p2':_0x102e6f,'p3':_0x3d43e0}];const _0x4f227b={'x':_0x3e606b,'y':_0x5c8f6a},_0x444caa={'x':_0x227838-_0x16ecfc['x'],'y':_0x16ecfc['y']},_0x2f4549={'x':_0x227838-_0x102e6f['x'],'y':_0x102e6f['y']},_0xcf2a7b={'x':_0x3e606b,'y':_0x5360cf};normalWaveEntrancePaths['mid_curve_left']=[{'p0':_0x4f227b,'p1':_0x444caa,'p2':_0x2f4549,'p3':_0xcf2a7b}];for(const _0x1c5026 in normalWaveEntrancePaths){if(!Array[_0x5c46c4(0x210)](normalWaveEntrancePaths[_0x1c5026])){console['error'](_0x5c46c4(0x1d7)+_0x1c5026+_0x5c46c4(0x1c7)),normalWaveEntrancePaths[_0x1c5026]=[{'p0':{'x':_0x227838/0x2,'y':_0x5c8f6a},'p1':{'x':_0x227838/0x2,'y':_0x68961e/0x3},'p2':{'x':_0x227838/0x2,'y':_0x68961e*0x2/0x3},'p3':{'x':_0x227838/0x2,'y':ENEMY_TOP_MARGIN}}];continue;}normalWaveEntrancePaths[_0x1c5026]=normalWaveEntrancePaths[_0x1c5026][_0x5c46c4(0x20c)](_0x48ca3b=>_0x48ca3b?.['p0']&&_0x48ca3b?.['p1']&&_0x48ca3b?.['p2']&&_0x48ca3b?.['p3']&&typeof _0x48ca3b['p0']['x']==='number'&&typeof _0x48ca3b['p0']['y']==='number'&&typeof _0x48ca3b['p1']['x']===_0x5c46c4(0x1b8)&&typeof _0x48ca3b['p1']['y']===_0x5c46c4(0x1b8)&&typeof _0x48ca3b['p2']['x']===_0x5c46c4(0x1b8)&&typeof _0x48ca3b['p2']['y']==='number'&&typeof _0x48ca3b['p3']['x']===_0x5c46c4(0x1b8)&&typeof _0x48ca3b['p3']['y']===_0x5c46c4(0x1b8)&&!isNaN(_0x48ca3b['p0']['x']+_0x48ca3b['p0']['y']+_0x48ca3b['p1']['x']+_0x48ca3b['p1']['y']+_0x48ca3b['p2']['x']+_0x48ca3b['p2']['y']+_0x48ca3b['p3']['x']+_0x48ca3b['p3']['y'])),normalWaveEntrancePaths[_0x1c5026]['length']===0x0&&(console[_0x5c46c4(0x196)](_0x5c46c4(0x1d7)+_0x1c5026+_0x5c46c4(0x177)),normalWaveEntrancePaths[_0x1c5026]=[{'p0':{'x':_0x227838/0x2,'y':_0x5c8f6a},'p1':{'x':_0x227838/0x2,'y':_0x68961e/0x3},'p2':{'x':_0x227838/0x2,'y':_0x68961e*0x2/0x3},'p3':{'x':_0x227838/0x2,'y':ENEMY_TOP_MARGIN}}]);}}function defineChallengingStagePaths(){const _0x2aab20=_0x291e01;challengingStagePaths={};const _0x707761=gameCanvas?.['width'],_0x314eda=gameCanvas?.[_0x2aab20(0x1cb)];if(!_0x707761||!_0x314eda||_0x707761===0x0){console[_0x2aab20(0x196)](_0x2aab20(0x20b));return;}const _0x38429e=ENEMY_WIDTH,_0x3f1a2e=ENEMY_HEIGHT,_0x3ff7ed=-_0x3f1a2e*1.5,_0x1338e6=_0x314eda+_0x3f1a2e*0x2,_0x5b0a24=-_0x38429e*1.5,_0x2881ad=_0x707761+_0x38429e*1.5,_0x3f5d2d=_0x707761/0x2,_0x4e9005=_0x314eda/0x2,_0x61e502=-0x1c,_0x5a9c09=(_0x33e52d,_0x3045f1)=>{const _0x274eb3=_0x2aab20;return _0x33e52d[_0x274eb3(0x212)](_0x112bf7=>{const _0x4a71e9=_0x274eb3,_0x18a19a=JSON[_0x4a71e9(0x1fa)](JSON[_0x4a71e9(0x1d8)](_0x112bf7));if(_0x18a19a['p0']&&typeof _0x18a19a['p0']['x']===_0x4a71e9(0x1b8))_0x18a19a['p0']['x']+=_0x3045f1;if(_0x18a19a['p1']&&typeof _0x18a19a['p1']['x']===_0x4a71e9(0x1b8))_0x18a19a['p1']['x']+=_0x3045f1;if(_0x18a19a['p2']&&typeof _0x18a19a['p2']['x']===_0x4a71e9(0x1b8))_0x18a19a['p2']['x']+=_0x3045f1;return _0x18a19a['p3']&&typeof _0x18a19a['p3']['x']==='number'&&_0x18a19a['p3']['x']!==_0x5b0a24&&_0x18a19a['p3']['x']!==_0x2881ad&&(_0x18a19a['p3']['x']+=_0x3045f1),_0x18a19a;});},_0x22ed4d=37.8/0x320*0.3,_0x578d65=0.5-_0x22ed4d,_0x14696b=0x1c2/0x258,_0x3dab3d=0.49,_0x178f1f=0x258/0x258,_0x468dff=0.48,_0x4764a3=0x12c/0x258,_0x5c470d=_0x707761*_0x578d65,_0x21aebb=_0x314eda*_0x14696b,_0x99a0d8=_0x707761*_0x3dab3d,_0x304ce5=_0x314eda*Math['min'](0x1,_0x178f1f),_0x4caf3b=_0x707761*_0x468dff,_0x4e0e2f=_0x314eda*_0x4764a3,_0x180dc0=_0x5b0a24,_0x40d0ae=_0x3ff7ed,_0x560169={'x':_0x5c470d,'y':_0x3ff7ed},_0x547ca0={'x':_0x5c470d,'y':_0x21aebb},_0x29c274={'x':_0x5c470d,'y':_0x3ff7ed+(_0x21aebb-_0x3ff7ed)*0.33},_0x5b6e8f={'x':_0x5c470d,'y':_0x3ff7ed+(_0x21aebb-_0x3ff7ed)*0.66},_0x3ed1ee=_0x547ca0,_0x4052e8={'x':_0x99a0d8,'y':_0x304ce5},_0x5e95ef={'x':_0x4caf3b,'y':_0x4e0e2f},_0x249676={'x':_0x180dc0,'y':_0x40d0ae},_0x1e7e18=[{'p0':_0x560169,'p1':_0x29c274,'p2':_0x5b6e8f,'p3':_0x547ca0},{'p0':_0x3ed1ee,'p1':_0x4052e8,'p2':_0x5e95ef,'p3':_0x249676}],_0x2dc093=_0x1e7e18[_0x2aab20(0x212)](_0x2dec57=>({'p0':{'x':_0x707761-_0x2dec57['p0']['x'],'y':_0x2dec57['p0']['y']},'p1':{'x':_0x707761-_0x2dec57['p1']['x'],'y':_0x2dec57['p1']['y']},'p2':{'x':_0x707761-_0x2dec57['p2']['x'],'y':_0x2dec57['p2']['y']},'p3':{'x':_0x2dec57['p3']['x']===_0x5b0a24?_0x2881ad:_0x707761-_0x2dec57['p3']['x'],'y':_0x2dec57['p3']['y']}}));challengingStagePaths['CS3_DiveLoopL_Sharp']=_0x5a9c09(_0x1e7e18,_0x61e502),challengingStagePaths[_0x2aab20(0x20a)]=_0x5a9c09(_0x2dc093,_0x61e502);const _0x3d53eb=_0x314eda*0.7,_0x4941b5=_0x314eda*0.03,_0x5b3e56=_0x707761*0.15;challengingStagePaths[_0x2aab20(0x1e5)]=[{'p0':{'x':_0x5b0a24,'y':_0x3d53eb},'p1':{'x':_0x5b0a24+_0x5b3e56,'y':_0x3d53eb-_0x4941b5},'p2':{'x':_0x2881ad-_0x5b3e56,'y':_0x3d53eb+_0x4941b5},'p3':{'x':_0x2881ad,'y':_0x3d53eb}}],challengingStagePaths[_0x2aab20(0x185)]=[{'p0':{'x':_0x2881ad,'y':_0x3d53eb},'p1':{'x':_0x2881ad-_0x5b3e56,'y':_0x3d53eb-_0x4941b5},'p2':{'x':_0x5b0a24+_0x5b3e56,'y':_0x3d53eb+_0x4941b5},'p3':{'x':_0x5b0a24,'y':_0x3d53eb}}];const _0x399a57=_0x314eda*0.8,_0xd8a7fa=_0x314eda*0.55,_0x26d2d2=_0x314eda*0.15;challengingStagePaths[_0x2aab20(0x1d1)]=[{'p0':{'x':_0x707761*0.1,'y':_0x3ff7ed},'p1':{'x':_0x707761*0.2,'y':_0x314eda*0.2},'p2':{'x':_0x707761*0.6,'y':_0x399a57},'p3':{'x':_0x707761*0.7,'y':_0x399a57}},{'p0':{'x':_0x707761*0.7,'y':_0x399a57},'p1':{'x':_0x707761*0.8,'y':_0x399a57},'p2':{'x':_0x707761*0.8,'y':_0xd8a7fa},'p3':{'x':_0x707761*0.7,'y':_0xd8a7fa}},{'p0':{'x':_0x707761*0.7,'y':_0xd8a7fa},'p1':{'x':_0x707761*0.6,'y':_0xd8a7fa},'p2':{'x':_0x2881ad,'y':_0x26d2d2},'p3':{'x':_0x2881ad,'y':_0x26d2d2+_0x314eda*0.1}}],challengingStagePaths[_0x2aab20(0x18f)]=[{'p0':{'x':_0x707761*0.9,'y':_0x3ff7ed},'p1':{'x':_0x707761*0.8,'y':_0x314eda*0.2},'p2':{'x':_0x707761*0.4,'y':_0x399a57},'p3':{'x':_0x707761*0.3,'y':_0x399a57}},{'p0':{'x':_0x707761*0.3,'y':_0x399a57},'p1':{'x':_0x707761*0.2,'y':_0x399a57},'p2':{'x':_0x707761*0.2,'y':_0xd8a7fa},'p3':{'x':_0x707761*0.3,'y':_0xd8a7fa}},{'p0':{'x':_0x707761*0.3,'y':_0xd8a7fa},'p1':{'x':_0x707761*0.4,'y':_0xd8a7fa},'p2':{'x':_0x5b0a24,'y':_0x26d2d2},'p3':{'x':_0x5b0a24,'y':_0x26d2d2+_0x314eda*0.1}}],challengingStagePaths[_0x2aab20(0x175)]=[{'p0':{'x':_0x5b0a24,'y':_0x314eda*0.6},'p1':{'x':_0x707761*0.1,'y':_0x314eda*0.4},'p2':{'x':_0x707761*0.6,'y':_0x314eda*0.2},'p3':{'x':_0x3f5d2d,'y':_0x314eda*0.3}},{'p0':{'x':_0x3f5d2d,'y':_0x314eda*0.3},'p1':{'x':_0x707761*0.4,'y':_0x314eda*0.4},'p2':{'x':_0x707761*0.3,'y':_0x399a57*0.9},'p3':{'x':_0x707761*0.4,'y':_0x399a57}},{'p0':{'x':_0x707761*0.4,'y':_0x399a57},'p1':{'x':_0x707761*0.5,'y':_0x399a57*1.05},'p2':{'x':_0x3f5d2d,'y':_0x3ff7ed},'p3':{'x':_0x3f5d2d+_0x707761*0.1,'y':_0x3ff7ed}}],challengingStagePaths[_0x2aab20(0x1a5)]=[{'p0':{'x':_0x2881ad,'y':_0x314eda*0.6},'p1':{'x':_0x707761*0.9,'y':_0x314eda*0.4},'p2':{'x':_0x707761*0.4,'y':_0x314eda*0.2},'p3':{'x':_0x3f5d2d,'y':_0x314eda*0.3}},{'p0':{'x':_0x3f5d2d,'y':_0x314eda*0.3},'p1':{'x':_0x707761*0.6,'y':_0x314eda*0.4},'p2':{'x':_0x707761*0.7,'y':_0x399a57*0.9},'p3':{'x':_0x707761*0.6,'y':_0x399a57}},{'p0':{'x':_0x707761*0.6,'y':_0x399a57},'p1':{'x':_0x707761*0.5,'y':_0x399a57*1.05},'p2':{'x':_0x3f5d2d,'y':_0x3ff7ed},'p3':{'x':_0x3f5d2d-_0x707761*0.1,'y':_0x3ff7ed}}];for(const _0x48b3ee in challengingStagePaths){challengingStagePaths[_0x48b3ee]=challengingStagePaths[_0x48b3ee][_0x2aab20(0x20c)](_0x258bf1=>_0x258bf1?.['p0']&&_0x258bf1?.['p1']&&_0x258bf1?.['p2']&&_0x258bf1?.['p3']&&!isNaN(_0x258bf1['p0']['x']+_0x258bf1['p0']['y']+_0x258bf1['p1']['x']+_0x258bf1['p1']['y']+_0x258bf1['p2']['x']+_0x258bf1['p2']['y']+_0x258bf1['p3']['x']+_0x258bf1['p3']['y'])),challengingStagePaths[_0x48b3ee]['length']===0x0&&(console['error'](_0x2aab20(0x1fe)+_0x48b3ee+_0x2aab20(0x1b0)),challengingStagePaths[_0x48b3ee]=[{'p0':{'x':_0x707761/0x2,'y':_0x3ff7ed},'p1':{'x':_0x707761/0x2,'y':_0x314eda/0x3},'p2':{'x':_0x707761/0x2,'y':_0x314eda*0x2/0x3},'p3':{'x':_0x707761/0x2,'y':_0x1338e6}}]);}}function resizeCanvases(){const _0x227383=_0x291e01;try{const _0x584585=window[_0x227383(0x228)],_0x4ab776=window[_0x227383(0x176)];if(_0x584585<=0x0||_0x4ab776<=0x0)return;starrySkyCanvas&&(starrySkyCanvas['width']!==_0x584585||starrySkyCanvas[_0x227383(0x1cb)]!==_0x4ab776)&&(starrySkyCanvas[_0x227383(0x16c)]=_0x584585,starrySkyCanvas[_0x227383(0x1cb)]=_0x4ab776,createStars());retroGridCanvas&&(retroGridCanvas[_0x227383(0x16c)]!==_0x584585||retroGridCanvas[_0x227383(0x1cb)]!==_0x4ab776)&&(retroGridCanvas[_0x227383(0x16c)]=_0x584585,retroGridCanvas[_0x227383(0x1cb)]=_0x4ab776);if(gameCanvas&&(gameCanvas[_0x227383(0x16c)]!==_0x584585||gameCanvas[_0x227383(0x1cb)]!==_0x4ab776)){const _0x263565=gameCanvas[_0x227383(0x16c)];gameCanvas[_0x227383(0x16c)]=_0x584585,gameCanvas[_0x227383(0x1cb)]=_0x4ab776,defineNormalWaveEntrancePaths(),defineChallengingStagePaths(),isInGameState&&handleResizeGameElements(_0x263565,_0x584585,_0x4ab776);}else(!gameCanvas?.[_0x227383(0x16c)]||!gameCanvas?.[_0x227383(0x1cb)])&&(defineNormalWaveEntrancePaths(),defineChallengingStagePaths());}catch(_0x14c712){console[_0x227383(0x196)]('Error\x20in\x20resizeCanvases:',_0x14c712);}}function handleResizeGameElements(_0x38e52f,_0xfaa04d,_0x556666){const _0x242952=_0x291e01;try{currentGridOffsetX=0x0,ship&&(_0x38e52f>0x0&&_0xfaa04d>0x0&&typeof ship['x']!==_0x242952(0x1f7)?ship['x']=ship['x']/_0x38e52f*_0xfaa04d:ship['x']=_0xfaa04d/0x2-ship[_0x242952(0x16c)]/0x2,ship['x']=Math['max'](0x0,Math[_0x242952(0x1f8)](_0xfaa04d-ship['width'],ship['x'])),ship['y']=_0x556666-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN,ship[_0x242952(0x18a)]=ship['x']),enemies['forEach'](_0x3d25c7=>{const _0x2e2686=_0x242952;if(_0x3d25c7&&(_0x3d25c7[_0x2e2686(0x1a0)]==='in_grid'||_0x3d25c7['state']===_0x2e2686(0x18d)||_0x3d25c7[_0x2e2686(0x1a0)]===_0x2e2686(0x1cf)))try{const _0x468117=_0x3d25c7[_0x2e2686(0x1a9)]===ENEMY3_TYPE?BOSS_WIDTH:_0x3d25c7[_0x2e2686(0x1a9)]===ENEMY1_TYPE?ENEMY1_WIDTH:ENEMY_WIDTH,{x:_0x49b43c,y:_0x205e7a}=getCurrentGridSlotPosition(_0x3d25c7['gridRow'],_0x3d25c7['gridCol'],_0x468117);_0x3d25c7[_0x2e2686(0x1bc)]=_0x49b43c,_0x3d25c7[_0x2e2686(0x199)]=_0x205e7a,_0x3d25c7[_0x2e2686(0x1a0)]===_0x2e2686(0x16a)&&(_0x3d25c7['x']=_0x49b43c,_0x3d25c7['y']=_0x205e7a);}catch(_0x1dc137){console['error'](_0x2e2686(0x209)+_0x3d25c7['id']+_0x2e2686(0x191),_0x1dc137),(_0x3d25c7[_0x2e2686(0x1a0)]==='in_grid'||_0x3d25c7['state']===_0x2e2686(0x1cf)||_0x3d25c7[_0x2e2686(0x1a0)]===_0x2e2686(0x18d))&&(_0x3d25c7['x']=_0xfaa04d/0x2,_0x3d25c7['y']=ENEMY_TOP_MARGIN+_0x3d25c7[_0x2e2686(0x1bf)]*(ENEMY_HEIGHT+ENEMY_V_SPACING),_0x3d25c7[_0x2e2686(0x1bc)]=_0x3d25c7['x'],_0x3d25c7['targetGridY']=_0x3d25c7['y']);}});}catch(_0x10881d){console['error'](_0x242952(0x1a7),_0x10881d);}}function handleKeyDown(_0x2788ec){const _0x4448fb=_0x291e01;try{const _0x199ad6=['\x20','ArrowUp',_0x4448fb(0x1c8),_0x4448fb(0x1b7),'ArrowRight',_0x4448fb(0x201),_0x4448fb(0x1a2),'w','a','s','d','p','P','j','J','l','L','i','I',_0x4448fb(0x1f5),_0x4448fb(0x192),_0x4448fb(0x1e1)];(_0x199ad6[_0x4448fb(0x21c)](_0x2788ec[_0x4448fb(0x21a)])||_0x199ad6[_0x4448fb(0x21c)](_0x2788ec[_0x4448fb(0x1d5)]))&&_0x2788ec['preventDefault']();let _0x5e5e2d=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x5e5e2d=!![]);if(_0x5e5e2d)return;if(isInGameState){if((_0x2788ec[_0x4448fb(0x21a)]==='p'||_0x2788ec[_0x4448fb(0x21a)]==='P')&&playerLives>0x0&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){if(typeof togglePause==='function')togglePause();return;}if(!isPaused){if(playerLives>0x0){if(!isManualControl){if(_0x2788ec[_0x4448fb(0x21a)]===_0x4448fb(0x1a2)||_0x2788ec[_0x4448fb(0x21a)]===_0x4448fb(0x201)){if(typeof stopGameAndShowMenu==='function')stopGameAndShowMenu();}else{if(!_0x2788ec[_0x4448fb(0x174)]&&!_0x2788ec[_0x4448fb(0x182)]&&!_0x2788ec[_0x4448fb(0x1a6)]&&!_0x2788ec['shiftKey']){if(typeof showMenuState==='function')showMenuState();}}}else{switch(_0x2788ec[_0x4448fb(0x1d5)]){case _0x4448fb(0x1b7):case'KeyA':keyboardP1LeftDown=!![];break;case _0x4448fb(0x1d0):case'KeyD':keyboardP1RightDown=!![];break;case _0x4448fb(0x1dd):case _0x4448fb(0x224):case _0x4448fb(0x1de):keyboardP1ShootDown=!![];break;case'KeyJ':if(isTwoPlayerMode)keyboardP2LeftDown=!![];break;case _0x4448fb(0x220):if(isTwoPlayerMode)keyboardP2RightDown=!![];break;case _0x4448fb(0x221):if(isTwoPlayerMode)keyboardP2ShootDown=!![];break;case _0x4448fb(0x1f5):if(isTwoPlayerMode)keyboardP2LeftDown=!![];break;case _0x4448fb(0x192):if(isTwoPlayerMode)keyboardP2RightDown=!![];break;case'Numpad0':if(isTwoPlayerMode)keyboardP2ShootDown=!![];break;case _0x4448fb(0x1a2):case _0x4448fb(0x201):if(typeof stopGameAndShowMenu===_0x4448fb(0x1ff))stopGameAndShowMenu();break;}if(!keyboardP2LeftDown&&isTwoPlayerMode&&_0x2788ec['key']==='j')keyboardP2LeftDown=!![];if(!keyboardP2RightDown&&isTwoPlayerMode&&_0x2788ec['key']==='l')keyboardP2RightDown=!![];if(!keyboardP2ShootDown&&isTwoPlayerMode&&_0x2788ec['key']==='i')keyboardP2ShootDown=!![];}}}}else{if(isShowingScoreScreen){if(!_0x2788ec[_0x4448fb(0x174)]&&!_0x2788ec['ctrlKey']&&!_0x2788ec['metaKey']&&!_0x2788ec['shiftKey']&&_0x2788ec['key']!=='p'&&_0x2788ec['key']!=='P'){if(typeof showMenuState==='function')showMenuState();return;}}else{stopAutoDemoTimer();switch(_0x2788ec[_0x4448fb(0x21a)]){case _0x4448fb(0x224):case'w':selectedButtonIndex=selectedButtonIndex<=0x0?0x1:0x0,startAutoDemoTimer();break;case _0x4448fb(0x1c8):case's':selectedButtonIndex=selectedButtonIndex>=0x1?0x0:0x1,startAutoDemoTimer();break;case _0x4448fb(0x201):case'\x20':if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0x4448fb(0x21e):selectedFiringMode=_0x4448fb(0x1df),baseStartGame(!![]);else{if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P();else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer();else selectedButtonIndex===0x1&&exitGame();}}break;case _0x4448fb(0x1a2):if(isFiringModeSelectMode)isFiringModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer();else isPlayerSelectMode?(isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer()):exitGame();break;default:startAutoDemoTimer();break;}}}}catch(_0x274603){console[_0x4448fb(0x196)]('Error\x20in\x20handleKeyDown:',_0x274603),keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];}}function _0x1801(_0x4bf991,_0x4b305c){const _0x4ec924=_0x4ec9();return _0x1801=function(_0x180119,_0x402deb){_0x180119=_0x180119-0x169;let _0x3555b6=_0x4ec924[_0x180119];return _0x3555b6;},_0x1801(_0x4bf991,_0x4b305c);}function handleKeyUp(_0x1702bd){const _0x368134=_0x291e01;try{switch(_0x1702bd[_0x368134(0x1d5)]){case _0x368134(0x1b7):case'KeyA':keyboardP1LeftDown=![];break;case _0x368134(0x1d0):case'KeyD':keyboardP1RightDown=![];break;case _0x368134(0x1dd):case _0x368134(0x224):case _0x368134(0x1de):keyboardP1ShootDown=![];break;case _0x368134(0x1cd):keyboardP2LeftDown=![];break;case _0x368134(0x220):keyboardP2RightDown=![];break;case'KeyI':keyboardP2ShootDown=![];break;case'Numpad4':keyboardP2LeftDown=![];break;case'Numpad6':keyboardP2RightDown=![];break;case _0x368134(0x1e1):keyboardP2ShootDown=![];break;}if(keyboardP2LeftDown&&_0x1702bd[_0x368134(0x21a)]==='j')keyboardP2LeftDown=![];if(keyboardP2RightDown&&_0x1702bd['key']==='l')keyboardP2RightDown=![];if(keyboardP2ShootDown&&_0x1702bd[_0x368134(0x21a)]==='i')keyboardP2ShootDown=![];}catch(_0x166021){console[_0x368134(0x196)](_0x368134(0x1fb),_0x166021),keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![];}}function handleGamepadConnected(_0x408542){const _0x44a14a=_0x291e01;try{if(connectedGamepadIndex===null){connectedGamepadIndex=_0x408542[_0x44a14a(0x1f0)][_0x44a14a(0x1fc)];const _0x5a2147=_0x408542[_0x44a14a(0x1f0)][_0x44a14a(0x1c0)][_0x44a14a(0x202)];previousButtonStates=new Array(_0x5a2147)[_0x44a14a(0x1da)](![]),previousDemoButtonStates=new Array(_0x5a2147)[_0x44a14a(0x1da)](![]),previousGameButtonStates=new Array(_0x5a2147)[_0x44a14a(0x1da)](![]),!isInGameState&&(stopAutoDemoTimer(),selectedButtonIndex=0x0);}else{if(connectedGamepadIndexP2===null){connectedGamepadIndexP2=_0x408542[_0x44a14a(0x1f0)]['index'];const _0x5cfb0c=_0x408542[_0x44a14a(0x1f0)][_0x44a14a(0x1c0)][_0x44a14a(0x202)];previousGameButtonStatesP2=new Array(_0x5cfb0c)[_0x44a14a(0x1da)](![]);}else{}}}catch(_0x1c5822){console[_0x44a14a(0x196)](_0x44a14a(0x1bb),_0x1c5822);}}function handleGamepadDisconnected(_0x3774c5){const _0x339548=_0x291e01;try{if(connectedGamepadIndex===_0x3774c5[_0x339548(0x1f0)][_0x339548(0x1fc)])connectedGamepadIndex=null,previousButtonStates=[],previousDemoButtonStates=[],previousGameButtonStates=[],!isInGameState&&(selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],startAutoDemoTimer()),p1FireInputWasDown=![];else connectedGamepadIndexP2===_0x3774c5[_0x339548(0x1f0)][_0x339548(0x1fc)]&&(connectedGamepadIndexP2=null,previousGameButtonStatesP2=[],p2FireInputWasDown=![]);}catch(_0x5f47b9){console[_0x339548(0x196)](_0x339548(0x179),_0x5f47b9),p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];}}function saveHighScore(){const _0x45d375=_0x291e01;try{let _0x318640=0x0;isTwoPlayerMode?_0x318640=Math[_0x45d375(0x181)](player1Score,player2Score):_0x318640=score,isManualControl&&_0x318640>highScore&&(highScore=_0x318640);}catch(_0xd476ea){console[_0x45d375(0x196)](_0x45d375(0x21b),_0xd476ea);}}function loadHighScore(){const _0x111336=_0x291e01;try{highScore=0x4e20;}catch(_0x235862){console[_0x111336(0x196)](_0x111336(0x1ad),_0x235862),highScore=0x4e20;}}const soundsToPause=[playerShootSound,explosionSound,entranceSound,bossGalagaDiveSound,levelUpSound,enemyShootSound,butterflyDiveSound,startSound,coinSound,beeHitSound,butterflyHitSound,bossHit1Sound,bossHit2Sound,gridBackgroundSound,extraLifeSound,csPerfectSound,csClearSound,waveUpSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound,resultsMusicSound,hiScoreSound];let soundPausedStates={};function pauseAllSounds(){const _0x4704ee=_0x291e01;soundPausedStates={},soundsToPause[_0x4704ee(0x19a)](_0x40a7da=>{const _0x992a46=_0x4704ee;if(_0x40a7da&&!_0x40a7da[_0x992a46(0x206)])try{_0x40a7da['pause'](),soundPausedStates[_0x40a7da[_0x992a46(0x218)]||_0x40a7da]=!![];}catch(_0x1140e7){console['error']('Error\x20pausing\x20sound:',_0x40a7da[_0x992a46(0x218)]||_0x40a7da,_0x1140e7);}}),stopSound(menuMusicSound);}function resumeAllSounds(){const _0x233ab6=_0x291e01;!isInGameState&&typeof menuMusicSound!==_0x233ab6(0x1f7)?playSound(menuMusicSound):soundsToPause['forEach'](_0xc65b62=>{const _0x2e7f2e=_0x233ab6;if(_0xc65b62&&soundPausedStates[_0xc65b62[_0x2e7f2e(0x218)]||_0xc65b62])try{if(_0xc65b62['loop']||!_0xc65b62[_0x2e7f2e(0x1ac)]){const _0x41cdb6=_0xc65b62[_0x2e7f2e(0x20f)]();_0x41cdb6!==undefined&&_0x41cdb6['catch'](_0x8f8dc1=>{const _0x6493a5=_0x2e7f2e;_0x8f8dc1[_0x6493a5(0x16d)]!==_0x6493a5(0x1b5)&&_0x8f8dc1[_0x6493a5(0x16d)]!=='NotAllowedError'&&console[_0x6493a5(0x1e2)]('Sound\x20resume\x20failed\x20for\x20'+_0xc65b62['src']+':\x20'+_0x8f8dc1[_0x6493a5(0x213)]);});}}catch(_0x4f6918){console[_0x2e7f2e(0x196)](_0x2e7f2e(0x16f),_0xc65b62['src']||_0xc65b62,_0x4f6918);}}),soundPausedStates={};}function _0x4ec9(){const _0x320fd5=['round','code','cos','Normal\x20Wave\x20Path\x20','stringify','Geluiden/firing.mp3','fill','left','Afbeeldingen/bossGalaga.png','Space','KeyW','single','Geluiden/Start.mp3','Numpad0','warn','toFixed','innerHTML','CS_HorizontalFlyByL','back','alpha','enemy2','retroGridCanvas','push','224836oIwsBV','getContext','fillStyle','Geluiden/lost-live.mp3','Afbeeldingen/Level-50.png','gamepad','Fullscreen\x20error\x20(WebKit):\x20','beginPath','Sound\x20play\x20failed\x20for\x20','Afbeeldingen/spaceship.png','Numpad4','Geluiden/Entree.mp3','undefined','min','loop','parse','Error\x20in\x20handleKeyUp:','index','Afbeeldingen/bullet.png','CS\x20Path\x20','function','Geluiden/Menu-music.mp3','Enter','length','100,\x20180,\x20255','documentElement','4881540ElIXKe','paused','Geluiden/CS-Clear.mp3','right','Error\x20recalculating\x20grid\x20pos\x20for\x20enemy\x20','CS3_DiveLoopR_Sharp','Cannot\x20define\x20CS\x20paths:\x20Canvas\x20size\x20unknown\x20or\x20zero\x20width.','filter','rgba(255,\x20150,\x20150,\x200.55)','clearRect','play','isArray','cyan','map','message','rgba(','Afbeeldingen/butterfly-2.png','10zPksjD','<p\x20style=\x22color:white;\x22>FATAL\x20ERROR</p>','src','Error\x20in\x20drawRetroGrid:','key','Error\x20in\x20saveHighScore:','includes','Error\x20in\x20stopSound:','rapid','moveTo','KeyL','KeyI','resize','fullscreenElement','ArrowUp','Error\x20in\x20playSound:','Geluiden/Butterfly-hit.mp3','addEventListener','innerWidth','Geluiden/Capture.mp3','mid_curve_left','56lKXfPh','in_grid','new_path_right','width','name','stroke','Error\x20resuming\x20sound:','NotAllowedError','volume','atan2','axes','altKey','CS_LoopAttack_BL','innerHeight','\x20empty\x20after\x20validation!\x20Using\x20basic\x20fallback.','strokeStyle','Error\x20in\x20handleGamepadDisconnected:','18725886hqvioq','8269638vOynhZ','Error\x20loading\x20sound:\x20','Afbeeldingen/butterfly.png','starrySkyCanvas','Geluiden/ready.mp3','boss_loop_left','max','ctrlKey','Afbeeldingen/Level-5.png','requestFullscreen','CS_HorizontalFlyByR','Cannot\x20define\x20Normal\x20Wave\x20entrance\x20paths:\x20Canvas\x20size\x20unknown\x20or\x20zero\x20width.','rgba(255,\x20255,\x20255,\x20','boss_loop_right','Geluiden/coin.mp3','targetX','Geluiden/kill.mp3','Fullscreen\x20error:\x20','returning','pause','CS_LoopAttack_TR','pressed','\x20on\x20resize:','Numpad6','Error\x20loading\x20critical\x20canvas\x20elements.','onerror','Afbeeldingen/Level-10.png','error','gamepaddisconnected','currentTime','targetGridY','forEach','gameCanvas','rgba(220,\x20220,\x20255,\x200.6)','shoot','2118752BpDiGP','getElementById','state','Geluiden/CS-Stage-Perfect-.mp3','Escape','Afbeeldingen/bee-2.png','body','CS_LoopAttack_BR','metaKey','Error\x20handling\x20game\x20resize\x20specifics:','5875020YbVGrr','type','Geluiden/Enemy2.mp3','Fullscreen\x20error\x20(FF):\x20','ended','Error\x20in\x20loadHighScore:','enemy3','webkitRequestFullscreen','\x20empty\x20after\x20validation!\x20Adding\x20fallback.','random','attacking','mid_curve_right','red','AbortError','bold\x2012px\x20\x27Press\x20Start\x202P\x27','ArrowLeft','number','rgba(255,\x20255,\x20180,\x200.9)','catch','Error\x20in\x20handleGamepadConnected:','targetGridX','new_path_left','radius','gridRow','buttons','1386826pYjtfg','mozRequestFullScreen','Geluiden/gameover.mp3','Afbeeldingen/Logo.png','rgba(180,\x20180,\x20255,\x200.1)','Afbeeldingen/Level-20.png','\x20is\x20not\x20an\x20array!\x20Using\x20basic\x20fallback.','ArrowDown','Fullscreen\x20error\x20(MS):\x20','pow','height','lineTo','KeyJ','msRequestFullscreen','moving_to_grid','ArrowRight','CS_LoopAttack_TL','1srSgDB','Geluiden/flying.mp3'];_0x4ec9=function(){return _0x320fd5;};return _0x4ec9();}function togglePause(){if(!isInGameState||playerLives<=0x0||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage)return;isPaused=!isPaused,isPaused?(pauseAllSounds(),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null):(resumeAllSounds(),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0));}function processSingleController(_0x5ddaa4,_0x22ceaa){const _0x4f0ec1=_0x291e01,_0x23ea76=_0x5ddaa4[_0x4f0ec1(0x1c0)][_0x4f0ec1(0x212)](_0x3b248d=>_0x3b248d[_0x4f0ec1(0x190)]),_0x558626={'left':![],'right':![],'shoot':![],'pause':![],'back':![],'newButtonStates':_0x23ea76['slice']()},_0x4ef528=_0x23ea76[PS5_BUTTON_CROSS],_0x44232e=_0x23ea76[PS5_BUTTON_R1],_0x232307=_0x22ceaa[PS5_BUTTON_R1]??![],_0x3480a5=_0x23ea76[PS5_BUTTON_TRIANGLE],_0x21519f=_0x22ceaa[PS5_BUTTON_TRIANGLE]??![],_0xf56a6b=_0x5ddaa4[_0x4f0ec1(0x173)][PS5_LEFT_STICK_X]??0x0,_0x5cf0d0=_0x23ea76[PS5_DPAD_LEFT],_0x5899dc=_0x23ea76[PS5_DPAD_RIGHT],_0x4d0a0e=AXIS_DEAD_ZONE_GAMEPLAY;if(_0xf56a6b<-_0x4d0a0e||_0x5cf0d0)_0x558626[_0x4f0ec1(0x1db)]=!![];else(_0xf56a6b>_0x4d0a0e||_0x5899dc)&&(_0x558626[_0x4f0ec1(0x208)]=!![]);return _0x4ef528&&(_0x558626[_0x4f0ec1(0x19d)]=!![]),_0x44232e&&!_0x232307&&(_0x558626['pause']=!![]),_0x3480a5&&!_0x21519f&&(_0x558626[_0x4f0ec1(0x1e6)]=!![]),_0x558626;}function triggerFinalGameOverSequence(){const _0x3cfb42=_0x291e01;if(isInGameState&&gameOverSequenceStartTime===0x0){isPaused=![],isShowingDemoText=![],isShowingIntro=![],isWaveTransitioning=![],showCsHitsMessage=![],showExtraLifeMessage=![],showPerfectMessage=![],showCSClearMessage=![],showCsHitsForClearMessage=![],showCsScoreForClearMessage=![],showReadyMessage=![],showCsBonusScoreMessage=![],isShowingPlayerGameOverMessage=![],isEntrancePhaseActive=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![];isManualControl&&saveHighScore();const _0x187be5=[gridBackgroundSound,entranceSound,butterflyDiveSound,startSound,coinSound,bossGalagaDiveSound,enemyShootSound,levelUpSound,playerShootSound,extraLifeSound,csPerfectSound,csClearSound,explosionSound,waveUpSound,menuMusicSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound,hiScoreSound];_0x187be5[_0x3cfb42(0x19a)](_0x33cabf=>stopSound(_0x33cabf)),isGridSoundPlaying=![];typeof enemies!==_0x3cfb42(0x1f7)&&Array[_0x3cfb42(0x210)](enemies)&&enemies[_0x3cfb42(0x19a)](_0x1617fc=>{const _0x39d552=_0x3cfb42;if(_0x1617fc?.[_0x39d552(0x1a0)]===_0x39d552(0x1b2)){if(_0x1617fc[_0x39d552(0x1a9)]===ENEMY3_TYPE)stopSound(bossGalagaDiveSound);else stopSound(butterflyDiveSound);}});const _0x1681d9=Date['now']();!isTwoPlayerMode?(playSound(gameOverSound),gameOverSequenceStartTime=_0x1681d9):gameOverSequenceStartTime=_0x1681d9-GAME_OVER_DURATION,bullets=[],enemyBullets=[],explosions=[],fallingShips=[],isDualShipActive=![],isShowingResultsScreen=![],previousButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[];}}function triggerGameOver(){triggerFinalGameOverSequence();}